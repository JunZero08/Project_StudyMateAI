/*! For license information please see main.7a95141c.js.LICENSE.txt */
(()=>{"use strict";var t={43:(t,e,n)=>{t.exports=n(202)},153:(t,e,n)=>{var i=n(43),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,n){var i,s={},c=null,u=null;for(i in void 0!==n&&(c=""+n),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(u=e.ref),e)o.call(e,i)&&!l.hasOwnProperty(i)&&(s[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps)void 0===s[i]&&(s[i]=e[i]);return{$$typeof:r,type:t,key:c,ref:u,props:s,_owner:a.current}}e.Fragment=s,e.jsx=c,e.jsxs=c},202:(t,e)=>{var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||p}function v(){}function b(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},y.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,g(w,y.prototype),w.isPureReactComponent=!0;var _=Array.isArray,x=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function k(t,e,i){var r,s={},o=null,a=null;if(null!=e)for(r in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=""+e.key),e)x.call(e,r)&&!S.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(1===l)s.children=i;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps)void 0===s[r]&&(s[r]=l[r]);return{$$typeof:n,type:t,key:o,ref:a,props:s,_owner:E.current}}function T(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var C=/\/+/g;function I(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(t){return e[t]})}(""+t.key):e.toString(36)}function A(t,e,r,s,o){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var l=!1;if(null===t)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case n:case i:l=!0}}if(l)return o=o(l=t),t=""===s?"."+I(l,0):s,_(o)?(r="",null!=t&&(r=t.replace(C,"$&/")+"/"),A(o,e,r,"",function(t){return t})):null!=o&&(T(o)&&(o=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(o,r+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+t)),e.push(o)),1;if(l=0,s=""===s?".":s+":",_(t))for(var c=0;c<t.length;c++){var u=s+I(a=t[c],c);l+=A(a,e,r,u,o)}else if(u=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t),"function"===typeof u)for(t=u.call(t),c=0;!(a=t.next()).done;)l+=A(a=a.value,e,r,u=s+I(a,c++),o);else if("object"===a)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function P(t,e,n){if(null==t)return t;var i=[],r=0;return A(t,i,"","",function(t){return e.call(n,t,r++)}),i}function R(t){if(-1===t._status){var e=t._result;(e=e()).then(function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)},function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)}),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var O={current:null},M={transition:null},D={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:M,ReactCurrentOwner:E};function N(){throw Error("act(...) is not supported in production builds of React.")}e.Children={map:P,forEach:function(t,e,n){P(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return P(t,function(){e++}),e},toArray:function(t){return P(t,function(t){return t})||[]},only:function(t){if(!T(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=y,e.Fragment=r,e.Profiler=o,e.PureComponent=b,e.StrictMode=s,e.Suspense=u,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,e.act=N,e.cloneElement=function(t,e,i){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=g({},t.props),s=t.key,o=t.ref,a=t._owner;if(null!=e){if(void 0!==e.ref&&(o=e.ref,a=E.current),void 0!==e.key&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)x.call(e,c)&&!S.hasOwnProperty(c)&&(r[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)r.children=i;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:n,type:t.type,key:s,ref:o,props:r,_owner:a}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=k,e.createFactory=function(t){var e=k.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:c,render:t}},e.isValidElement=T,e.lazy=function(t){return{$$typeof:d,_payload:{_status:-1,_result:t},_init:R}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=M.transition;M.transition={};try{t()}finally{M.transition=e}},e.unstable_act=N,e.useCallback=function(t,e){return O.current.useCallback(t,e)},e.useContext=function(t){return O.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return O.current.useDeferredValue(t)},e.useEffect=function(t,e){return O.current.useEffect(t,e)},e.useId=function(){return O.current.useId()},e.useImperativeHandle=function(t,e,n){return O.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return O.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return O.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return O.current.useMemo(t,e)},e.useReducer=function(t,e,n){return O.current.useReducer(t,e,n)},e.useRef=function(t){return O.current.useRef(t)},e.useState=function(t){return O.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return O.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return O.current.useTransition()},e.version="18.3.1"},234:(t,e)=>{function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var i=n-1>>>1,r=t[i];if(!(0<s(r,e)))break t;t[i]=e,t[n]=r,n=i}}function i(t){return 0===t.length?null:t[0]}function r(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var i=0,r=t.length,o=r>>>1;i<o;){var a=2*(i+1)-1,l=t[a],c=a+1,u=t[c];if(0>s(l,n))c<r&&0>s(u,l)?(t[i]=u,t[c]=n,i=c):(t[i]=l,t[a]=n,i=a);else{if(!(c<r&&0>s(u,n)))break t;t[i]=u,t[c]=n,i=c}}}return e}function s(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,g=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(t){for(var e=i(u);null!==e;){if(null===e.callback)r(u);else{if(!(e.startTime<=t))break;r(u),e.sortIndex=e.expirationTime,n(c,e)}e=i(u)}}function _(t){if(m=!1,w(t),!g)if(null!==i(c))g=!0,M(x);else{var e=i(u);null!==e&&D(_,e.startTime-t)}}function x(t,n){g=!1,m&&(m=!1,v(T),T=-1),p=!0;var s=f;try{for(w(n),d=i(c);null!==d&&(!(d.expirationTime>n)||t&&!A());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=e.unstable_now(),"function"===typeof a?d.callback=a:d===i(c)&&r(c),w(n)}else r(c);d=i(c)}if(null!==d)var l=!0;else{var h=i(u);null!==h&&D(_,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,k=null,T=-1,C=5,I=-1;function A(){return!(e.unstable_now()-I<C)}function P(){if(null!==k){var t=e.unstable_now();I=t;var n=!0;try{n=k(!0,t)}finally{n?E():(S=!1,k=null)}}else S=!1}if("function"===typeof b)E=function(){b(P)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,O=R.port2;R.port1.onmessage=P,E=function(){O.postMessage(null)}}else E=function(){y(P,0)};function M(t){k=t,S||(S=!0,E())}function D(t,n){T=y(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,M(x))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return i(c)},e.unstable_next=function(t){switch(f){case 1:case 2:case 3:var e=3;break;default:e=f}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_scheduleCallback=function(t,r,s){var o=e.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,t){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return t={id:h++,callback:r,priorityLevel:t,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(t.sortIndex=s,n(u,t),null===i(c)&&t===i(u)&&(m?(v(T),T=-1):m=!0,D(_,s-o))):(t.sortIndex=a,n(c,t),g||p||(g=!0,M(x))),t},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(t){var e=f;return function(){var n=f;f=e;try{return t.apply(this,arguments)}finally{f=n}}}},391:(t,e,n)=>{var i=n(950);e.H=i.createRoot,i.hydrateRoot},579:(t,e,n)=>{t.exports=n(153)},730:(t,e,n)=>{var i=n(43),r=n(853);function s(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(a[t]=e,t=0;t<e.length;t++)o.add(e[t])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(t,e,n,i,r,s,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){m[t]=new g(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];m[e]=new g(e,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){m[t]=new g(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){m[t]=new g(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){m[t]=new g(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){m[t]=new g(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){m[t]=new g(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){m[t]=new g(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){m[t]=new g(t,5,!1,t.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(t){return t[1].toUpperCase()}function b(t,e,n,i){var r=m.hasOwnProperty(e)?m[e]:null;(null!==r?0!==r.type:i||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,i){if(null===e||"undefined"===typeof e||function(t,e,n,i){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,r,i)&&(n=null),i||null===r?function(t){return!!h.call(p,t)||!h.call(f,t)&&(d.test(t)?p[t]=!0:(f[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=null===n?3!==r.type&&"":n:(e=r.attributeName,i=r.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(y,v);m[e]=new g(e,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(y,v);m[e]=new g(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(y,v);m[e]=new g(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!1,!1)}),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!0,!0)});var w=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function N(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=D&&t[D]||t["@@iterator"])?t:null}var L,F=Object.assign;function V(t){if(void 0===L)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);L=e&&e[1]||""}return"\n"+L+t}var U=!1;function z(t,e){if(!t||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),s=i.stack.split("\n"),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||r[o]!==s[a]){var l="\n"+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=o&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?V(t):""}function j(t){switch(t.tag){case 5:return V(t.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return t=z(t.type,!1);case 11:return t=z(t.type.render,!1);case 1:return t=z(t.type,!0);default:return""}}function B(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case E:return"Fragment";case x:return"Portal";case k:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case P:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case C:return(t.displayName||"Context")+".Consumer";case T:return(t._context.displayName||"Context")+".Provider";case I:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case R:return null!==(e=t.displayName||null)?e:B(t.type)||"Memo";case O:e=t._payload,t=t._init;try{return B(t(e))}catch(n){}}return null}function H(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(e);case 8:return e===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function W(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function q(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function K(t){t._valueTracker||(t._valueTracker=function(t){var e=q(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){i=""+t,s.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(t){i=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function G(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=q(t)?t.checked?"true":"false":t.value),(t=i)!==n&&(e.setValue(t),!0)}function Q(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Y(t,e){var n=e.checked;return F({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function X(t,e){var n=null==e.defaultValue?"":e.defaultValue,i=null!=e.checked?e.checked:e.defaultChecked;n=W(null!=e.value?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function J(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function $(t,e){J(t,e);var n=W(e.value),i=e.type;if(null!=n)"number"===i?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===i||"reset"===i)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,W(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Z(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!("submit"!==i&&"reset"!==i||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&Q(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+W(n),e=null,r=0;r<t.length;r++){if(t[r].value===n)return t[r].selected=!0,void(i&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function it(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(s(91));return F({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(s(92));if(et(n)){if(1<n.length)throw Error(s(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:W(n)}}function st(t,e){var n=W(e.value),i=W(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=i&&(t.defaultValue=""+i)}function ot(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function at(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?at(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ct,ut,ht=(ut=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ct=ct||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ct.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,i){MSApp.execUnsafeLocalFunction(function(){return ut(t,e)})}:ut);function dt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pt=["Webkit","ms","Moz","O"];function gt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||ft.hasOwnProperty(t)&&ft[t]?(""+e).trim():e+"px"}function mt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=gt(n,e[n],i);"float"===n&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}Object.keys(ft).forEach(function(t){pt.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ft[e]=ft[t]})});var yt=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vt(t,e){if(e){if(yt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(s(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(s(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(s(62))}}function bt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wt=null;function _t(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var xt=null,Et=null,St=null;function kt(t){if(t=br(t)){if("function"!==typeof xt)throw Error(s(280));var e=t.stateNode;e&&(e=_r(e),xt(t.stateNode,t.type,e))}}function Tt(t){Et?St?St.push(t):St=[t]:Et=t}function Ct(){if(Et){var t=Et,e=St;if(St=Et=null,kt(t),e)for(t=0;t<e.length;t++)kt(e[t])}}function It(t,e){return t(e)}function At(){}var Pt=!1;function Rt(t,e,n){if(Pt)return t(e,n);Pt=!0;try{return It(t,e,n)}finally{Pt=!1,(null!==Et||null!==St)&&(At(),Ct())}}function Ot(t,e){var n=t.stateNode;if(null===n)return null;var i=_r(n);if(null===i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(s(231,e,typeof n));return n}var Mt=!1;if(u)try{var Dt={};Object.defineProperty(Dt,"passive",{get:function(){Mt=!0}}),window.addEventListener("test",Dt,Dt),window.removeEventListener("test",Dt,Dt)}catch(ut){Mt=!1}function Nt(t,e,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Lt=!1,Ft=null,Vt=!1,Ut=null,zt={onError:function(t){Lt=!0,Ft=t}};function jt(t,e,n,i,r,s,o,a,l){Lt=!1,Ft=null,Nt.apply(zt,arguments)}function Bt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Ht(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Wt(t){if(Bt(t)!==t)throw Error(s(188))}function qt(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=Bt(t)))throw Error(s(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return Wt(r),t;if(o===i)return Wt(r),e;o=o.sibling}throw Error(s(188))}if(n.return!==i.return)n=r,i=o;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=o;break}if(l===i){a=!0,i=r,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,i=r;break}if(l===i){a=!0,i=o,n=r;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?t:e}(t))?Kt(t):null}function Kt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=Kt(t);if(null!==e)return e;t=t.sibling}return null}var Gt=r.unstable_scheduleCallback,Qt=r.unstable_cancelCallback,Yt=r.unstable_shouldYield,Xt=r.unstable_requestPaint,Jt=r.unstable_now,$t=r.unstable_getCurrentPriorityLevel,Zt=r.unstable_ImmediatePriority,te=r.unstable_UserBlockingPriority,ee=r.unstable_NormalPriority,ne=r.unstable_LowPriority,ie=r.unstable_IdlePriority,re=null,se=null;var oe=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(ae(t)/le|0)|0},ae=Math.log,le=Math.LN2;var ce=64,ue=4194304;function he(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function de(t,e){var n=t.pendingLanes;if(0===n)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=268435455&n;if(0!==o){var a=o&~r;0!==a?i=he(a):0!==(s&=o)&&(i=he(s))}else 0!==(o=n&~r)?i=he(o):0!==s&&(i=he(s));if(0===i)return 0;if(0!==e&&e!==i&&0===(e&r)&&((r=i&-i)>=(s=e&-e)||16===r&&0!==(4194240&s)))return e;if(0!==(4&i)&&(i|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=i;0<e;)r=1<<(n=31-oe(e)),i|=t[n],e&=~r;return i}function fe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function pe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function ge(){var t=ce;return 0===(4194240&(ce<<=1))&&(ce=64),t}function me(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ye(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-oe(e)]=n}function ve(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-oe(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var be=0;function we(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var _e,xe,Ee,Se,ke,Te=!1,Ce=[],Ie=null,Ae=null,Pe=null,Re=new Map,Oe=new Map,Me=[],De="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ne(t,e){switch(t){case"focusin":case"focusout":Ie=null;break;case"dragenter":case"dragleave":Ae=null;break;case"mouseover":case"mouseout":Pe=null;break;case"pointerover":case"pointerout":Re.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oe.delete(e.pointerId)}}function Le(t,e,n,i,r,s){return null===t||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},null!==e&&(null!==(e=br(e))&&xe(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,null!==r&&-1===e.indexOf(r)&&e.push(r),t)}function Fe(t){var e=vr(t.target);if(null!==e){var n=Bt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Ht(n)))return t.blockedOn=e,void ke(t.priority,function(){Ee(n)})}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Ve(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ye(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=br(n))&&xe(e),t.blockedOn=n,!1;var i=new(n=t.nativeEvent).constructor(n.type,n);wt=i,n.target.dispatchEvent(i),wt=null,e.shift()}return!0}function Ue(t,e,n){Ve(t)&&n.delete(e)}function ze(){Te=!1,null!==Ie&&Ve(Ie)&&(Ie=null),null!==Ae&&Ve(Ae)&&(Ae=null),null!==Pe&&Ve(Pe)&&(Pe=null),Re.forEach(Ue),Oe.forEach(Ue)}function je(t,e){t.blockedOn===e&&(t.blockedOn=null,Te||(Te=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ze)))}function Be(t){function e(e){return je(e,t)}if(0<Ce.length){je(Ce[0],t);for(var n=1;n<Ce.length;n++){var i=Ce[n];i.blockedOn===t&&(i.blockedOn=null)}}for(null!==Ie&&je(Ie,t),null!==Ae&&je(Ae,t),null!==Pe&&je(Pe,t),Re.forEach(e),Oe.forEach(e),n=0;n<Me.length;n++)(i=Me[n]).blockedOn===t&&(i.blockedOn=null);for(;0<Me.length&&null===(n=Me[0]).blockedOn;)Fe(n),null===n.blockedOn&&Me.shift()}var He=w.ReactCurrentBatchConfig,We=!0;function qe(t,e,n,i){var r=be,s=He.transition;He.transition=null;try{be=1,Ge(t,e,n,i)}finally{be=r,He.transition=s}}function Ke(t,e,n,i){var r=be,s=He.transition;He.transition=null;try{be=4,Ge(t,e,n,i)}finally{be=r,He.transition=s}}function Ge(t,e,n,i){if(We){var r=Ye(t,e,n,i);if(null===r)Wi(t,e,i,Qe,n),Ne(t,i);else if(function(t,e,n,i,r){switch(e){case"focusin":return Ie=Le(Ie,t,e,n,i,r),!0;case"dragenter":return Ae=Le(Ae,t,e,n,i,r),!0;case"mouseover":return Pe=Le(Pe,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Re.set(s,Le(Re.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Oe.set(s,Le(Oe.get(s)||null,t,e,n,i,r)),!0}return!1}(r,t,e,n,i))i.stopPropagation();else if(Ne(t,i),4&e&&-1<De.indexOf(t)){for(;null!==r;){var s=br(r);if(null!==s&&_e(s),null===(s=Ye(t,e,n,i))&&Wi(t,e,i,Qe,n),s===r)break;r=s}null!==r&&i.stopPropagation()}else Wi(t,e,i,null,n)}}var Qe=null;function Ye(t,e,n,i){if(Qe=null,null!==(t=vr(t=_t(i))))if(null===(e=Bt(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=Ht(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qe=t,null}function Xe(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($t()){case Zt:return 1;case te:return 4;case ee:case ne:return 16;case ie:return 536870912;default:return 16}default:return 16}}var Je=null,$e=null,Ze=null;function tn(){if(Ze)return Ze;var t,e,n=$e,i=n.length,r="value"in Je?Je.value:Je.textContent,s=r.length;for(t=0;t<i&&n[t]===r[t];t++);var o=i-t;for(e=1;e<=o&&n[i-e]===r[s-e];e++);return Ze=r.slice(t,1<e?1-e:void 0)}function en(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function nn(){return!0}function rn(){return!1}function sn(t){function e(e,n,i,r,s){for(var o in this._reactName=e,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=s,this.currentTarget=null,t)t.hasOwnProperty(o)&&(e=t[o],this[o]=e?e(r):r[o]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),e}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=F({},cn,{view:0,detail:0}),dn=sn(hn),fn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ln&&(ln&&"mousemove"===t.type?(on=t.screenX-ln.screenX,an=t.screenY-ln.screenY):an=on=0,ln=t),on)},movementY:function(t){return"movementY"in t?t.movementY:an}}),pn=sn(fn),gn=sn(F({},fn,{dataTransfer:0})),mn=sn(F({},hn,{relatedTarget:0})),yn=sn(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=F({},cn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bn=sn(vn),wn=sn(F({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=En[t])&&!!e[t]}function kn(){return Sn}var Tn=F({},hn,{key:function(t){if(t.key){var e=_n[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=en(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?xn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(t){return"keypress"===t.type?en(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?en(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Cn=sn(Tn),In=sn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=sn(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Pn=sn(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},fn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),On=sn(Rn),Mn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Nn=null;u&&"documentMode"in document&&(Nn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Nn,Fn=u&&(!Dn||Nn&&8<Nn&&11>=Nn),Vn=String.fromCharCode(32),Un=!1;function zn(t,e){switch(t){case"keyup":return-1!==Mn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Bn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Hn[t.type]:"textarea"===e}function qn(t,e,n,i){Tt(i),0<(e=Ki(e,"onChange")).length&&(n=new un("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Kn=null,Gn=null;function Qn(t){Vi(t,0)}function Yn(t){if(G(wr(t)))return t}function Xn(t,e){if("change"===t)return e}var Jn=!1;if(u){var $n;if(u){var Zn="oninput"in document;if(!Zn){var ti=document.createElement("div");ti.setAttribute("oninput","return;"),Zn="function"===typeof ti.oninput}$n=Zn}else $n=!1;Jn=$n&&(!document.documentMode||9<document.documentMode)}function ei(){Kn&&(Kn.detachEvent("onpropertychange",ni),Gn=Kn=null)}function ni(t){if("value"===t.propertyName&&Yn(Gn)){var e=[];qn(e,Gn,t,_t(t)),Rt(Qn,e)}}function ii(t,e,n){"focusin"===t?(ei(),Gn=n,(Kn=e).attachEvent("onpropertychange",ni)):"focusout"===t&&ei()}function ri(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Yn(Gn)}function si(t,e){if("click"===t)return Yn(e)}function oi(t,e){if("input"===t||"change"===t)return Yn(e)}var ai="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function li(t,e){if(ai(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!h.call(e,r)||!ai(t[r],e[r]))return!1}return!0}function ci(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ui(t,e){var n,i=ci(t);for(t=0;i;){if(3===i.nodeType){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=ci(i)}}function hi(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?hi(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function di(){for(var t=window,e=Q();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(i){n=!1}if(!n)break;e=Q((t=e.contentWindow).document)}return e}function fi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function pi(t){var e=di(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hi(n.ownerDocument.documentElement,n)){if(null!==i&&fi(n))if(e=i.start,void 0===(t=i.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=void 0===i.end?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=ui(n,s);var o=ui(n,i);r&&o&&(1!==t.rangeCount||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&((e=e.createRange()).setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gi=u&&"documentMode"in document&&11>=document.documentMode,mi=null,yi=null,vi=null,bi=!1;function wi(t,e,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;bi||null==mi||mi!==Q(i)||("selectionStart"in(i=mi)&&fi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},vi&&li(vi,i)||(vi=i,0<(i=Ki(yi,"onSelect")).length&&(e=new un("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=mi)))}function _i(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xi={animationend:_i("Animation","AnimationEnd"),animationiteration:_i("Animation","AnimationIteration"),animationstart:_i("Animation","AnimationStart"),transitionend:_i("Transition","TransitionEnd")},Ei={},Si={};function ki(t){if(Ei[t])return Ei[t];if(!xi[t])return t;var e,n=xi[t];for(e in n)if(n.hasOwnProperty(e)&&e in Si)return Ei[t]=n[e];return t}u&&(Si=document.createElement("div").style,"AnimationEvent"in window||(delete xi.animationend.animation,delete xi.animationiteration.animation,delete xi.animationstart.animation),"TransitionEvent"in window||delete xi.transitionend.transition);var Ti=ki("animationend"),Ci=ki("animationiteration"),Ii=ki("animationstart"),Ai=ki("transitionend"),Pi=new Map,Ri="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oi(t,e){Pi.set(t,e),l(e,[t])}for(var Mi=0;Mi<Ri.length;Mi++){var Di=Ri[Mi];Oi(Di.toLowerCase(),"on"+(Di[0].toUpperCase()+Di.slice(1)))}Oi(Ti,"onAnimationEnd"),Oi(Ci,"onAnimationIteration"),Oi(Ii,"onAnimationStart"),Oi("dblclick","onDoubleClick"),Oi("focusin","onFocus"),Oi("focusout","onBlur"),Oi(Ai,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ni="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Li=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ni));function Fi(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,i,r,o,a,l,c){if(jt.apply(this,arguments),Lt){if(!Lt)throw Error(s(198));var u=Ft;Lt=!1,Ft=null,Vt||(Vt=!0,Ut=u)}}(i,e,void 0,t),t.currentTarget=null}function Vi(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;t:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break t;Fi(r,a,c),s=l}else for(o=0;o<i.length;o++){if(l=(a=i[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break t;Fi(r,a,c),s=l}}}if(Vt)throw t=Ut,Vt=!1,Ut=null,t}function Ui(t,e){var n=e[gr];void 0===n&&(n=e[gr]=new Set);var i=t+"__bubble";n.has(i)||(Hi(e,t,2,!1),n.add(i))}function zi(t,e,n){var i=0;e&&(i|=4),Hi(n,t,i,e)}var ji="_reactListening"+Math.random().toString(36).slice(2);function Bi(t){if(!t[ji]){t[ji]=!0,o.forEach(function(e){"selectionchange"!==e&&(Li.has(e)||zi(e,!1,t),zi(e,!0,t))});var e=9===t.nodeType?t:t.ownerDocument;null===e||e[ji]||(e[ji]=!0,zi("selectionchange",!1,e))}}function Hi(t,e,n,i){switch(Xe(e)){case 1:var r=qe;break;case 4:r=Ke;break;default:r=Ge}n=r.bind(null,e,n,t),r=void 0,!Mt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(r=!0),i?void 0!==r?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):void 0!==r?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Wi(t,e,n,i,r){var s=i;if(0===(1&e)&&0===(2&e)&&null!==i)t:for(;;){if(null===i)return;var o=i.tag;if(3===o||4===o){var a=i.stateNode.containerInfo;if(a===r||8===a.nodeType&&a.parentNode===r)break;if(4===o)for(o=i.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;o=o.return}for(;null!==a;){if(null===(o=vr(a)))return;if(5===(l=o.tag)||6===l){i=s=o;continue t}a=a.parentNode}}i=i.return}Rt(function(){var i=s,r=_t(n),o=[];t:{var a=Pi.get(t);if(void 0!==a){var l=un,c=t;switch(t){case"keypress":if(0===en(n))break t;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case Ti:case Ci:case Ii:l=yn;break;case Ai:l=Pn;break;case"scroll":l=dn;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var u=0!==(4&e),h=!u&&"scroll"===t,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=i;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==d&&(null!=(g=Ot(p,d))&&u.push(qi(p,g,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,r),o.push({event:a,listeners:u}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(a="mouseover"===t||"pointerover"===t)||n===wt||!(c=n.relatedTarget||n.fromElement)||!vr(c)&&!c[pr])&&(l||a)&&(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?vr(c):null)&&(c!==(h=Bt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(u=pn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(u=In,g="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:wr(l),f=null==c?a:wr(c),(a=new u(g,p+"leave",l,n,r)).target=h,a.relatedTarget=f,g=null,vr(r)===i&&((u=new u(d,p+"enter",c,n,r)).target=f,u.relatedTarget=h,g=u),h=g,l&&c)t:{for(d=c,p=0,f=u=l;f;f=Gi(f))p++;for(f=0,g=d;g;g=Gi(g))f++;for(;0<p-f;)u=Gi(u),p--;for(;0<f-p;)d=Gi(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break t;u=Gi(u),d=Gi(d)}u=null}else u=null;null!==l&&Qi(o,a,l,u,!1),null!==c&&null!==h&&Qi(o,h,c,u,!0)}if("select"===(l=(a=i?wr(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Xn;else if(Wn(a))if(Jn)m=oi;else{m=ri;var y=ii}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=si);switch(m&&(m=m(t,i))?qn(o,m,n,r):(y&&y(t,a,i),"focusout"===t&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&tt(a,"number",a.value)),y=i?wr(i):window,t){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mi=y,yi=i,vi=null);break;case"focusout":vi=yi=mi=null;break;case"mousedown":bi=!0;break;case"contextmenu":case"mouseup":case"dragend":bi=!1,wi(o,n,r);break;case"selectionchange":if(gi)break;case"keydown":case"keyup":wi(o,n,r)}var v;if(Dn)t:{switch(t){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else Bn?zn(t,n)&&(b="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(v=tn()):($e="value"in(Je=r)?Je.value:Je.textContent,Bn=!0)),0<(y=Ki(i,b)).length&&(b=new wn(b,t,null,n,r),o.push({event:b,listeners:y}),v?b.data=v:null!==(v=jn(n))&&(b.data=v))),(v=Ln?function(t,e){switch(t){case"compositionend":return jn(e);case"keypress":return 32!==e.which?null:(Un=!0,Vn);case"textInput":return(t=e.data)===Vn&&Un?null:t;default:return null}}(t,n):function(t,e){if(Bn)return"compositionend"===t||!Dn&&zn(t,e)?(t=tn(),Ze=$e=Je=null,Bn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Fn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(i=Ki(i,"onBeforeInput")).length&&(r=new wn("onBeforeInput","beforeinput",null,n,r),o.push({event:r,listeners:i}),r.data=v))}Vi(o,e)})}function qi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ki(t,e){for(var n=e+"Capture",i=[];null!==t;){var r=t,s=r.stateNode;5===r.tag&&null!==s&&(r=s,null!=(s=Ot(t,n))&&i.unshift(qi(t,s,r)),null!=(s=Ot(t,e))&&i.push(qi(t,s,r))),t=t.return}return i}function Gi(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Qi(t,e,n,i,r){for(var s=e._reactName,o=[];null!==n&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===i)break;5===a.tag&&null!==c&&(a=c,r?null!=(l=Ot(n,s))&&o.unshift(qi(n,l,a)):r||null!=(l=Ot(n,s))&&o.push(qi(n,l,a))),n=n.return}0!==o.length&&t.push({event:e,listeners:o})}var Yi=/\r\n?/g,Xi=/\u0000|\uFFFD/g;function Ji(t){return("string"===typeof t?t:""+t).replace(Yi,"\n").replace(Xi,"")}function $i(t,e,n){if(e=Ji(e),Ji(t)!==e&&n)throw Error(s(425))}function Zi(){}var tr=null,er=null;function nr(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ir="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,sr="function"===typeof Promise?Promise:void 0,or="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sr?function(t){return sr.resolve(null).then(t).catch(ar)}:ir;function ar(t){setTimeout(function(){throw t})}function lr(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return t.removeChild(r),void Be(e);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);Be(e)}function cr(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function ur(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var hr=Math.random().toString(36).slice(2),dr="__reactFiber$"+hr,fr="__reactProps$"+hr,pr="__reactContainer$"+hr,gr="__reactEvents$"+hr,mr="__reactListeners$"+hr,yr="__reactHandles$"+hr;function vr(t){var e=t[dr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pr]||n[dr]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=ur(t);null!==t;){if(n=t[dr])return n;t=ur(t)}return e}n=(t=n).parentNode}return null}function br(t){return!(t=t[dr]||t[pr])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function wr(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(s(33))}function _r(t){return t[fr]||null}var xr=[],Er=-1;function Sr(t){return{current:t}}function kr(t){0>Er||(t.current=xr[Er],xr[Er]=null,Er--)}function Tr(t,e){Er++,xr[Er]=t.current,t.current=e}var Cr={},Ir=Sr(Cr),Ar=Sr(!1),Pr=Cr;function Rr(t,e){var n=t.type.contextTypes;if(!n)return Cr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in n)s[r]=e[r];return i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Or(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Mr(){kr(Ar),kr(Ir)}function Dr(t,e,n){if(Ir.current!==Cr)throw Error(s(168));Tr(Ir,e),Tr(Ar,n)}function Nr(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in e))throw Error(s(108,H(t)||"Unknown",r));return F({},n,i)}function Lr(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Cr,Pr=Ir.current,Tr(Ir,t),Tr(Ar,Ar.current),!0}function Fr(t,e,n){var i=t.stateNode;if(!i)throw Error(s(169));n?(t=Nr(t,e,Pr),i.__reactInternalMemoizedMergedChildContext=t,kr(Ar),kr(Ir),Tr(Ir,t)):kr(Ar),Tr(Ar,n)}var Vr=null,Ur=!1,zr=!1;function jr(t){null===Vr?Vr=[t]:Vr.push(t)}function Br(){if(!zr&&null!==Vr){zr=!0;var t=0,e=be;try{var n=Vr;for(be=1;t<n.length;t++){var i=n[t];do{i=i(!0)}while(null!==i)}Vr=null,Ur=!1}catch(r){throw null!==Vr&&(Vr=Vr.slice(t+1)),Gt(Zt,Br),r}finally{be=e,zr=!1}}return null}var Hr=[],Wr=0,qr=null,Kr=0,Gr=[],Qr=0,Yr=null,Xr=1,Jr="";function $r(t,e){Hr[Wr++]=Kr,Hr[Wr++]=qr,qr=t,Kr=e}function Zr(t,e,n){Gr[Qr++]=Xr,Gr[Qr++]=Jr,Gr[Qr++]=Yr,Yr=t;var i=Xr;t=Jr;var r=32-oe(i)-1;i&=~(1<<r),n+=1;var s=32-oe(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Xr=1<<32-oe(e)+r|n<<r|i,Jr=s+t}else Xr=1<<s|n<<r|i,Jr=t}function ts(t){null!==t.return&&($r(t,1),Zr(t,1,0))}function es(t){for(;t===qr;)qr=Hr[--Wr],Hr[Wr]=null,Kr=Hr[--Wr],Hr[Wr]=null;for(;t===Yr;)Yr=Gr[--Qr],Gr[Qr]=null,Jr=Gr[--Qr],Gr[Qr]=null,Xr=Gr[--Qr],Gr[Qr]=null}var ns=null,is=null,ss=!1,os=null;function as(t,e){var n=Mc(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function ls(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,ns=t,is=cr(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,ns=t,is=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==Yr?{id:Xr,overflow:Jr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=Mc(18,null,null,0)).stateNode=e,n.return=t,t.child=n,ns=t,is=null,!0);default:return!1}}function cs(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function us(t){if(ss){var e=is;if(e){var n=e;if(!ls(t,e)){if(cs(t))throw Error(s(418));e=cr(n.nextSibling);var i=ns;e&&ls(t,e)?as(i,n):(t.flags=-4097&t.flags|2,ss=!1,ns=t)}}else{if(cs(t))throw Error(s(418));t.flags=-4097&t.flags|2,ss=!1,ns=t}}}function hs(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;ns=t}function ds(t){if(t!==ns)return!1;if(!ss)return hs(t),ss=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!nr(t.type,t.memoizedProps)),e&&(e=is)){if(cs(t))throw fs(),Error(s(418));for(;e;)as(t,e),e=cr(e.nextSibling)}if(hs(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(s(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){is=cr(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}is=null}}else is=ns?cr(t.stateNode.nextSibling):null;return!0}function fs(){for(var t=is;t;)t=cr(t.nextSibling)}function ps(){is=ns=null,ss=!1}function gs(t){null===os?os=[t]:os.push(t)}var ms=w.ReactCurrentBatchConfig;function ys(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var i=n.stateNode}if(!i)throw Error(s(147,t));var r=i,o=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===o?e.ref:(e=function(t){var e=r.refs;null===t?delete e[o]:e[o]=t},e._stringRef=o,e)}if("string"!==typeof t)throw Error(s(284));if(!n._owner)throw Error(s(290,t))}return t}function vs(t,e){throw t=Object.prototype.toString.call(e),Error(s(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function bs(t){return(0,t._init)(t._payload)}function ws(t){function e(e,n){if(t){var i=e.deletions;null===i?(e.deletions=[n],e.flags|=16):i.push(n)}}function n(n,i){if(!t)return null;for(;null!==i;)e(n,i),i=i.sibling;return null}function i(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(t,e){return(t=Nc(t,e)).index=0,t.sibling=null,t}function o(e,n,i){return e.index=i,t?null!==(i=e.alternate)?(i=i.index)<n?(e.flags|=2,n):i:(e.flags|=2,n):(e.flags|=1048576,n)}function a(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,n,i){return null===e||6!==e.tag?((e=Uc(n,t.mode,i)).return=t,e):((e=r(e,n)).return=t,e)}function c(t,e,n,i){var s=n.type;return s===E?h(t,e,n.props.children,i,n.key):null!==e&&(e.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===O&&bs(s)===e.type)?((i=r(e,n.props)).ref=ys(t,e,n),i.return=t,i):((i=Lc(n.type,n.key,n.props,null,t.mode,i)).ref=ys(t,e,n),i.return=t,i)}function u(t,e,n,i){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=zc(n,t.mode,i)).return=t,e):((e=r(e,n.children||[])).return=t,e)}function h(t,e,n,i,s){return null===e||7!==e.tag?((e=Fc(n,t.mode,i,s)).return=t,e):((e=r(e,n)).return=t,e)}function d(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=Uc(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case _:return(n=Lc(e.type,e.key,e.props,null,t.mode,n)).ref=ys(t,null,e),n.return=t,n;case x:return(e=zc(e,t.mode,n)).return=t,e;case O:return d(t,(0,e._init)(e._payload),n)}if(et(e)||N(e))return(e=Fc(e,t.mode,n,null)).return=t,e;vs(t,e)}return null}function f(t,e,n,i){var r=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===r?c(t,e,n,i):null;case x:return n.key===r?u(t,e,n,i):null;case O:return f(t,e,(r=n._init)(n._payload),i)}if(et(n)||N(n))return null!==r?null:h(t,e,n,i,null);vs(t,n)}return null}function p(t,e,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return l(e,t=t.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case _:return c(e,t=t.get(null===i.key?n:i.key)||null,i,r);case x:return u(e,t=t.get(null===i.key?n:i.key)||null,i,r);case O:return p(t,e,n,(0,i._init)(i._payload),r)}if(et(i)||N(i))return h(e,t=t.get(n)||null,i,r,null);vs(e,i)}return null}function g(r,s,a,l){for(var c=null,u=null,h=s,g=s=0,m=null;null!==h&&g<a.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var y=f(r,h,a[g],l);if(null===y){null===h&&(h=m);break}t&&h&&null===y.alternate&&e(r,h),s=o(y,s,g),null===u?c=y:u.sibling=y,u=y,h=m}if(g===a.length)return n(r,h),ss&&$r(r,g),c;if(null===h){for(;g<a.length;g++)null!==(h=d(r,a[g],l))&&(s=o(h,s,g),null===u?c=h:u.sibling=h,u=h);return ss&&$r(r,g),c}for(h=i(r,h);g<a.length;g++)null!==(m=p(h,r,g,a[g],l))&&(t&&null!==m.alternate&&h.delete(null===m.key?g:m.key),s=o(m,s,g),null===u?c=m:u.sibling=m,u=m);return t&&h.forEach(function(t){return e(r,t)}),ss&&$r(r,g),c}function m(r,a,l,c){var u=N(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,g=a,m=a=0,y=null,v=l.next();null!==g&&!v.done;m++,v=l.next()){g.index>m?(y=g,g=null):y=g.sibling;var b=f(r,g,v.value,c);if(null===b){null===g&&(g=y);break}t&&g&&null===b.alternate&&e(r,g),a=o(b,a,m),null===h?u=b:h.sibling=b,h=b,g=y}if(v.done)return n(r,g),ss&&$r(r,m),u;if(null===g){for(;!v.done;m++,v=l.next())null!==(v=d(r,v.value,c))&&(a=o(v,a,m),null===h?u=v:h.sibling=v,h=v);return ss&&$r(r,m),u}for(g=i(r,g);!v.done;m++,v=l.next())null!==(v=p(g,r,m,v.value,c))&&(t&&null!==v.alternate&&g.delete(null===v.key?m:v.key),a=o(v,a,m),null===h?u=v:h.sibling=v,h=v);return t&&g.forEach(function(t){return e(r,t)}),ss&&$r(r,m),u}return function t(i,s,o,l){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:t:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===E){if(7===u.tag){n(i,u.sibling),(s=r(u,o.props.children)).return=i,i=s;break t}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&bs(c)===u.type){n(i,u.sibling),(s=r(u,o.props)).ref=ys(i,u,o),s.return=i,i=s;break t}n(i,u);break}e(i,u),u=u.sibling}o.type===E?((s=Fc(o.props.children,i.mode,l,o.key)).return=i,i=s):((l=Lc(o.type,o.key,o.props,null,i.mode,l)).ref=ys(i,s,o),l.return=i,i=l)}return a(i);case x:t:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(i,s.sibling),(s=r(s,o.children||[])).return=i,i=s;break t}n(i,s);break}e(i,s),s=s.sibling}(s=zc(o,i.mode,l)).return=i,i=s}return a(i);case O:return t(i,s,(u=o._init)(o._payload),l)}if(et(o))return g(i,s,o,l);if(N(o))return m(i,s,o,l);vs(i,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(i,s.sibling),(s=r(s,o)).return=i,i=s):(n(i,s),(s=Uc(o,i.mode,l)).return=i,i=s),a(i)):n(i,s)}}var _s=ws(!0),xs=ws(!1),Es=Sr(null),Ss=null,ks=null,Ts=null;function Cs(){Ts=ks=Ss=null}function Is(t){var e=Es.current;kr(Es),t._currentValue=e}function As(t,e,n){for(;null!==t;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==i&&(i.childLanes|=e)):null!==i&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Ps(t,e){Ss=t,Ts=ks=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(_a=!0),t.firstContext=null)}function Rs(t){var e=t._currentValue;if(Ts!==t)if(t={context:t,memoizedValue:e,next:null},null===ks){if(null===Ss)throw Error(s(308));ks=t,Ss.dependencies={lanes:0,firstContext:t}}else ks=ks.next=t;return e}var Os=null;function Ms(t){null===Os?Os=[t]:Os.push(t)}function Ds(t,e,n,i){var r=e.interleaved;return null===r?(n.next=n,Ms(e)):(n.next=r.next,r.next=n),e.interleaved=n,Ns(t,i)}function Ns(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var Ls=!1;function Vs(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Us(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function js(t,e,n){var i=t.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Pl)){var r=i.pending;return null===r?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Ns(t,n)}return null===(r=i.interleaved)?(e.next=e,Ms(i)):(e.next=r.next,r.next=e),i.interleaved=e,Ns(t,n)}function Bs(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&n))){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,ve(t,n)}}function Hs(t,e){var n=t.updateQueue,i=t.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?r=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?r=s=e:s=s.next=e}else r=s=e;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ws(t,e,n,i){var r=t.updateQueue;Ls=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(null!==a){r.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=t.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=r.baseState;for(o=0,u=c=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((i&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var p=t,g=a;switch(d=e,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(f,h,d);break t}h=p;break t;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=g.payload)?p.call(f,h,d):p)||void 0===d)break t;h=F({},h,d);break t;case 2:Ls=!0}}null!==a.callback&&0!==a.lane&&(t.flags|=64,null===(d=r.effects)?r.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,o|=d;if(null===(a=a.next)){if(null===(a=r.shared.pending))break;a=(d=a).next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}if(null===u&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null!==(e=r.shared.interleaved)){r=e;do{o|=r.lane,r=r.next}while(r!==e)}else null===s&&(r.shared.lanes=0);Vl|=o,t.lanes=o,t.memoizedState=h}}function qs(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(s(191,r));r.call(i)}}}var Ks={},Gs=Sr(Ks),Qs=Sr(Ks),Ys=Sr(Ks);function Xs(t){if(t===Ks)throw Error(s(174));return t}function Js(t,e){switch(Tr(Ys,e),Tr(Qs,t),Tr(Gs,Ks),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}kr(Gs),Tr(Gs,e)}function $s(){kr(Gs),kr(Qs),kr(Ys)}function Zs(t){Xs(Ys.current);var e=Xs(Gs.current),n=lt(e,t.type);e!==n&&(Tr(Qs,t),Tr(Gs,n))}function to(t){Qs.current===t&&(kr(Gs),kr(Qs))}var eo=Sr(0);function no(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var io=[];function ro(){for(var t=0;t<io.length;t++)io[t]._workInProgressVersionPrimary=null;io.length=0}var so=w.ReactCurrentDispatcher,oo=w.ReactCurrentBatchConfig,ao=0,lo=null,co=null,uo=null,ho=!1,fo=!1,po=0,go=0;function mo(){throw Error(s(321))}function yo(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ai(t[n],e[n]))return!1;return!0}function vo(t,e,n,i,r,o){if(ao=o,lo=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,so.current=null===t||null===t.memoizedState?ea:na,t=n(i,r),fo){o=0;do{if(fo=!1,po=0,25<=o)throw Error(s(301));o+=1,uo=co=null,e.updateQueue=null,so.current=ia,t=n(i,r)}while(fo)}if(so.current=ta,e=null!==co&&null!==co.next,ao=0,uo=co=lo=null,ho=!1,e)throw Error(s(300));return t}function bo(){var t=0!==po;return po=0,t}function wo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===uo?lo.memoizedState=uo=t:uo=uo.next=t,uo}function _o(){if(null===co){var t=lo.alternate;t=null!==t?t.memoizedState:null}else t=co.next;var e=null===uo?lo.memoizedState:uo.next;if(null!==e)uo=e,co=t;else{if(null===t)throw Error(s(310));t={memoizedState:(co=t).memoizedState,baseState:co.baseState,baseQueue:co.baseQueue,queue:co.queue,next:null},null===uo?lo.memoizedState=uo=t:uo=uo.next=t}return uo}function xo(t,e){return"function"===typeof e?e(t):e}function Eo(t){var e=_o(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var i=co,r=i.baseQueue,o=n.pending;if(null!==o){if(null!==r){var a=r.next;r.next=o.next,o.next=a}i.baseQueue=r=o,n.pending=null}if(null!==r){o=r.next,i=i.baseState;var l=a=null,c=null,u=o;do{var h=u.lane;if((ao&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:t(i,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=i):c=c.next=d,lo.lanes|=h,Vl|=h}u=u.next}while(null!==u&&u!==o);null===c?a=i:c.next=l,ai(i,e.memoizedState)||(_a=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=c,n.lastRenderedState=i}if(null!==(t=n.interleaved)){r=t;do{o=r.lane,lo.lanes|=o,Vl|=o,r=r.next}while(r!==t)}else null===r&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function So(t){var e=_o(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,o=e.memoizedState;if(null!==r){n.pending=null;var a=r=r.next;do{o=t(o,a.action),a=a.next}while(a!==r);ai(o,e.memoizedState)||(_a=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function ko(){}function To(t,e){var n=lo,i=_o(),r=e(),o=!ai(i.memoizedState,r);if(o&&(i.memoizedState=r,_a=!0),i=i.queue,Vo(Ao.bind(null,n,i,t),[t]),i.getSnapshot!==e||o||null!==uo&&1&uo.memoizedState.tag){if(n.flags|=2048,Mo(9,Io.bind(null,n,i,r,e),void 0,null),null===Rl)throw Error(s(349));0!==(30&ao)||Co(n,e,r)}return r}function Co(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=lo.updateQueue)?(e={lastEffect:null,stores:null},lo.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function Io(t,e,n,i){e.value=n,e.getSnapshot=i,Po(e)&&Ro(t)}function Ao(t,e,n){return n(function(){Po(e)&&Ro(t)})}function Po(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ai(t,n)}catch(i){return!0}}function Ro(t){var e=Ns(t,1);null!==e&&rc(e,t,1,-1)}function Oo(t){var e=wo();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:t},e.queue=t,t=t.dispatch=Xo.bind(null,lo,t),[e.memoizedState,t]}function Mo(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},null===(e=lo.updateQueue)?(e={lastEffect:null,stores:null},lo.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function Do(){return _o().memoizedState}function No(t,e,n,i){var r=wo();lo.flags|=t,r.memoizedState=Mo(1|e,n,void 0,void 0===i?null:i)}function Lo(t,e,n,i){var r=_o();i=void 0===i?null:i;var s=void 0;if(null!==co){var o=co.memoizedState;if(s=o.destroy,null!==i&&yo(i,o.deps))return void(r.memoizedState=Mo(e,n,s,i))}lo.flags|=t,r.memoizedState=Mo(1|e,n,s,i)}function Fo(t,e){return No(8390656,8,t,e)}function Vo(t,e){return Lo(2048,8,t,e)}function Uo(t,e){return Lo(4,2,t,e)}function zo(t,e){return Lo(4,4,t,e)}function jo(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Bo(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Lo(4,4,jo.bind(null,e,t),n)}function Ho(){}function Wo(t,e){var n=_o();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&yo(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function qo(t,e){var n=_o();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&yo(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Ko(t,e,n){return 0===(21&ao)?(t.baseState&&(t.baseState=!1,_a=!0),t.memoizedState=n):(ai(n,e)||(n=ge(),lo.lanes|=n,Vl|=n,t.baseState=!0),e)}function Go(t,e){var n=be;be=0!==n&&4>n?n:4,t(!0);var i=oo.transition;oo.transition={};try{t(!1),e()}finally{be=n,oo.transition=i}}function Qo(){return _o().memoizedState}function Yo(t,e,n){var i=ic(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Jo(t))$o(e,n);else if(null!==(n=Ds(t,e,n,i))){rc(n,t,i,nc()),Zo(n,e,i)}}function Xo(t,e,n){var i=ic(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jo(t))$o(e,r);else{var s=t.alternate;if(0===t.lanes&&(null===s||0===s.lanes)&&null!==(s=e.lastRenderedReducer))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,ai(a,o)){var l=e.interleaved;return null===l?(r.next=r,Ms(e)):(r.next=l.next,l.next=r),void(e.interleaved=r)}}catch(c){}null!==(n=Ds(t,e,r,i))&&(rc(n,t,i,r=nc()),Zo(n,e,i))}}function Jo(t){var e=t.alternate;return t===lo||null!==e&&e===lo}function $o(t,e){fo=ho=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Zo(t,e,n){if(0!==(4194240&n)){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,ve(t,n)}}var ta={readContext:Rs,useCallback:mo,useContext:mo,useEffect:mo,useImperativeHandle:mo,useInsertionEffect:mo,useLayoutEffect:mo,useMemo:mo,useReducer:mo,useRef:mo,useState:mo,useDebugValue:mo,useDeferredValue:mo,useTransition:mo,useMutableSource:mo,useSyncExternalStore:mo,useId:mo,unstable_isNewReconciler:!1},ea={readContext:Rs,useCallback:function(t,e){return wo().memoizedState=[t,void 0===e?null:e],t},useContext:Rs,useEffect:Fo,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,No(4194308,4,jo.bind(null,e,t),n)},useLayoutEffect:function(t,e){return No(4194308,4,t,e)},useInsertionEffect:function(t,e){return No(4,2,t,e)},useMemo:function(t,e){var n=wo();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=wo();return e=void 0!==n?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=Yo.bind(null,lo,t),[i.memoizedState,t]},useRef:function(t){return t={current:t},wo().memoizedState=t},useState:Oo,useDebugValue:Ho,useDeferredValue:function(t){return wo().memoizedState=t},useTransition:function(){var t=Oo(!1),e=t[0];return t=Go.bind(null,t[1]),wo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=lo,r=wo();if(ss){if(void 0===n)throw Error(s(407));n=n()}else{if(n=e(),null===Rl)throw Error(s(349));0!==(30&ao)||Co(i,e,n)}r.memoizedState=n;var o={value:n,getSnapshot:e};return r.queue=o,Fo(Ao.bind(null,i,o,t),[t]),i.flags|=2048,Mo(9,Io.bind(null,i,o,n,e),void 0,null),n},useId:function(){var t=wo(),e=Rl.identifierPrefix;if(ss){var n=Jr;e=":"+e+"R"+(n=(Xr&~(1<<32-oe(Xr)-1)).toString(32)+n),0<(n=po++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=go++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},na={readContext:Rs,useCallback:Wo,useContext:Rs,useEffect:Vo,useImperativeHandle:Bo,useInsertionEffect:Uo,useLayoutEffect:zo,useMemo:qo,useReducer:Eo,useRef:Do,useState:function(){return Eo(xo)},useDebugValue:Ho,useDeferredValue:function(t){return Ko(_o(),co.memoizedState,t)},useTransition:function(){return[Eo(xo)[0],_o().memoizedState]},useMutableSource:ko,useSyncExternalStore:To,useId:Qo,unstable_isNewReconciler:!1},ia={readContext:Rs,useCallback:Wo,useContext:Rs,useEffect:Vo,useImperativeHandle:Bo,useInsertionEffect:Uo,useLayoutEffect:zo,useMemo:qo,useReducer:So,useRef:Do,useState:function(){return So(xo)},useDebugValue:Ho,useDeferredValue:function(t){var e=_o();return null===co?e.memoizedState=t:Ko(e,co.memoizedState,t)},useTransition:function(){return[So(xo)[0],_o().memoizedState]},useMutableSource:ko,useSyncExternalStore:To,useId:Qo,unstable_isNewReconciler:!1};function ra(t,e){if(t&&t.defaultProps){for(var n in e=F({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}function sa(t,e,n,i){n=null===(n=n(i,e=t.memoizedState))||void 0===n?e:F({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var oa={isMounted:function(t){return!!(t=t._reactInternals)&&Bt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=nc(),r=ic(t),s=zs(i,r);s.payload=e,void 0!==n&&null!==n&&(s.callback=n),null!==(e=js(t,s,r))&&(rc(e,t,r,i),Bs(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=nc(),r=ic(t),s=zs(i,r);s.tag=1,s.payload=e,void 0!==n&&null!==n&&(s.callback=n),null!==(e=js(t,s,r))&&(rc(e,t,r,i),Bs(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=nc(),i=ic(t),r=zs(n,i);r.tag=2,void 0!==e&&null!==e&&(r.callback=e),null!==(e=js(t,r,i))&&(rc(e,t,i,n),Bs(e,t,i))}};function aa(t,e,n,i,r,s,o){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(i,s,o):!e.prototype||!e.prototype.isPureReactComponent||(!li(n,i)||!li(r,s))}function la(t,e,n){var i=!1,r=Cr,s=e.contextType;return"object"===typeof s&&null!==s?s=Rs(s):(r=Or(e)?Pr:Ir.current,s=(i=null!==(i=e.contextTypes)&&void 0!==i)?Rr(t,r):Cr),e=new e(n,s),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=oa,t.stateNode=e,e._reactInternals=t,i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function ca(t,e,n,i){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,i),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&oa.enqueueReplaceState(e,e.state,null)}function ua(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Vs(t);var s=e.contextType;"object"===typeof s&&null!==s?r.context=Rs(s):(s=Or(e)?Pr:Ir.current,r.context=Rr(t,s)),r.state=t.memoizedState,"function"===typeof(s=e.getDerivedStateFromProps)&&(sa(t,e,s,n),r.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(e=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),e!==r.state&&oa.enqueueReplaceState(r,r.state,null),Ws(t,n,r,i),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.flags|=4194308)}function ha(t,e){try{var n="",i=e;do{n+=j(i),i=i.return}while(i);var r=n}catch(s){r="\nError generating stack: "+s.message+"\n"+s.stack}return{value:t,source:e,stack:r,digest:null}}function da(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function fa(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var pa="function"===typeof WeakMap?WeakMap:Map;function ga(t,e,n){(n=zs(-1,n)).tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Kl||(Kl=!0,Gl=i),fa(0,e)},n}function ma(t,e,n){(n=zs(-1,n)).tag=3;var i=t.type.getDerivedStateFromError;if("function"===typeof i){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){fa(0,e)}}var s=t.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){fa(0,e),"function"!==typeof i&&(null===Ql?Ql=new Set([this]):Ql.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function ya(t,e,n){var i=t.pingCache;if(null===i){i=t.pingCache=new pa;var r=new Set;i.set(e,r)}else void 0===(r=i.get(e))&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=Cc.bind(null,t,e,n),e.then(t,t))}function va(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function ba(t,e,n,i,r){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=zs(-1,1)).tag=2,js(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=r,t)}var wa=w.ReactCurrentOwner,_a=!1;function xa(t,e,n,i){e.child=null===t?xs(e,null,n,i):_s(e,t.child,n,i)}function Ea(t,e,n,i,r){n=n.render;var s=e.ref;return Ps(e,r),i=vo(t,e,n,i,s,r),n=bo(),null===t||_a?(ss&&n&&ts(e),e.flags|=1,xa(t,e,i,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ka(t,e,r))}function Sa(t,e,n,i,r){if(null===t){var s=n.type;return"function"!==typeof s||Dc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Lc(n.type,null,i,e,e.mode,r)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=s,ka(t,e,s,i,r))}if(s=t.child,0===(t.lanes&r)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:li)(o,i)&&t.ref===e.ref)return Ka(t,e,r)}return e.flags|=1,(t=Nc(s,i)).ref=e.ref,t.return=e,e.child=t}function ka(t,e,n,i,r){if(null!==t){var s=t.memoizedProps;if(li(s,i)&&t.ref===e.ref){if(_a=!1,e.pendingProps=i=s,0===(t.lanes&r))return e.lanes=t.lanes,Ka(t,e,r);0!==(131072&t.flags)&&(_a=!0)}}return Ia(t,e,n,i,r)}function Ta(t,e,n){var i=e.pendingProps,r=i.children,s=null!==t?t.memoizedState:null;if("hidden"===i.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tr(Nl,Dl),Dl|=n;else{if(0===(1073741824&n))return t=null!==s?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Tr(Nl,Dl),Dl|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==s?s.baseLanes:n,Tr(Nl,Dl),Dl|=i}else null!==s?(i=s.baseLanes|n,e.memoizedState=null):i=n,Tr(Nl,Dl),Dl|=i;return xa(t,e,r,n),e.child}function Ca(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ia(t,e,n,i,r){var s=Or(n)?Pr:Ir.current;return s=Rr(e,s),Ps(e,r),n=vo(t,e,n,i,s,r),i=bo(),null===t||_a?(ss&&i&&ts(e),e.flags|=1,xa(t,e,n,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ka(t,e,r))}function Aa(t,e,n,i,r){if(Or(n)){var s=!0;Lr(e)}else s=!1;if(Ps(e,r),null===e.stateNode)qa(t,e),la(e,n,i),ua(e,n,i,r),i=!0;else if(null===t){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Rs(c):c=Rr(e,c=Or(n)?Pr:Ir.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==i||l!==c)&&ca(e,o,i,c),Ls=!1;var d=e.memoizedState;o.state=d,Ws(e,i,o,r),l=e.memoizedState,a!==i||d!==l||Ar.current||Ls?("function"===typeof u&&(sa(e,n,u,i),l=e.memoizedState),(a=Ls||aa(e,n,a,i,d,l,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(e.flags|=4194308)):("function"===typeof o.componentDidMount&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):("function"===typeof o.componentDidMount&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,Us(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:ra(e.type,a),o.props=c,h=e.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Rs(l):l=Rr(e,l=Or(n)?Pr:Ir.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&ca(e,o,i,l),Ls=!1,d=e.memoizedState,o.state=d,Ws(e,i,o,r);var p=e.memoizedState;a!==h||d!==p||Ar.current||Ls?("function"===typeof f&&(sa(e,n,f,i),p=e.memoizedState),(c=Ls||aa(e,n,c,i,d,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(i,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(i,p,l)),"function"===typeof o.componentDidUpdate&&(e.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),o.props=i,o.state=p,o.context=l,i=c):("function"!==typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),i=!1)}return Pa(t,e,n,i,s,r)}function Pa(t,e,n,i,r,s){Ca(t,e);var o=0!==(128&e.flags);if(!i&&!o)return r&&Fr(e,n,!1),Ka(t,e,s);i=e.stateNode,wa.current=e;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return e.flags|=1,null!==t&&o?(e.child=_s(e,t.child,null,s),e.child=_s(e,null,a,s)):xa(t,e,a,s),e.memoizedState=i.state,r&&Fr(e,n,!0),e.child}function Ra(t){var e=t.stateNode;e.pendingContext?Dr(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Dr(0,e.context,!1),Js(t,e.containerInfo)}function Oa(t,e,n,i,r){return ps(),gs(r),e.flags|=256,xa(t,e,n,i),e.child}var Ma,Da,Na,La,Fa={dehydrated:null,treeContext:null,retryLane:0};function Va(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ua(t,e,n){var i,r=e.pendingProps,o=eo.current,a=!1,l=0!==(128&e.flags);if((i=l)||(i=(null===t||null!==t.memoizedState)&&0!==(2&o)),i?(a=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(o|=1),Tr(eo,1&o),null===t)return us(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(l=r.children,t=r.fallback,a?(r=e.mode,a=e.child,l={mode:"hidden",children:l},0===(1&r)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Vc(l,r,0,null),t=Fc(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Va(n),e.memoizedState=Fa,t):za(e,l));if(null!==(o=t.memoizedState)&&null!==(i=o.dehydrated))return function(t,e,n,i,r,o,a){if(n)return 256&e.flags?(e.flags&=-257,ja(t,e,a,i=da(Error(s(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(o=i.fallback,r=e.mode,i=Vc({mode:"visible",children:i.children},r,0,null),(o=Fc(o,r,a,null)).flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,0!==(1&e.mode)&&_s(e,t.child,null,a),e.child.memoizedState=Va(a),e.memoizedState=Fa,o);if(0===(1&e.mode))return ja(t,e,a,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var l=i.dgst;return i=l,ja(t,e,a,i=da(o=Error(s(419)),i,void 0))}if(l=0!==(a&t.childLanes),_a||l){if(null!==(i=Rl)){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(i.suspendedLanes|a))?0:r)&&r!==o.retryLane&&(o.retryLane=r,Ns(t,r),rc(i,t,r,-1))}return yc(),ja(t,e,a,i=da(Error(s(421))))}return"$?"===r.data?(e.flags|=128,e.child=t.child,e=Ac.bind(null,t),r._reactRetry=e,null):(t=o.treeContext,is=cr(r.nextSibling),ns=e,ss=!0,os=null,null!==t&&(Gr[Qr++]=Xr,Gr[Qr++]=Jr,Gr[Qr++]=Yr,Xr=t.id,Jr=t.overflow,Yr=e),e=za(e,i.children),e.flags|=4096,e)}(t,e,l,r,i,o,n);if(a){a=r.fallback,l=e.mode,i=(o=t.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&l)&&e.child!==o?((r=e.child).childLanes=0,r.pendingProps=c,e.deletions=null):(r=Nc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==i?a=Nc(i,a):(a=Fc(a,l,n,null)).flags|=2,a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,l=null===(l=t.child.memoizedState)?Va(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=t.childLanes&~n,e.memoizedState=Fa,r}return t=(a=t.child).sibling,r=Nc(a,{mode:"visible",children:r.children}),0===(1&e.mode)&&(r.lanes=n),r.return=e,r.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function za(t,e){return(e=Vc({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function ja(t,e,n,i){return null!==i&&gs(i),_s(e,t.child,null,n),(t=za(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Ba(t,e,n){t.lanes|=e;var i=t.alternate;null!==i&&(i.lanes|=e),As(t.return,e,n)}function Ha(t,e,n,i,r){var s=t.memoizedState;null===s?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function Wa(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(xa(t,e,i.children,n),0!==(2&(i=eo.current)))i=1&i|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Ba(t,n,e);else if(19===t.tag)Ba(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Tr(eo,i),0===(1&e.mode))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;null!==n;)null!==(t=n.alternate)&&null===no(t)&&(r=n),n=n.sibling;null===(n=r)?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Ha(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;null!==r;){if(null!==(t=r.alternate)&&null===no(t)){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Ha(e,!0,n,null,s);break;case"together":Ha(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qa(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ka(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Vl|=e.lanes,0===(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(s(153));if(null!==e.child){for(n=Nc(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Nc(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Ga(t,e){if(!ss)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?e||null===t.tail?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Qa(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=t,r=r.sibling;else for(r=t.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Ya(t,e,n){var i=e.pendingProps;switch(es(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qa(e),null;case 1:case 17:return Or(e.type)&&Mr(),Qa(e),null;case 3:return i=e.stateNode,$s(),kr(Ar),kr(Ir),ro(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==t&&null!==t.child||(ds(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==os&&(lc(os),os=null))),Da(t,e),Qa(e),null;case 5:to(e);var r=Xs(Ys.current);if(n=e.type,null!==t&&null!=e.stateNode)Na(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(null===e.stateNode)throw Error(s(166));return Qa(e),null}if(t=Xs(Gs.current),ds(e)){i=e.stateNode,n=e.type;var o=e.memoizedProps;switch(i[dr]=e,i[fr]=o,t=0!==(1&e.mode),n){case"dialog":Ui("cancel",i),Ui("close",i);break;case"iframe":case"object":case"embed":Ui("load",i);break;case"video":case"audio":for(r=0;r<Ni.length;r++)Ui(Ni[r],i);break;case"source":Ui("error",i);break;case"img":case"image":case"link":Ui("error",i),Ui("load",i);break;case"details":Ui("toggle",i);break;case"input":X(i,o),Ui("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Ui("invalid",i);break;case"textarea":rt(i,o),Ui("invalid",i)}for(var l in vt(n,o),r=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?i.textContent!==c&&(!0!==o.suppressHydrationWarning&&$i(i.textContent,c,t),r=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&$i(i.textContent,c,t),r=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ui("scroll",i)}switch(n){case"input":K(i),Z(i,o,!0);break;case"textarea":K(i),ot(i);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(i.onclick=Zi)}i=r,e.updateQueue=i,null!==i&&(e.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=at(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof i.is?t=l.createElement(n,{is:i.is}):(t=l.createElement(n),"select"===n&&(l=t,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):t=l.createElementNS(t,n),t[dr]=e,t[fr]=i,Ma(t,e,!1,!1),e.stateNode=t;t:{switch(l=bt(n,i),n){case"dialog":Ui("cancel",t),Ui("close",t),r=i;break;case"iframe":case"object":case"embed":Ui("load",t),r=i;break;case"video":case"audio":for(r=0;r<Ni.length;r++)Ui(Ni[r],t);r=i;break;case"source":Ui("error",t),r=i;break;case"img":case"image":case"link":Ui("error",t),Ui("load",t),r=i;break;case"details":Ui("toggle",t),r=i;break;case"input":X(t,i),r=Y(t,i),Ui("invalid",t);break;case"option":default:r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=F({},i,{value:void 0}),Ui("invalid",t);break;case"textarea":rt(t,i),r=it(t,i),Ui("invalid",t)}for(o in vt(n,r),c=r)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?mt(t,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&ht(t,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&dt(t,u):"number"===typeof u&&dt(t,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Ui("scroll",t):null!=u&&b(t,o,u,l))}switch(n){case"input":K(t),Z(t,i,!1);break;case"textarea":K(t),ot(t);break;case"option":null!=i.value&&t.setAttribute("value",""+W(i.value));break;case"select":t.multiple=!!i.multiple,null!=(o=i.value)?nt(t,!!i.multiple,o,!1):null!=i.defaultValue&&nt(t,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(t.onclick=Zi)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Qa(e),null;case 6:if(t&&null!=e.stateNode)La(t,e,t.memoizedProps,i);else{if("string"!==typeof i&&null===e.stateNode)throw Error(s(166));if(n=Xs(Ys.current),Xs(Gs.current),ds(e)){if(i=e.stateNode,n=e.memoizedProps,i[dr]=e,(o=i.nodeValue!==n)&&null!==(t=ns))switch(t.tag){case 3:$i(i.nodeValue,n,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&$i(i.nodeValue,n,0!==(1&t.mode))}o&&(e.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[dr]=e,e.stateNode=i}return Qa(e),null;case 13:if(kr(eo),i=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(ss&&null!==is&&0!==(1&e.mode)&&0===(128&e.flags))fs(),ps(),e.flags|=98560,o=!1;else if(o=ds(e),null!==i&&null!==i.dehydrated){if(null===t){if(!o)throw Error(s(318));if(!(o=null!==(o=e.memoizedState)?o.dehydrated:null))throw Error(s(317));o[dr]=e}else ps(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Qa(e),o=!1}else null!==os&&(lc(os),os=null),o=!0;if(!o)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=n,e):((i=null!==i)!==(null!==t&&null!==t.memoizedState)&&i&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&eo.current)?0===Ll&&(Ll=3):yc())),null!==e.updateQueue&&(e.flags|=4),Qa(e),null);case 4:return $s(),Da(t,e),null===t&&Bi(e.stateNode.containerInfo),Qa(e),null;case 10:return Is(e.type._context),Qa(e),null;case 19:if(kr(eo),null===(o=e.memoizedState))return Qa(e),null;if(i=0!==(128&e.flags),null===(l=o.rendering))if(i)Ga(o,!1);else{if(0!==Ll||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(l=no(t))){for(e.flags|=128,Ga(o,!1),null!==(i=l.updateQueue)&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;null!==n;)t=i,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Tr(eo,1&eo.current|2),e.child}t=t.sibling}null!==o.tail&&Jt()>Wl&&(e.flags|=128,i=!0,Ga(o,!1),e.lanes=4194304)}else{if(!i)if(null!==(t=no(l))){if(e.flags|=128,i=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),Ga(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ss)return Qa(e),null}else 2*Jt()-o.renderingStartTime>Wl&&1073741824!==n&&(e.flags|=128,i=!0,Ga(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(null!==(n=o.last)?n.sibling=l:e.child=l,o.last=l)}return null!==o.tail?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Jt(),e.sibling=null,n=eo.current,Tr(eo,i?1&n|2:1&n),e):(Qa(e),null);case 22:case 23:return fc(),i=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==i&&(e.flags|=8192),i&&0!==(1&e.mode)?0!==(1073741824&Dl)&&(Qa(e),6&e.subtreeFlags&&(e.flags|=8192)):Qa(e),null;case 24:case 25:return null}throw Error(s(156,e.tag))}function Xa(t,e){switch(es(e),e.tag){case 1:return Or(e.type)&&Mr(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return $s(),kr(Ar),kr(Ir),ro(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return to(e),null;case 13:if(kr(eo),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(s(340));ps()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return kr(eo),null;case 4:return $s(),null;case 10:return Is(e.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ma=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Da=function(){},Na=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Xs(Gs.current);var s,o=null;switch(n){case"input":r=Y(t,r),i=Y(t,i),o=[];break;case"select":r=F({},r,{value:void 0}),i=F({},i,{value:void 0}),o=[];break;case"textarea":r=it(t,r),i=it(t,i),o=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(t.onclick=Zi)}for(u in vt(n,i),n=null,r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&null!=r[u])if("style"===u){var l=r[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in i){var c=i[u];if(l=null!=r?r[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ui("scroll",t),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}},La=function(t,e,n,i){n!==i&&(e.flags|=4)};var Ja=!1,$a=!1,Za="function"===typeof WeakSet?WeakSet:Set,tl=null;function el(t,e){var n=t.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){Tc(t,e,i)}else n.current=null}function nl(t,e,n){try{n()}catch(i){Tc(t,e,i)}}var il=!1;function rl(t,e,n){var i=e.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,void 0!==s&&nl(e,n,s)}r=r.next}while(r!==i)}}function sl(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function ol(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"===typeof e?e(t):e.current=t}}function al(t){var e=t.alternate;null!==e&&(t.alternate=null,al(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[dr],delete e[fr],delete e[gr],delete e[mr],delete e[yr])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ll(t){return 5===t.tag||3===t.tag||4===t.tag}function cl(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||ll(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function ul(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Zi));else if(4!==i&&null!==(t=t.child))for(ul(t,e,n),t=t.sibling;null!==t;)ul(t,e,n),t=t.sibling}function hl(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==i&&null!==(t=t.child))for(hl(t,e,n),t=t.sibling;null!==t;)hl(t,e,n),t=t.sibling}var dl=null,fl=!1;function pl(t,e,n){for(n=n.child;null!==n;)gl(t,e,n),n=n.sibling}function gl(t,e,n){if(se&&"function"===typeof se.onCommitFiberUnmount)try{se.onCommitFiberUnmount(re,n)}catch(a){}switch(n.tag){case 5:$a||el(n,e);case 6:var i=dl,r=fl;dl=null,pl(t,e,n),fl=r,null!==(dl=i)&&(fl?(t=dl,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(fl?(t=dl,n=n.stateNode,8===t.nodeType?lr(t.parentNode,n):1===t.nodeType&&lr(t,n),Be(t)):lr(dl,n.stateNode));break;case 4:i=dl,r=fl,dl=n.stateNode.containerInfo,fl=!0,pl(t,e,n),dl=i,fl=r;break;case 0:case 11:case 14:case 15:if(!$a&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&nl(n,e,o),r=r.next}while(r!==i)}pl(t,e,n);break;case 1:if(!$a&&(el(n,e),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Tc(n,e,a)}pl(t,e,n);break;case 21:pl(t,e,n);break;case 22:1&n.mode?($a=(i=$a)||null!==n.memoizedState,pl(t,e,n),$a=i):pl(t,e,n);break;default:pl(t,e,n)}}function ml(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Za),e.forEach(function(e){var i=Pc.bind(null,t,e);n.has(e)||(n.add(e),e.then(i,i))})}}function yl(t,e){var n=e.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var o=t,a=e,l=a;t:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,fl=!1;break t;case 3:case 4:dl=l.stateNode.containerInfo,fl=!0;break t}l=l.return}if(null===dl)throw Error(s(160));gl(o,a,r),dl=null,fl=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(u){Tc(r,e,u)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)vl(e,t),e=e.sibling}function vl(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yl(e,t),bl(t),4&i){try{rl(3,t,t.return),sl(3,t)}catch(m){Tc(t,t.return,m)}try{rl(5,t,t.return)}catch(m){Tc(t,t.return,m)}}break;case 1:yl(e,t),bl(t),512&i&&null!==n&&el(n,n.return);break;case 5:if(yl(e,t),bl(t),512&i&&null!==n&&el(n,n.return),32&t.flags){var r=t.stateNode;try{dt(r,"")}catch(m){Tc(t,t.return,m)}}if(4&i&&null!=(r=t.stateNode)){var o=t.memoizedProps,a=null!==n?n.memoizedProps:o,l=t.type,c=t.updateQueue;if(t.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&J(r,o),bt(l,a);var u=bt(l,o);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?mt(r,d):"dangerouslySetInnerHTML"===h?ht(r,d):"children"===h?dt(r,d):b(r,h,d,u)}switch(l){case"input":$(r,o);break;case"textarea":st(r,o);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?nt(r,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?nt(r,!!o.multiple,o.defaultValue,!0):nt(r,!!o.multiple,o.multiple?[]:"",!1))}r[fr]=o}catch(m){Tc(t,t.return,m)}}break;case 6:if(yl(e,t),bl(t),4&i){if(null===t.stateNode)throw Error(s(162));r=t.stateNode,o=t.memoizedProps;try{r.nodeValue=o}catch(m){Tc(t,t.return,m)}}break;case 3:if(yl(e,t),bl(t),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Be(e.containerInfo)}catch(m){Tc(t,t.return,m)}break;case 4:default:yl(e,t),bl(t);break;case 13:yl(e,t),bl(t),8192&(r=t.child).flags&&(o=null!==r.memoizedState,r.stateNode.isHidden=o,!o||null!==r.alternate&&null!==r.alternate.memoizedState||(Hl=Jt())),4&i&&ml(t);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&t.mode?($a=(u=$a)||h,yl(e,t),$a=u):yl(e,t),bl(t),8192&i){if(u=null!==t.memoizedState,(t.stateNode.isHidden=u)&&!h&&0!==(1&t.mode))for(tl=t,h=t.child;null!==h;){for(d=tl=h;null!==tl;){switch(p=(f=tl).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){i=f,n=f.return;try{e=i,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){Tc(i,n,m)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){El(d);continue}}null!==p?(p.return=f,tl=p):El(d)}h=h.sibling}t:for(h=null,d=t;;){if(5===d.tag){if(null===h){h=d;try{r=d.stateNode,u?"function"===typeof(o=r.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=gt("display",a))}catch(m){Tc(t,t.return,m)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){Tc(t,t.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===t)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===t)break t;for(;null===d.sibling;){if(null===d.return||d.return===t)break t;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:yl(e,t),bl(t),4&i&&ml(t);case 21:}}function bl(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(ll(n)){var i=n;break t}n=n.return}throw Error(s(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(dt(r,""),i.flags&=-33),hl(t,cl(t),r);break;case 3:case 4:var o=i.stateNode.containerInfo;ul(t,cl(t),o);break;default:throw Error(s(161))}}catch(Fs){Tc(t,t.return,Fs)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function wl(t,e,n){tl=t,_l(t,e,n)}function _l(t,e,n){for(var i=0!==(1&t.mode);null!==tl;){var r=tl,s=r.child;if(22===r.tag&&i){var o=null!==r.memoizedState||Ja;if(!o){var a=r.alternate,l=null!==a&&null!==a.memoizedState||$a;a=Ja;var c=$a;if(Ja=o,($a=l)&&!c)for(tl=r;null!==tl;)l=(o=tl).child,22===o.tag&&null!==o.memoizedState?Sl(r):null!==l?(l.return=o,tl=l):Sl(r);for(;null!==s;)tl=s,_l(s,e,n),s=s.sibling;tl=r,Ja=a,$a=c}xl(t)}else 0!==(8772&r.subtreeFlags)&&null!==s?(s.return=r,tl=s):xl(t)}}function xl(t){for(;null!==tl;){var e=tl;if(0!==(8772&e.flags)){var n=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:$a||sl(5,e);break;case 1:var i=e.stateNode;if(4&e.flags&&!$a)if(null===n)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:ra(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;null!==o&&qs(e,o,i);break;case 3:var a=e.updateQueue;if(null!==a){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}qs(e,a,n)}break;case 5:var l=e.stateNode;if(null===n&&4&e.flags){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var u=e.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Be(d)}}}break;default:throw Error(s(163))}$a||512&e.flags&&ol(e)}catch(f){Tc(e,e.return,f)}}if(e===t){tl=null;break}if(null!==(n=e.sibling)){n.return=e.return,tl=n;break}tl=e.return}}function El(t){for(;null!==tl;){var e=tl;if(e===t){tl=null;break}var n=e.sibling;if(null!==n){n.return=e.return,tl=n;break}tl=e.return}}function Sl(t){for(;null!==tl;){var e=tl;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{sl(4,e)}catch(Fs){Tc(e,n,Fs)}break;case 1:var i=e.stateNode;if("function"===typeof i.componentDidMount){var r=e.return;try{i.componentDidMount()}catch(Fs){Tc(e,r,Fs)}}var s=e.return;try{ol(e)}catch(Fs){Tc(e,s,Fs)}break;case 5:var o=e.return;try{ol(e)}catch(Fs){Tc(e,o,Fs)}}}catch(Fs){Tc(e,e.return,Fs)}if(e===t){tl=null;break}var a=e.sibling;if(null!==a){a.return=e.return,tl=a;break}tl=e.return}}var kl,Tl=Math.ceil,Cl=w.ReactCurrentDispatcher,Il=w.ReactCurrentOwner,Al=w.ReactCurrentBatchConfig,Pl=0,Rl=null,Ol=null,Ml=0,Dl=0,Nl=Sr(0),Ll=0,Fl=null,Vl=0,Ul=0,zl=0,jl=null,Bl=null,Hl=0,Wl=1/0,ql=null,Kl=!1,Gl=null,Ql=null,Yl=!1,Xl=null,Jl=0,$l=0,Zl=null,tc=-1,ec=0;function nc(){return 0!==(6&Pl)?Jt():-1!==tc?tc:tc=Jt()}function ic(t){return 0===(1&t.mode)?1:0!==(2&Pl)&&0!==Ml?Ml&-Ml:null!==ms.transition?(0===ec&&(ec=ge()),ec):0!==(t=be)?t:t=void 0===(t=window.event)?16:Xe(t.type)}function rc(t,e,n,i){if(50<$l)throw $l=0,Zl=null,Error(s(185));ye(t,n,i),0!==(2&Pl)&&t===Rl||(t===Rl&&(0===(2&Pl)&&(Ul|=n),4===Ll&&cc(t,Ml)),sc(t,i),1===n&&0===Pl&&0===(1&e.mode)&&(Wl=Jt()+500,Ur&&Br()))}function sc(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-oe(s),a=1<<o,l=r[o];-1===l?0!==(a&n)&&0===(a&i)||(r[o]=fe(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}(t,e);var i=de(t,t===Rl?Ml:0);if(0===i)null!==n&&Qt(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(null!=n&&Qt(n),1===e)0===t.tag?function(t){Ur=!0,jr(t)}(uc.bind(null,t)):jr(uc.bind(null,t)),or(function(){0===(6&Pl)&&Br()}),n=null;else{switch(we(i)){case 1:n=Zt;break;case 4:n=te;break;case 16:default:n=ee;break;case 536870912:n=ie}n=Rc(n,oc.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function oc(t,e){if(tc=-1,ec=0,0!==(6&Pl))throw Error(s(327));var n=t.callbackNode;if(Sc()&&t.callbackNode!==n)return null;var i=de(t,t===Rl?Ml:0);if(0===i)return null;if(0!==(30&i)||0!==(i&t.expiredLanes)||e)e=vc(t,i);else{e=i;var r=Pl;Pl|=2;var o=mc();for(Rl===t&&Ml===e||(ql=null,Wl=Jt()+500,pc(t,e));;)try{wc();break}catch(l){gc(t,l)}Cs(),Cl.current=o,Pl=r,null!==Ol?e=0:(Rl=null,Ml=0,e=Ll)}if(0!==e){if(2===e&&(0!==(r=pe(t))&&(i=r,e=ac(t,r))),1===e)throw n=Fl,pc(t,0),cc(t,i),sc(t,Jt()),n;if(6===e)cc(t,i);else{if(r=t.current.alternate,0===(30&i)&&!function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!ai(s(),r))return!1}catch(a){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(r)&&(2===(e=vc(t,i))&&(0!==(o=pe(t))&&(i=o,e=ac(t,o))),1===e))throw n=Fl,pc(t,0),cc(t,i),sc(t,Jt()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(s(345));case 2:case 5:Ec(t,Bl,ql);break;case 3:if(cc(t,i),(130023424&i)===i&&10<(e=Hl+500-Jt())){if(0!==de(t,0))break;if(((r=t.suspendedLanes)&i)!==i){nc(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=ir(Ec.bind(null,t,Bl,ql),e);break}Ec(t,Bl,ql);break;case 4:if(cc(t,i),(4194240&i)===i)break;for(e=t.eventTimes,r=-1;0<i;){var a=31-oe(i);o=1<<a,(a=e[a])>r&&(r=a),i&=~o}if(i=r,10<(i=(120>(i=Jt()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Tl(i/1960))-i)){t.timeoutHandle=ir(Ec.bind(null,t,Bl,ql),i);break}Ec(t,Bl,ql);break;default:throw Error(s(329))}}}return sc(t,Jt()),t.callbackNode===n?oc.bind(null,t):null}function ac(t,e){var n=jl;return t.current.memoizedState.isDehydrated&&(pc(t,e).flags|=256),2!==(t=vc(t,e))&&(e=Bl,Bl=n,null!==e&&lc(e)),t}function lc(t){null===Bl?Bl=t:Bl.push.apply(Bl,t)}function cc(t,e){for(e&=~zl,e&=~Ul,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-oe(e),i=1<<n;t[n]=-1,e&=~i}}function uc(t){if(0!==(6&Pl))throw Error(s(327));Sc();var e=de(t,0);if(0===(1&e))return sc(t,Jt()),null;var n=vc(t,e);if(0!==t.tag&&2===n){var i=pe(t);0!==i&&(e=i,n=ac(t,i))}if(1===n)throw n=Fl,pc(t,0),cc(t,e),sc(t,Jt()),n;if(6===n)throw Error(s(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ec(t,Bl,ql),sc(t,Jt()),null}function hc(t,e){var n=Pl;Pl|=1;try{return t(e)}finally{0===(Pl=n)&&(Wl=Jt()+500,Ur&&Br())}}function dc(t){null!==Xl&&0===Xl.tag&&0===(6&Pl)&&Sc();var e=Pl;Pl|=1;var n=Al.transition,i=be;try{if(Al.transition=null,be=1,t)return t()}finally{be=i,Al.transition=n,0===(6&(Pl=e))&&Br()}}function fc(){Dl=Nl.current,kr(Nl)}function pc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,rr(n)),null!==Ol)for(n=Ol.return;null!==n;){var i=n;switch(es(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Mr();break;case 3:$s(),kr(Ar),kr(Ir),ro();break;case 5:to(i);break;case 4:$s();break;case 13:case 19:kr(eo);break;case 10:Is(i.type._context);break;case 22:case 23:fc()}n=n.return}if(Rl=t,Ol=t=Nc(t.current,null),Ml=Dl=e,Ll=0,Fl=null,zl=Ul=Vl=0,Bl=jl=null,null!==Os){for(e=0;e<Os.length;e++)if(null!==(i=(n=Os[e]).interleaved)){n.interleaved=null;var r=i.next,s=n.pending;if(null!==s){var o=s.next;s.next=r,i.next=o}n.pending=i}Os=null}return t}function gc(t,e){for(;;){var n=Ol;try{if(Cs(),so.current=ta,ho){for(var i=lo.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}ho=!1}if(ao=0,uo=co=lo=null,fo=!1,po=0,Il.current=null,null===n||null===n.return){Ll=1,Fl=e,Ol=null;break}t:{var o=t,a=n.return,l=n,c=e;if(e=Ml,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=va(a);if(null!==p){p.flags&=-257,ba(p,a,l,0,e),1&p.mode&&ya(o,u,e),c=u;var g=(e=p).updateQueue;if(null===g){var m=new Set;m.add(c),e.updateQueue=m}else g.add(c);break t}if(0===(1&e)){ya(o,u,e),yc();break t}c=Error(s(426))}else if(ss&&1&l.mode){var y=va(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ba(y,a,l,0,e),gs(ha(c,l));break t}}o=c=ha(c,l),4!==Ll&&(Ll=2),null===jl?jl=[o]:jl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e,Hs(o,ga(0,c,e));break t;case 1:l=c;var v=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ql||!Ql.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e,Hs(o,ma(o,l,e));break t}}o=o.return}while(null!==o)}xc(n)}catch(w){e=w,Ol===n&&null!==n&&(Ol=n=n.return);continue}break}}function mc(){var t=Cl.current;return Cl.current=ta,null===t?ta:t}function yc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Rl||0===(268435455&Vl)&&0===(268435455&Ul)||cc(Rl,Ml)}function vc(t,e){var n=Pl;Pl|=2;var i=mc();for(Rl===t&&Ml===e||(ql=null,pc(t,e));;)try{bc();break}catch(r){gc(t,r)}if(Cs(),Pl=n,Cl.current=i,null!==Ol)throw Error(s(261));return Rl=null,Ml=0,Ll}function bc(){for(;null!==Ol;)_c(Ol)}function wc(){for(;null!==Ol&&!Yt();)_c(Ol)}function _c(t){var e=kl(t.alternate,t,Dl);t.memoizedProps=t.pendingProps,null===e?xc(t):Ol=e,Il.current=null}function xc(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(n=Ya(n,e,Dl)))return void(Ol=n)}else{if(null!==(n=Xa(n,e)))return n.flags&=32767,void(Ol=n);if(null===t)return Ll=6,void(Ol=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Ol=e);Ol=e=t}while(null!==e);0===Ll&&(Ll=5)}function Ec(t,e,n){var i=be,r=Al.transition;try{Al.transition=null,be=1,function(t,e,n,i){do{Sc()}while(null!==Xl);if(0!==(6&Pl))throw Error(s(327));n=t.finishedWork;var r=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-oe(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}(t,o),t===Rl&&(Ol=Rl=null,Ml=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yl||(Yl=!0,Rc(ee,function(){return Sc(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Al.transition,Al.transition=null;var a=be;be=1;var l=Pl;Pl|=4,Il.current=null,function(t,e){if(tr=We,fi(t=di())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var i=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(rs){n=null;break t}var a=0,l=-1,c=-1,u=0,h=0,d=t,f=null;e:for(;;){for(var p;d!==n||0!==r&&3!==d.nodeType||(l=a+r),d!==o||0!==i&&3!==d.nodeType||(c=a+i),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===t)break e;if(f===n&&++u===r&&(l=a),f===o&&++h===i&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(er={focusedElem:t,selectionRange:n},We=!1,tl=e;null!==tl;)if(t=(e=tl).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,tl=t;else for(;null!==tl;){e=tl;try{var g=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,y=g.memoizedState,v=e.stateNode,b=v.getSnapshotBeforeUpdate(e.elementType===e.type?m:ra(e.type,m),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(rs){Tc(e,e.return,rs)}if(null!==(t=e.sibling)){t.return=e.return,tl=t;break}tl=e.return}g=il,il=!1}(t,n),vl(n,t),pi(er),We=!!tr,er=tr=null,t.current=n,wl(n,t,r),Xt(),Pl=l,be=a,Al.transition=o}else t.current=n;if(Yl&&(Yl=!1,Xl=t,Jl=r),o=t.pendingLanes,0===o&&(Ql=null),function(t){if(se&&"function"===typeof se.onCommitFiberRoot)try{se.onCommitFiberRoot(re,t,void 0,128===(128&t.current.flags))}catch(e){}}(n.stateNode),sc(t,Jt()),null!==e)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Kl)throw Kl=!1,t=Gl,Gl=null,t;0!==(1&Jl)&&0!==t.tag&&Sc(),o=t.pendingLanes,0!==(1&o)?t===Zl?$l++:($l=0,Zl=t):$l=0,Br()}(t,e,n,i)}finally{Al.transition=r,be=i}return null}function Sc(){if(null!==Xl){var t=we(Jl),e=Al.transition,n=be;try{if(Al.transition=null,be=16>t?16:t,null===Xl)var i=!1;else{if(t=Xl,Xl=null,Jl=0,0!==(6&Pl))throw Error(s(331));var r=Pl;for(Pl|=4,tl=t.current;null!==tl;){var o=tl,a=o.child;if(0!==(16&tl.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(tl=u;null!==tl;){var h=tl;switch(h.tag){case 0:case 11:case 15:rl(8,h,o)}var d=h.child;if(null!==d)d.return=h,tl=d;else for(;null!==tl;){var f=(h=tl).sibling,p=h.return;if(al(h),h===u){tl=null;break}if(null!==f){f.return=p,tl=f;break}tl=p}}}var g=o.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}tl=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,tl=a;else t:for(;null!==tl;){if(0!==(2048&(o=tl).flags))switch(o.tag){case 0:case 11:case 15:rl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,tl=v;break t}tl=o.return}}var b=t.current;for(tl=b;null!==tl;){var w=(a=tl).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,tl=w;else t:for(a=b;null!==tl;){if(0!==(2048&(l=tl).flags))try{switch(l.tag){case 0:case 11:case 15:sl(9,l)}}catch(x){Tc(l,l.return,x)}if(l===a){tl=null;break t}var _=l.sibling;if(null!==_){_.return=l.return,tl=_;break t}tl=l.return}}if(Pl=r,Br(),se&&"function"===typeof se.onPostCommitFiberRoot)try{se.onPostCommitFiberRoot(re,t)}catch(x){}i=!0}return i}finally{be=n,Al.transition=e}}return!1}function kc(t,e,n){t=js(t,e=ga(0,e=ha(n,e),1),1),e=nc(),null!==t&&(ye(t,1,e),sc(t,e))}function Tc(t,e,n){if(3===t.tag)kc(t,t,n);else for(;null!==e;){if(3===e.tag){kc(e,t,n);break}if(1===e.tag){var i=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Ql||!Ql.has(i))){e=js(e,t=ma(e,t=ha(n,t),1),1),t=nc(),null!==e&&(ye(e,1,t),sc(e,t));break}}e=e.return}}function Cc(t,e,n){var i=t.pingCache;null!==i&&i.delete(e),e=nc(),t.pingedLanes|=t.suspendedLanes&n,Rl===t&&(Ml&n)===n&&(4===Ll||3===Ll&&(130023424&Ml)===Ml&&500>Jt()-Hl?pc(t,0):zl|=n),sc(t,e)}function Ic(t,e){0===e&&(0===(1&t.mode)?e=1:(e=ue,0===(130023424&(ue<<=1))&&(ue=4194304)));var n=nc();null!==(t=Ns(t,e))&&(ye(t,e,n),sc(t,n))}function Ac(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),Ic(t,n)}function Pc(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(s(314))}null!==i&&i.delete(e),Ic(t,n)}function Rc(t,e){return Gt(t,e)}function Oc(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mc(t,e,n,i){return new Oc(t,e,n,i)}function Dc(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Nc(t,e){var n=t.alternate;return null===n?((n=Mc(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Lc(t,e,n,i,r,o){var a=2;if(i=t,"function"===typeof t)Dc(t)&&(a=1);else if("string"===typeof t)a=5;else t:switch(t){case E:return Fc(n.children,r,o,e);case S:a=8,r|=8;break;case k:return(t=Mc(12,n,e,2|r)).elementType=k,t.lanes=o,t;case A:return(t=Mc(13,n,e,r)).elementType=A,t.lanes=o,t;case P:return(t=Mc(19,n,e,r)).elementType=P,t.lanes=o,t;case M:return Vc(n,r,o,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case T:a=10;break t;case C:a=9;break t;case I:a=11;break t;case R:a=14;break t;case O:a=16,i=null;break t}throw Error(s(130,null==t?t:typeof t,""))}return(e=Mc(a,n,e,r)).elementType=t,e.type=i,e.lanes=o,e}function Fc(t,e,n,i){return(t=Mc(7,t,i,e)).lanes=n,t}function Vc(t,e,n,i){return(t=Mc(22,t,i,e)).elementType=M,t.lanes=n,t.stateNode={isHidden:!1},t}function Uc(t,e,n){return(t=Mc(6,t,null,e)).lanes=n,t}function zc(t,e,n){return(e=Mc(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jc(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=me(0),this.expirationTimes=me(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=me(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Bc(t,e,n,i,r,s,o,a,l){return t=new jc(t,e,n,a,l),1===e?(e=1,!0===s&&(e|=8)):e=0,s=Mc(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vs(s),t}function Hc(t){if(!t)return Cr;t:{if(Bt(t=t._reactInternals)!==t||1!==t.tag)throw Error(s(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Or(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(s(171))}if(1===t.tag){var n=t.type;if(Or(n))return Nr(t,n,e)}return e}function Wc(t,e,n,i,r,s,o,a,l){return(t=Bc(n,i,!0,t,0,s,0,a,l)).context=Hc(null),n=t.current,(s=zs(i=nc(),r=ic(n))).callback=void 0!==e&&null!==e?e:null,js(n,s,r),t.current.lanes=r,ye(t,r,i),sc(t,i),t}function qc(t,e,n,i){var r=e.current,s=nc(),o=ic(r);return n=Hc(n),null===e.context?e.context=n:e.pendingContext=n,(e=zs(s,o)).payload={element:t},null!==(i=void 0===i?null:i)&&(e.callback=i),null!==(t=js(r,e,o))&&(rc(t,r,o,s),Bs(t,r,o)),o}function Kc(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Gc(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Qc(t,e){Gc(t,e),(t=t.alternate)&&Gc(t,e)}kl=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||Ar.current)_a=!0;else{if(0===(t.lanes&n)&&0===(128&e.flags))return _a=!1,function(t,e,n){switch(e.tag){case 3:Ra(e),ps();break;case 5:Zs(e);break;case 1:Or(e.type)&&Lr(e);break;case 4:Js(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Tr(Es,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=e.memoizedState))return null!==i.dehydrated?(Tr(eo,1&eo.current),e.flags|=128,null):0!==(n&e.child.childLanes)?Ua(t,e,n):(Tr(eo,1&eo.current),null!==(t=Ka(t,e,n))?t.sibling:null);Tr(eo,1&eo.current);break;case 19:if(i=0!==(n&e.childLanes),0!==(128&t.flags)){if(i)return Wa(t,e,n);e.flags|=128}if(null!==(r=e.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Tr(eo,eo.current),i)break;return null;case 22:case 23:return e.lanes=0,Ta(t,e,n)}return Ka(t,e,n)}(t,e,n);_a=0!==(131072&t.flags)}else _a=!1,ss&&0!==(1048576&e.flags)&&Zr(e,Kr,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;qa(t,e),t=e.pendingProps;var r=Rr(e,Ir.current);Ps(e,n),r=vo(null,e,i,t,r,n);var o=bo();return e.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Or(i)?(o=!0,Lr(e)):o=!1,e.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Vs(e),r.updater=oa,e.stateNode=r,r._reactInternals=e,ua(e,i,t,n),e=Pa(null,e,i,!0,o,n)):(e.tag=0,ss&&o&&ts(e),xa(null,e,r,n),e=e.child),e;case 16:i=e.elementType;t:{switch(qa(t,e),t=e.pendingProps,i=(r=i._init)(i._payload),e.type=i,r=e.tag=function(t){if("function"===typeof t)return Dc(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===I)return 11;if(t===R)return 14}return 2}(i),t=ra(i,t),r){case 0:e=Ia(null,e,i,t,n);break t;case 1:e=Aa(null,e,i,t,n);break t;case 11:e=Ea(null,e,i,t,n);break t;case 14:e=Sa(null,e,i,ra(i.type,t),n);break t}throw Error(s(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,Ia(t,e,i,r=e.elementType===i?r:ra(i,r),n);case 1:return i=e.type,r=e.pendingProps,Aa(t,e,i,r=e.elementType===i?r:ra(i,r),n);case 3:t:{if(Ra(e),null===t)throw Error(s(387));i=e.pendingProps,r=(o=e.memoizedState).element,Us(t,e),Ws(e,i,null,n);var a=e.memoizedState;if(i=a.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,256&e.flags){e=Oa(t,e,i,n,r=ha(Error(s(423)),e));break t}if(i!==r){e=Oa(t,e,i,n,r=ha(Error(s(424)),e));break t}for(is=cr(e.stateNode.containerInfo.firstChild),ns=e,ss=!0,os=null,n=xs(e,null,i,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ps(),i===r){e=Ka(t,e,n);break t}xa(t,e,i,n)}e=e.child}return e;case 5:return Zs(e),null===t&&us(e),i=e.type,r=e.pendingProps,o=null!==t?t.memoizedProps:null,a=r.children,nr(i,r)?a=null:null!==o&&nr(i,o)&&(e.flags|=32),Ca(t,e),xa(t,e,a,n),e.child;case 6:return null===t&&us(e),null;case 13:return Ua(t,e,n);case 4:return Js(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=_s(e,null,i,n):xa(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,Ea(t,e,i,r=e.elementType===i?r:ra(i,r),n);case 7:return xa(t,e,e.pendingProps,n),e.child;case 8:case 12:return xa(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(i=e.type._context,r=e.pendingProps,o=e.memoizedProps,a=r.value,Tr(Es,i._currentValue),i._currentValue=a,null!==o)if(ai(o.value,a)){if(o.children===r.children&&!Ar.current){e=Ka(t,e,n);break t}}else for(null!==(o=e.child)&&(o.return=e);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===o.tag){(c=zs(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),As(o.return,n,e),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===e.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),As(a,n,e),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===e){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}xa(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Ps(e,n),i=i(r=Rs(r)),e.flags|=1,xa(t,e,i,n),e.child;case 14:return r=ra(i=e.type,e.pendingProps),Sa(t,e,i,r=ra(i.type,r),n);case 15:return ka(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ra(i,r),qa(t,e),e.tag=1,Or(i)?(t=!0,Lr(e)):t=!1,Ps(e,n),la(e,i,r),ua(e,i,r,n),Pa(null,e,i,!0,t,n);case 19:return Wa(t,e,n);case 22:return Ta(t,e,n)}throw Error(s(156,e.tag))};var Yc="function"===typeof reportError?reportError:function(t){console.error(t)};function Xc(t){this._internalRoot=t}function Jc(t){this._internalRoot=t}function $c(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Zc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function tu(){}function eu(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof r){var a=r;r=function(){var t=Kc(o);a.call(t)}}qc(e,o,t,r)}else o=function(t,e,n,i,r){if(r){if("function"===typeof i){var s=i;i=function(){var t=Kc(o);s.call(t)}}var o=Wc(e,i,t,0,null,!1,0,"",tu);return t._reactRootContainer=o,t[pr]=o.current,Bi(8===t.nodeType?t.parentNode:t),dc(),o}for(;r=t.lastChild;)t.removeChild(r);if("function"===typeof i){var a=i;i=function(){var t=Kc(l);a.call(t)}}var l=Bc(t,0,!1,null,0,!1,0,"",tu);return t._reactRootContainer=l,t[pr]=l.current,Bi(8===t.nodeType?t.parentNode:t),dc(function(){qc(e,l,n,i)}),l}(n,e,t,r,i);return Kc(o)}Jc.prototype.render=Xc.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(s(409));qc(t,e,null,null)},Jc.prototype.unmount=Xc.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;dc(function(){qc(null,t,null,null)}),e[pr]=null}},Jc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Se();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Me.length&&0!==e&&e<Me[n].priority;n++);Me.splice(n,0,t),0===n&&Fe(t)}},_e=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=he(e.pendingLanes);0!==n&&(ve(e,1|n),sc(e,Jt()),0===(6&Pl)&&(Wl=Jt()+500,Br()))}break;case 13:dc(function(){var e=Ns(t,1);if(null!==e){var n=nc();rc(e,t,1,n)}}),Qc(t,1)}},xe=function(t){if(13===t.tag){var e=Ns(t,134217728);if(null!==e)rc(e,t,134217728,nc());Qc(t,134217728)}},Ee=function(t){if(13===t.tag){var e=ic(t),n=Ns(t,e);if(null!==n)rc(n,t,e,nc());Qc(t,e)}},Se=function(){return be},ke=function(t,e){var n=be;try{return be=t,e()}finally{be=n}},xt=function(t,e,n){switch(e){case"input":if($(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=_r(i);if(!r)throw Error(s(90));G(i),$(i,r)}}}break;case"textarea":st(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},It=hc,At=dc;var nu={usingClientEntryPoint:!1,Events:[br,wr,_r,Tt,Ct,hc]},iu={findFiberByHostInstance:vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ru={bundleType:iu.bundleType,version:iu.version,rendererPackageName:iu.rendererPackageName,rendererConfig:iu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=qt(t))?null:t.stateNode},findFiberByHostInstance:iu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!su.isDisabled&&su.supportsFiber)try{re=su.inject(ru),se=su}catch(ut){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nu,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(e))throw Error(s(200));return function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==i?null:""+i,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.createRoot=function(t,e){if(!$c(t))throw Error(s(299));var n=!1,i="",r=Yc;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(i=e.identifierPrefix),void 0!==e.onRecoverableError&&(r=e.onRecoverableError)),e=Bc(t,1,!1,null,0,n,0,i,r),t[pr]=e.current,Bi(8===t.nodeType?t.parentNode:t),new Xc(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(s(188));throw t=Object.keys(t).join(","),Error(s(268,t))}return t=null===(t=qt(e))?null:t.stateNode},e.flushSync=function(t){return dc(t)},e.hydrate=function(t,e,n){if(!Zc(e))throw Error(s(200));return eu(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!$c(t))throw Error(s(405));var i=null!=n&&n.hydratedSources||null,r=!1,o="",a=Yc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),e=Wc(e,null,t,1,null!=n?n:null,r,0,o,a),t[pr]=e.current,Bi(t),i)for(t=0;t<i.length;t++)r=(r=(n=i[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Jc(e)},e.render=function(t,e,n){if(!Zc(e))throw Error(s(200));return eu(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Zc(t))throw Error(s(40));return!!t._reactRootContainer&&(dc(function(){eu(null,null,t,!1,function(){t._reactRootContainer=null,t[pr]=null})}),!0)},e.unstable_batchedUpdates=hc,e.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Zc(n))throw Error(s(200));if(null==t||void 0===t._reactInternals)throw Error(s(38));return eu(t,e,n,!1,i)},e.version="18.3.1-next-f1338f8080-20240426"},853:(t,e,n)=>{t.exports=n(234)},950:(t,e,n)=>{!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(730)}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var s=e[i]={exports:{}};return t[i](s,s.exports,n),s.exports}n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};n.r(i),n.d(i,{hasBrowserEnv:()=>tm,hasStandardBrowserEnv:()=>nm,hasStandardBrowserWebWorkerEnv:()=>im,navigator:()=>em,origin:()=>rm});var r=n(43),s=n(391);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function l(t,e,n){return(e=a(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach(function(e){l(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}const h=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296===(64512&r)&&i+1<t.length&&56320===(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},d={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const e=t[r],s=r+1<t.length,o=s?t[r+1]:0,a=r+2<t.length,l=a?t[r+2]:0,c=e>>2,u=(3&e)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),i.push(n[c],n[u],n[h],n[d])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(h(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const s=((7&r)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(s>>10)),e[i++]=String.fromCharCode(56320+(1023&s))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const e=n[t.charAt(r++)],s=r<t.length?n[t.charAt(r)]:0;++r;const o=r<t.length?n[t.charAt(r)]:64;++r;const a=r<t.length?n[t.charAt(r)]:64;if(++r,null==e||null==s||null==o||null==a)throw new f;const l=e<<2|s>>4;if(i.push(l),64!==o){const t=s<<4&240|o>>2;if(i.push(t),64!==a){const t=o<<6&192|a;i.push(t)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class f extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p=function(t){return function(t){const e=h(t);return d.encodeByteArray(e,!0)}(t).replace(/\./g,"")},g=function(t){try{return d.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function m(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const y=()=>{try{return m().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const t={NODE_ENV:"production",PUBLIC_URL:"/Project_StudyMateAI",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyCzNLTNR0zROyJcT3EGXWVDs_p5aU6blR0",REACT_APP_FIREBASE_APP_ID:"1:99548138560:web:8deef7427b4bbc077a63a5",REACT_APP_FIREBASE_AUTH_DOMAIN:"project-studymateai-74c22.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"99548138560",REACT_APP_FIREBASE_PROJECT_ID:"project-studymateai-74c22",REACT_APP_FIREBASE_STORAGE_BUCKET:"project-studymateai-74c22.firebasestorage.app",REACT_APP_LLM_API_URL:"https://llm-server.gvcs-es.ac.kr"}.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"===typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&g(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(t))}},v=t=>{var e;return null===(e=y())||void 0===e||null===(e=e.emulatorHosts)||void 0===e?void 0:e[t]},b=t=>{const e=v(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error("Invalid host ".concat(e," with no separate hostname and port!"));const i=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),i]:[e.substring(0,n),i]},w=()=>{var t;return null===(t=y())||void 0===t?void 0:t.config},_=t=>{var e;return null===(e=y())||void 0===e?void 0:e["_".concat(t)]};class x{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"===typeof t&&(this.promise.catch(()=>{}),1===t.length?t(e):t(e,n))}}}function E(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch(e){return!1}}async function S(t){return(await fetch(t,{credentials:"include"})).ok}const k={};let T=!1;function C(t,e){if("undefined"===typeof window||"undefined"===typeof document||!E(window.location.host)||k[t]===e||k[t]||T)return;function n(t){return"__firebase__banner__".concat(t)}k[t]=e;const i="__firebase__banner",r=function(){const t={prod:[],emulator:[]};for(const e of Object.keys(k))k[e]?t.emulator.push(e):t.prod.push(e);return t}().prod.length>0;function s(){const t=document.createElement("span");return t.style.cursor="pointer",t.style.marginLeft="16px",t.style.fontSize="24px",t.innerHTML=" &times;",t.onclick=()=>{T=!0,function(){const t=document.getElementById(i);t&&t.remove()}()},t}function o(){const t=function(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}(i),e=n("text"),o=document.getElementById(e)||document.createElement("span"),a=n("learnmore"),l=document.getElementById(a)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(t.created){const e=t.element;!function(t){t.style.display="flex",t.style.background="#7faaf0",t.style.position="fixed",t.style.bottom="5px",t.style.left="5px",t.style.padding=".5em",t.style.borderRadius="5px",t.style.alignItems="center"}(e),function(t,e){t.setAttribute("id",e),t.innerText="Learn more",t.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",t.setAttribute("target","__blank"),t.style.paddingLeft="5px",t.style.textDecoration="underline"}(l,a);const n=s();!function(t,e){t.setAttribute("width","24"),t.setAttribute("id",e),t.setAttribute("height","24"),t.setAttribute("viewBox","0 0 24 24"),t.setAttribute("fill","none"),t.style.marginLeft="-6px"}(u,c),e.append(u,o,l,n),document.body.appendChild(e)}r?(o.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',o.innerText="Preview backend running in this workspace."),o.setAttribute("id",e)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",o):o()}function I(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function A(){var t;const e=null===(t=y())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(i){return!1}}function P(){return!A()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function R(){try{return"object"===typeof indexedDB}catch(t){return!1}}class O extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,O.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,M.prototype.create)}}class M{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t){const e=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(t),i=this.errors[t],r=i?function(t,e){return t.replace(D,(t,n)=>{const i=e[n];return null!=i?String(i):"<".concat(n,"?>")})}(i,e):"Error",s="".concat(this.serviceName,": ").concat(r," (").concat(n,").");return new O(n,s,e)}}const D=/\{\$([^}]+)}/g;function N(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const n=t[r],s=e[r];if(L(n)&&L(s)){if(!N(n,s))return!1}else if(n!==s)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function L(t){return null!==t&&"object"===typeof t}function F(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(t=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(t))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function V(t){const e={};return t.replace(/^\?/,"").split("&").forEach(t=>{if(t){const[n,i]=t.split("=");e[decodeURIComponent(n)]=decodeURIComponent(i)}}),e}function U(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class z{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(t=>{this.error(t)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,n){let i;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");i=function(t,e){if("object"!==typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"===typeof t[n])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===i.next&&(i.next=j),void 0===i.error&&(i.error=j),void 0===i.complete&&(i.complete=j);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(t){}}),this.observers.push(i),r}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function j(){}function B(t){return t&&t._delegate?t._delegate:t}class H{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const W="[DEFAULT]";class q{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new x;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(n){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),i=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error("Mismatching Component ".concat(t.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:W})}catch(e){}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:i});n.resolve(t)}catch(e){}}}}clearInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...t.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;return this.instances.has(t)}getOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;return this.instancesOptions.get(t)||{}}initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const i=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[r,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(r)&&s.resolve(i)}return i}onInit(t,e){var n;const i=this.normalizeInstanceIdentifier(e),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(t),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&t(s,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const r of n)try{r(t,e)}catch(i){}}getOrInitializeService(t){let{instanceIdentifier:e,options:n={}}=t,i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===W?void 0:r),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch(s){}var r;return i||null}normalizeInstanceIdentifier(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;return this.component?this.component.multipleInstances?t:W:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class K{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component ".concat(t.name," has already been registered with ").concat(this.name));e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new q(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const G=[];var Q;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(Q||(Q={}));const Y={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},X=Q.INFO,J={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},$=function(t,e){if(e<t.logLevel)return;const n=(new Date).toISOString(),i=J[e];if(!i)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(e,")"));for(var r=arguments.length,s=new Array(r>2?r-2:0),o=2;o<r;o++)s[o-2]=arguments[o];console[i]("[".concat(n,"]  ").concat(t.name,":"),...s)};class Z{constructor(t){this.name=t,this._logLevel=X,this._logHandler=$,this._userLogHandler=null,G.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Q))throw new TypeError('Invalid value "'.concat(t,'" assigned to `logLevel`'));this._logLevel=t}setLogLevel(t){this._logLevel="string"===typeof t?Y[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...e),this._logHandler(this,Q.DEBUG,...e)}log(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...e),this._logHandler(this,Q.VERBOSE,...e)}info(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Q.INFO,...e),this._logHandler(this,Q.INFO,...e)}warn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Q.WARN,...e),this._logHandler(this,Q.WARN,...e)}error(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...e),this._logHandler(this,Q.ERROR,...e)}}let tt,et;const nt=new WeakMap,it=new WeakMap,rt=new WeakMap,st=new WeakMap,ot=new WeakMap;let at={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return it.get(t);if("objectStoreNames"===e)return t.objectStoreNames||rt.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ut(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function lt(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(et||(et=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.apply(ht(this),n),ut(nt.get(this))}:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return ut(t.apply(ht(this),n))}:function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];const s=t.call(ht(this),e,...i);return rt.set(s,e.sort?e.sort():[e]),ut(s)}}function ct(t){return"function"===typeof t?lt(t):(t instanceof IDBTransaction&&function(t){if(it.has(t))return;const e=new Promise((e,n)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",s),t.removeEventListener("abort",s)},r=()=>{e(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",s),t.addEventListener("abort",s)});it.set(t,e)}(t),e=t,(tt||(tt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(t=>e instanceof t)?new Proxy(t,at):t);var e}function ut(t){if(t instanceof IDBRequest)return function(t){const e=new Promise((e,n)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",s)},r=()=>{e(ut(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",s)});return e.then(e=>{e instanceof IDBCursor&&nt.set(e,t)}).catch(()=>{}),ot.set(e,t),e}(t);if(st.has(t))return st.get(t);const e=ct(t);return e!==t&&(st.set(t,e),ot.set(e,t)),e}const ht=t=>ot.get(t);const dt=["get","getKey","getAll","getAllKeys","count"],ft=["put","add","delete","clear"],pt=new Map;function gt(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!==typeof e)return;if(pt.get(e))return pt.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=ft.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!dt.includes(n))return;const s=async function(t){const e=this.transaction(t,r?"readwrite":"readonly");let s=e.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return i&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),r&&e.done]))[0]};return pt.set(e,s),s}!function(t){at=t(at)}(t=>u(u({},t),{},{get:(e,n,i)=>gt(e,n)||t.get(e,n,i),has:(e,n)=>!!gt(e,n)||t.has(e,n)}));class mt{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){const e=t.getImmediate();return"".concat(e.library,"/").concat(e.version)}return null}).filter(t=>t).join(" ")}}const yt="@firebase/app",vt="0.14.2",bt=new Z("@firebase/app"),wt="@firebase/app-compat",_t="@firebase/analytics-compat",xt="@firebase/analytics",Et="@firebase/app-check-compat",St="@firebase/app-check",kt="@firebase/auth",Tt="@firebase/auth-compat",Ct="@firebase/database",It="@firebase/data-connect",At="@firebase/database-compat",Pt="@firebase/functions",Rt="@firebase/functions-compat",Ot="@firebase/installations",Mt="@firebase/installations-compat",Dt="@firebase/messaging",Nt="@firebase/messaging-compat",Lt="@firebase/performance",Ft="@firebase/performance-compat",Vt="@firebase/remote-config",Ut="@firebase/remote-config-compat",zt="@firebase/storage",jt="@firebase/storage-compat",Bt="@firebase/firestore",Ht="@firebase/ai",Wt="@firebase/firestore-compat",qt="firebase",Kt="[DEFAULT]",Gt={[yt]:"fire-core",[wt]:"fire-core-compat",[xt]:"fire-analytics",[_t]:"fire-analytics-compat",[St]:"fire-app-check",[Et]:"fire-app-check-compat",[kt]:"fire-auth",[Tt]:"fire-auth-compat",[Ct]:"fire-rtdb",[It]:"fire-data-connect",[At]:"fire-rtdb-compat",[Pt]:"fire-fn",[Rt]:"fire-fn-compat",[Ot]:"fire-iid",[Mt]:"fire-iid-compat",[Dt]:"fire-fcm",[Nt]:"fire-fcm-compat",[Lt]:"fire-perf",[Ft]:"fire-perf-compat",[Vt]:"fire-rc",[Ut]:"fire-rc-compat",[zt]:"fire-gcs",[jt]:"fire-gcs-compat",[Bt]:"fire-fst",[Wt]:"fire-fst-compat",[Ht]:"fire-vertex","fire-js":"fire-js",[qt]:"fire-js-all"},Qt=new Map,Yt=new Map,Xt=new Map;function Jt(t,e){try{t.container.addComponent(e)}catch(n){bt.debug("Component ".concat(e.name," failed to register with FirebaseApp ").concat(t.name),n)}}function $t(t){const e=t.name;if(Xt.has(e))return bt.debug("There were multiple attempts to register component ".concat(e,".")),!1;Xt.set(e,t);for(const n of Qt.values())Jt(n,t);for(const n of Yt.values())Jt(n,t);return!0}function Zt(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function te(t){return null!==t&&void 0!==t&&void 0!==t.settings}const ee=new M("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class ne{constructor(t,e,n){this._isDeleted=!1,this._options=u({},t),this._config=u({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new H("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ee.create("app-deleted",{appName:this._name})}}const ie="12.2.0";function re(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t;if("object"!==typeof e){e={name:e}}const i=u({name:Kt,automaticDataCollectionEnabled:!0},e),r=i.name;if("string"!==typeof r||!r)throw ee.create("bad-app-name",{appName:String(r)});if(n||(n=w()),!n)throw ee.create("no-options");const s=Qt.get(r);if(s){if(N(n,s.options)&&N(i,s.config))return s;throw ee.create("duplicate-app",{appName:r})}const o=new K(r);for(const l of Xt.values())o.addComponent(l);const a=new ne(n,i,o);return Qt.set(r,a),a}function se(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt;const e=Qt.get(t);if(!e&&t===Kt&&w())return re();if(!e)throw ee.create("no-app",{appName:t});return e}function oe(t,e,n){var i;let r=null!==(i=Gt[t])&&void 0!==i?i:t;n&&(r+="-".concat(n));const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const t=['Unable to register library "'.concat(r,'" with version "').concat(e,'":')];return s&&t.push('library name "'.concat(r,'" contains illegal characters (whitespace or "/")')),s&&o&&t.push("and"),o&&t.push('version name "'.concat(e,'" contains illegal characters (whitespace or "/")')),void bt.warn(t.join(" "))}$t(new H("".concat(r,"-version"),()=>({library:r,version:e}),"VERSION"))}const ae="firebase-heartbeat-store";let le=null;function ce(){return le||(le=function(t,e){let{blocked:n,upgrade:i,blocking:r,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(t,e),a=ut(o);return i&&o.addEventListener("upgradeneeded",t=>{i(ut(o.result),t.oldVersion,t.newVersion,ut(o.transaction),t)}),n&&o.addEventListener("blocked",t=>n(t.oldVersion,t.newVersion,t)),a.then(t=>{s&&t.addEventListener("close",()=>s()),r&&t.addEventListener("versionchange",t=>r(t.oldVersion,t.newVersion,t))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(ae)}catch(n){console.warn(n)}}}).catch(t=>{throw ee.create("idb-open",{originalErrorMessage:t.message})})),le}async function ue(t,e){try{const n=(await ce()).transaction(ae,"readwrite"),i=n.objectStore(ae);await i.put(e,he(t)),await n.done}catch(n){if(n instanceof O)bt.warn(n.message);else{const t=ee.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});bt.warn(t.message)}}}function he(t){return"".concat(t.name,"!").concat(t.options.appId)}class de{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new pe(e),this._heartbeatsCachePromise=this._storage.read().then(t=>(this._heartbeatsCache=t,t))}async triggerHeartbeat(){try{var t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=fe();var e;if(null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(t=>t.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>30){const t=function(t){if(0===t.length)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(t,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){bt.warn(n)}}async getHeartbeatsHeader(){try{var t;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const e=fe(),{heartbeatsToSend:n,unsentEntries:i}=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let i=t.slice();for(const r of t){const t=n.find(t=>t.agent===r.agent);if(t){if(t.dates.push(r.date),ge(n)>e){t.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),ge(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),r=p(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return bt.warn(e),""}}}function fe(){return(new Date).toISOString().substring(0,10)}class pe{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!R()&&new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var t;e((null===(t=r.error)||void 0===t?void 0:t.message)||"")}}catch(n){e(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const t=await async function(t){try{const e=(await ce()).transaction(ae),n=await e.objectStore(ae).get(he(t));return await e.done,n}catch(e){if(e instanceof O)bt.warn(e.message);else{const t=ee.create("idb-get",{originalErrorMessage:null===e||void 0===e?void 0:e.message});bt.warn(t.message)}}}(this.app);return null!==t&&void 0!==t&&t.heartbeats?t:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){var e;const n=await this.read();return ue(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){if(await this._canUseIndexedDBPromise){var e;const n=await this.read();return ue(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}}}function ge(t){return p(JSON.stringify({version:2,heartbeats:t})).length}var me;me="",$t(new H("platform-logger",t=>new mt(t),"PRIVATE")),$t(new H("heartbeat",t=>new de(t),"PRIVATE")),oe(yt,vt,me),oe(yt,vt,"esm2020"),oe("fire-js","");function ye(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(-1!==e.indexOf(i))continue;n[i]=t[i]}return n}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],-1===e.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}oe("firebase","12.2.1","app");const ve=["providerId"],be=["uid","auth","stsTokenManager"],we=["providerId","signInMethod"];function _e(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xe=_e,Ee=new M("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Se=new Z("@firebase/auth");function ke(t){if(Se.logLevel<=Q.ERROR){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];Se.error("Auth (".concat(ie,"): ").concat(t),...n)}}function Te(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];throw Re(t,...n)}function Ce(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return Re(t,...n)}function Ie(t,e,n){const i=u(u({},xe()),{},{[e]:n});return new M("auth","Firebase",i).create(e,{appName:t.name})}function Ae(t){return Ie(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pe(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&Te(t,"argument-error"),Ie(t,"argument-error","Type of ".concat(e.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Re(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if("string"!==typeof t){const e=n[0],i=[...n.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(e,...i)}return Ee.create(t,...n)}function Oe(t,e){if(!t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];throw Re(e,...i)}}function Me(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ke(e),new Error(e)}function De(t,e){t||Me(e)}function Ne(){var t;return"undefined"!==typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function Le(){return"http:"===Fe()||"https:"===Fe()}function Fe(){var t;return"undefined"!==typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}function Ve(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Le()||function(){const t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}()||"connection"in navigator))||navigator.onLine}class Ue{constructor(t,e){this.shortDelay=t,this.longDelay=e,De(e>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(I())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Ve()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ze(t,e){De(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?"".concat(n).concat(e.startsWith("/")?e.slice(1):e):n}class je{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Me("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Me("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Me("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Be={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},He=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],We=new Ue(3e4,6e4);function qe(t,e){return t.tenantId&&!e.tenantId?u(u({},e),{},{tenantId:t.tenantId}):e}async function Ke(t,e,n,i){return Ge(t,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let r={},s={};i&&("GET"===e?s=i:r={body:JSON.stringify(i)});const o=F(u({key:t.config.apiKey},s)).slice(1),a=await t._getAdditionalHeaders();a["Content-Type"]="application/json",t.languageCode&&(a["X-Firebase-Locale"]=t.languageCode);const l=u({method:e,headers:a},r);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),t.emulatorConfig&&E(t.emulatorConfig.host)&&(l.credentials="include"),je.fetch()(await Ye(t,t.config.apiHost,n,o),l)})}async function Ge(t,e,n){t._canInitEmulator=!1;const i=u(u({},Be),e);try{const e=new Je(t),r=await Promise.race([n(),e.promise]);e.clearNetworkTimeout();const s=await r.json();if("needConfirmation"in s)throw $e(t,"account-exists-with-different-credential",s);if(r.ok&&!("errorMessage"in s))return s;{const e=r.ok?s.errorMessage:s.error.message,[n,o]=e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw $e(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw $e(t,"email-already-in-use",s);if("USER_DISABLED"===n)throw $e(t,"user-disabled",s);const a=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Ie(t,a,o);Te(t,a)}}catch(r){if(r instanceof O)throw r;Te(t,"network-request-failed",{message:String(r)})}}async function Qe(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Ke(t,e,n,i,r);return"mfaPendingCredential"in s&&Te(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function Ye(t,e,n,i){const r="".concat(e).concat(n,"?").concat(i),s=t,o=s.config.emulator?ze(t.config,r):"".concat(t.config.apiScheme,"://").concat(r);if(He.includes(n)&&(await s._persistenceManagerAvailable,"COOKIE"===s._getPersistenceType())){return s._getPersistence()._getFinalTarget(o).toString()}return o}function Xe(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Je{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((t,e)=>{this.timer=setTimeout(()=>e(Ce(this.auth,"network-request-failed")),We.get())})}}function $e(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Ce(t,e,i);return r.customData._tokenResponse=n,r}function Ze(t){return void 0!==t&&void 0!==t.enterprise}class tn{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return Xe(e.enforcementState);return null}isProviderEnabled(t){return"ENFORCE"===this.getProviderEnforcementState(t)||"AUDIT"===this.getProviderEnforcementState(t)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function en(t,e){return Ke(t,"GET","/v2/recaptchaConfig",qe(t,e))}async function nn(t,e){return Ke(t,"POST","/v1/accounts:lookup",e)}function rn(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function sn(t){return 1e3*Number(t)}function on(t){const[e,n,i]=t.split(".");if(void 0===e||void 0===n||void 0===i)return ke("JWT malformed, contained fewer than 3 sections"),null;try{const t=g(n);return t?JSON.parse(t):(ke("Failed to decode base64 JWT payload"),null)}catch(r){return ke("Caught error parsing JWT payload as JSON",null===r||void 0===r?void 0:r.toString()),null}}function an(t){const e=on(t);return Oe(e,"internal-error"),Oe("undefined"!==typeof e.exp,"internal-error"),Oe("undefined"!==typeof e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}async function ln(t,e){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return e;try{return await e}catch(n){throw n instanceof O&&function(t){let{code:e}=t;return e==="auth/".concat("user-disabled")||e==="auth/".concat("user-token-expired")}(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}class cn{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){if(t){const t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}{var e;this.errorBackoff=3e4;const t=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,t)}}schedule(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){return void((null===t||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class un{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=rn(this.lastLoginAt),this.creationTime=rn(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function hn(t){var e;const n=t.auth,i=await t.getIdToken(),r=await ln(t,nn(n,{idToken:i}));Oe(null===r||void 0===r?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?dn(s.providerUserInfo):[],a=(l=t.providerData,c=o,[...l.filter(t=>!c.some(e=>e.providerId===t.providerId)),...c]);var l,c;const u=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(null!==a&&void 0!==a&&a.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new un(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}function dn(t){return t.map(t=>{let{providerId:e}=t,n=ye(t,ve);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class fn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Oe(t.idToken,"internal-error"),Oe("undefined"!==typeof t.idToken,"internal-error"),Oe("undefined"!==typeof t.refreshToken,"internal-error");const e="expiresIn"in t&&"undefined"!==typeof t.expiresIn?Number(t.expiresIn):an(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Oe(0!==t.length,"internal-error");const e=an(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Oe(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:n,refreshToken:i,expiresIn:r}=await async function(t,e){const n=await Ge(t,{},async()=>{const n=F({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:r}=t.config,s=await Ye(t,i,"/v1/token","key=".concat(r)),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const a={method:"POST",headers:o,body:n};return t.emulatorConfig&&E(t.emulatorConfig.host)&&(a.credentials="include"),je.fetch()(s,a)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(t,e);this.updateTokensAndExpiration(n,i,Number(r))}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(t,e){const{refreshToken:n,accessToken:i,expirationTime:r}=e,s=new fn;return n&&(Oe("string"===typeof n,"internal-error",{appName:t}),s.refreshToken=n),i&&(Oe("string"===typeof i,"internal-error",{appName:t}),s.accessToken=i),r&&(Oe("number"===typeof r,"internal-error",{appName:t}),s.expirationTime=r),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new fn,this.toJSON())}_performRefresh(){return Me("not implemented")}}function pn(t,e){Oe("string"===typeof t||"undefined"===typeof t,"internal-error",{appName:e})}class gn{constructor(t){let{uid:e,auth:n,stsTokenManager:i}=t,r=ye(t,be);this.providerId="firebase",this.proactiveRefresh=new cn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new un(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await ln(this,this.stsTokenManager.getToken(this.auth,t));return Oe(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return async function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=B(t),i=await n.getIdToken(e),r=on(i);Oe(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s="object"===typeof r.firebase?r.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:rn(sn(r.auth_time)),issuedAtTime:rn(sn(r.iat)),expirationTime:rn(sn(r.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,t)}reload(){return async function(t){const e=B(t);await hn(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}(this)}_assign(t){this!==t&&(Oe(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(t=>u({},t)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new gn(u(u({},this),{},{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&await hn(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(te(this.auth.app))return Promise.reject(Ae(this.auth));const t=await this.getIdToken();return await ln(this,async function(t,e){return Ke(t,"POST","/v1/accounts:delete",e)}(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return u(u({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>u({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,i,r,s,o,a,l,c;const h=null!==(n=e.displayName)&&void 0!==n?n:void 0,d=null!==(i=e.email)&&void 0!==i?i:void 0,f=null!==(r=e.phoneNumber)&&void 0!==r?r:void 0,p=null!==(s=e.photoURL)&&void 0!==s?s:void 0,g=null!==(o=e.tenantId)&&void 0!==o?o:void 0,m=null!==(a=e._redirectEventId)&&void 0!==a?a:void 0,y=null!==(l=e.createdAt)&&void 0!==l?l:void 0,v=null!==(c=e.lastLoginAt)&&void 0!==c?c:void 0,{uid:b,emailVerified:w,isAnonymous:_,providerData:x,stsTokenManager:E}=e;Oe(b&&E,t,"internal-error");const S=fn.fromJSON(this.name,E);Oe("string"===typeof b,t,"internal-error"),pn(h,t.name),pn(d,t.name),Oe("boolean"===typeof w,t,"internal-error"),Oe("boolean"===typeof _,t,"internal-error"),pn(f,t.name),pn(p,t.name),pn(g,t.name),pn(m,t.name),pn(y,t.name),pn(v,t.name);const k=new gn({uid:b,auth:t,email:d,emailVerified:w,displayName:h,isAnonymous:_,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:S,createdAt:y,lastLoginAt:v});return x&&Array.isArray(x)&&(k.providerData=x.map(t=>u({},t))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=new fn;i.updateFromServerResponse(e);const r=new gn({uid:e.localId,auth:t,stsTokenManager:i,isAnonymous:n});return await hn(r),r}static async _fromGetAccountInfoResponse(t,e,n){const i=e.users[0];Oe(void 0!==i.localId,"internal-error");const r=void 0!==i.providerUserInfo?dn(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(null!==r&&void 0!==r&&r.length),o=new fn;o.updateFromIdToken(n);const a=new gn({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:r,metadata:new un(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(null!==r&&void 0!==r&&r.length)};return Object.assign(a,l),a}}const mn=new Map;function yn(t){De(t instanceof Function,"Expected a class definition");let e=mn.get(t);return e?(De(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,mn.set(t,e),e)}class vn{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return void 0===e?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}vn.type="NONE";const bn=vn;function wn(t,e,n){return"firebase".concat(":",t,":").concat(e,":").concat(n)}class _n{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:i,name:r}=this.auth;this.fullUserKey=wn(this.userKey,i.apiKey,r),this.fullPersistenceKey=wn("persistence",i.apiKey,r),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if("string"===typeof t){const e=await nn(this.auth,{idToken:t}).catch(()=>{});return e?gn._fromGetAccountInfoResponse(this.auth,e,t):null}return gn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=t,e?this.setCurrentUser(e):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!e.length)return new _n(yn(bn),t,n);const i=(await Promise.all(e.map(async t=>{if(await t._isAvailable())return t}))).filter(t=>t);let r=i[0]||yn(bn);const s=wn(n,t.config.apiKey,t.name);let o=null;for(const c of e)try{const e=await c._get(s);if(e){let n;if("string"===typeof e){const i=await nn(t,{idToken:e}).catch(()=>{});if(!i)break;n=await gn._fromGetAccountInfoResponse(t,i,e)}else n=gn._fromJSON(t,e);c!==r&&(o=n),r=c;break}}catch(l){}const a=i.filter(t=>t._shouldAllowMigration);return r._shouldAllowMigration&&a.length?(r=a[0],o&&await r._set(s,o.toJSON()),await Promise.all(e.map(async t=>{if(t!==r)try{await t._remove(s)}catch(e){}})),new _n(r,t,n)):new _n(r,t,n)}}function xn(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Tn(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(En(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(In(e))return"Blackberry";if(An(e))return"Webos";if(Sn(e))return"Safari";if((e.includes("chrome/")||kn(e))&&!e.includes("edge/"))return"Chrome";if(Cn(e))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(e);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function En(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I();return/firefox\//i.test(t)}function Sn(){const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:I()).toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function kn(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I();return/crios\//i.test(t)}function Tn(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I();return/iemobile/i.test(t)}function Cn(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I();return/android/i.test(t)}function In(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I();return/blackberry/i.test(t)}function An(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I();return/webos/i.test(t)}function Pn(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I();return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Rn(){return function(){const t=I();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}function On(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I();return Pn(t)||Cn(t)||An(t)||In(t)||/windows phone/i.test(t)||Tn(t)}function Mn(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(t){case"Browser":e=xn(I());break;case"Worker":e="".concat(xn(I()),"-").concat(t);break;default:e=t}const i=n.length?n.join(","):"FirebaseCore-web";return"".concat(e,"/","JsCore","/").concat(ie,"/").concat(i)}class Dn{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const n=e=>new Promise((n,i)=>{try{n(t(e))}catch(r){i(r)}});n.onAbort=e,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const n of this.queue)await n(t),n.onAbort&&e.push(n.onAbort)}catch(n){e.reverse();for(const t of e)try{t()}catch(i){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Nn{constructor(t){var e,n,i,r;const s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(e=s.minPasswordLength)&&void 0!==e?e:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(i=t.allowedNonAlphanumericCharacters)||void 0===i?void 0:i.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(r=t.forceUpgradeOnSignin)&&void 0!==r&&r,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,n,i,r,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,a),this.validatePasswordCharacterOptions(t,a),a.isValid&&(a.isValid=null===(e=a.meetsMinPasswordLength)||void 0===e||e),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(i=a.containsLowercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(r=a.containsUppercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(t,e){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(e.meetsMinPasswordLength=t.length>=n),i&&(e.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,e){let n;this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);for(let i=0;i<t.length;i++)n=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(e,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,e,n,i,r){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=r))}}class Ln{constructor(t,e,n,i){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vn(this),this.idTokenSubscription=new Vn(this),this.beforeStateQueue=new Dn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ee,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(t=>this._resolvePersistenceManagerAvailable=t)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=yn(e)),this._initializationPromise=this.queue(async()=>{var n,i,r;if(!this._deleted&&(this.persistenceManager=await _n.create(this,t),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(i=this._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(s){}await this.initializeCurrentUser(e),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();return this.currentUser||t?this.currentUser&&t&&this.currentUser.uid===t.uid?(this._currentUser._assign(t),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(t,!0):void 0}async initializeCurrentUserFromIdToken(t){try{const e=await nn(this,{idToken:t}),n=await gn._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(te(this.app)){const t=this.app.settings.authIdToken;return t?new Promise(e=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(t).then(e,e))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let n=e,i=!1;if(t&&this.config.authDomain){var r,s;await this.getOrInitRedirectPersistenceManager();const e=null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId,o=null===(s=n)||void 0===s?void 0:s._redirectEventId,a=await this.tryRedirectSignIn(t);e&&e!==o||null===a||void 0===a||!a.user||(n=a.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch(n){await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await hn(t)}catch(e){if((null===e||void 0===e?void 0:e.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(te(this.app))return Promise.reject(Ae(this));const e=t?B(t):null;return e&&Oe(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return t&&Oe(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return te(this.app)?Promise.reject(Ae(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return te(this.app)?Promise.reject(Ae(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yn(t))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await async function(t){return Ke(t,"GET","/v2/passwordPolicy",qe(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),e=new Nn(t);null===this.tenantId?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new M("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(e.tenantId=this.tenantId),await async function(t,e){return Ke(t,"POST","/v2/accounts:revokeToken",qe(t,e))}(this,e)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}async _setRedirectUser(t,e){const n=await this.getOrInitRedirectPersistenceManager(e);return null===t?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&yn(t)||this._popupRedirectResolver;Oe(e,this,"argument-error"),this.redirectPersistenceManager=await _n.create(this,[yn(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(e=this._currentUser)||void 0===e?void 0:e._redirectEventId)===t?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,i){if(this._deleted)return()=>{};const r="function"===typeof e?e:e.next.bind(e);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(o,this,"internal-error"),o.then(()=>{s||r(this.currentUser)}),"function"===typeof e){const r=t.addObserver(e,n,i);return()=>{s=!0,r()}}{const n=t.addObserver(e);return()=>{s=!0,n()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){t&&!this.frameworks.includes(t)&&(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Mn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var t;if(te(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await(null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken());return null!==e&&void 0!==e&&e.error&&function(t){if(Se.logLevel<=Q.WARN){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];Se.warn("Auth (".concat(ie,"): ").concat(t),...n)}}("Error while retrieving App Check token: ".concat(e.error)),null===e||void 0===e?void 0:e.token}}function Fn(t){return B(t)}class Vn{constructor(t){this.auth=t,this.observer=null,this.addObserver=function(t,e){const n=new z(t,e);return n.subscribe.bind(n)}(t=>this.observer=t)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Un={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zn(t){return Un.loadJS(t)}function jn(t){return"__".concat(t).concat(Math.floor(1e6*Math.random()))}class Bn{constructor(){this.enterprise=new Hn}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class Hn{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const Wn="NO_RECAPTCHA";class qn{constructor(t){this.type="recaptcha-enterprise",this.auth=Fn(t)}async verify(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(e,n,i){const r=window.grecaptcha;Ze(r)?r.enterprise.ready(()=>{r.enterprise.execute(e,{action:t}).then(t=>{n(t)}).catch(()=>{n(Wn)})}):i(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Bn).execute("siteKey",{action:"verify"})}return new Promise((t,i)=>{(async function(t){if(!e){if(null==t.tenantId&&null!=t._agentRecaptchaConfig)return t._agentRecaptchaConfig.siteKey;if(null!=t.tenantId&&void 0!==t._tenantRecaptchaConfigs[t.tenantId])return t._tenantRecaptchaConfigs[t.tenantId].siteKey}return new Promise(async(e,n)=>{en(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(i=>{if(void 0!==i.recaptchaKey){const n=new tn(i);return null==t.tenantId?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,e(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(t=>{n(t)})})})(this.auth).then(r=>{if(!e&&Ze(window.grecaptcha))n(r,t,i);else{if("undefined"===typeof window)return void i(new Error("RecaptchaVerifier is only supported in browser"));let e=Un.recaptchaEnterpriseScript;0!==e.length&&(e+=r),zn(e).then(()=>{n(r,t,i)}).catch(t=>{i(t)})}}).catch(t=>{i(t)})})}}async function Kn(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new qn(t);let o;if(r)o=Wn;else try{o=await s.verify(n)}catch(l){o=await s.verify(n,!0)}const a=u({},e);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const t=a.phoneEnrollmentInfo.phoneNumber,e=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:t,recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const t=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return i?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Gn(t,e,n,i,r){if("EMAIL_PASSWORD_PROVIDER"===r){var s;if(null!==(s=t._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const r=await Kn(t,e,n,"getOobCode"===n);return i(t,r)}return i(t,e).catch(async r=>{if(r.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const r=await Kn(t,e,n,"getOobCode"===n);return i(t,r)}return Promise.reject(r)})}if("PHONE_PROVIDER"===r){var o;if(null!==(o=t._getRecaptchaConfig())&&void 0!==o&&o.isProviderEnabled("PHONE_PROVIDER")){const r=await Kn(t,e,n);return i(t,r).catch(async r=>{var s;if("AUDIT"===(null===(s=t._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&(r.code==="auth/".concat("missing-recaptcha-token")||r.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const r=await Kn(t,e,n,!1,!0);return i(t,r)}return Promise.reject(r)})}{const r=await Kn(t,e,n,!1,!0);return i(t,r)}}return Promise.reject(r+" provider is not supported.")}async function Qn(t){const e=Fn(t),n=await en(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new tn(n);if(null==e.tenantId?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,i.isAnyProviderEnabled()){new qn(e).verify()}}function Yn(t,e,n){const i=Fn(t);Oe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!(null===n||void 0===n||!n.disableWarnings),s=Xn(e),{host:o,port:a}=function(t){const e=Xn(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const t=r[1];return{host:t,port:Jn(i.substr(t.length+1))}}{const[t,e]=i.split(":");return{host:t,port:Jn(e)}}}(e),l=null===a?"":":".concat(a),c={url:"".concat(s,"//").concat(o).concat(l,"/")},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator)return Oe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),void Oe(N(c,i.config.emulator)&&N(u,i.emulatorConfig),i,"emulator-config-failed");i.config.emulator=c,i.emulatorConfig=u,i.settings.appVerificationDisabledForTesting=!0,E(o)?(S("".concat(s,"//").concat(o).concat(l)),C("Auth",!0)):r||function(){function t(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}function Xn(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Jn(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class $n{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Me("not implemented")}_getIdTokenResponse(t){return Me("not implemented")}_linkToIdToken(t,e){return Me("not implemented")}_getReauthenticationResolver(t){return Me("not implemented")}}async function Zn(t,e){return Ke(t,"POST","/v1/accounts:signUp",e)}async function ti(t,e){return Qe(t,"POST","/v1/accounts:signInWithPassword",qe(t,e))}class ei extends $n{constructor(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=t,this._password=e,this._tenantId=i}static _fromEmailAndPassword(t,e){return new ei(t,e,"password")}static _fromEmailAndCode(t,e){return new ei(t,e,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t;if(null!==e&&void 0!==e&&e.email&&null!==e&&void 0!==e&&e.password){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":return Gn(t,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ti,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(t,e){return Qe(t,"POST","/v1/accounts:signInWithEmailLink",qe(t,e))}(t,{email:this._email,oobCode:this._password});default:Te(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":return Gn(t,{idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Zn,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(t,e){return Qe(t,"POST","/v1/accounts:signInWithEmailLink",qe(t,e))}(t,{idToken:e,email:this._email,oobCode:this._password});default:Te(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function ni(t,e){return Qe(t,"POST","/v1/accounts:signInWithIdp",qe(t,e))}class ii extends $n{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new ii(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Te("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t,{providerId:n,signInMethod:i}=e,r=ye(e,we);if(!n||!i)return null;const s=new ii(n,i);return s.idToken=r.idToken||void 0,s.accessToken=r.accessToken||void 0,s.secret=r.secret,s.nonce=r.nonce,s.pendingToken=r.pendingToken||null,s}_getIdTokenResponse(t){return ni(t,this.buildRequest())}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,ni(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,ni(t,e)}buildRequest(){const t={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=F(e)}return t}}async function ri(t,e){return Ke(t,"POST","/v1/accounts:sendVerificationCode",qe(t,e))}const si={USER_NOT_FOUND:"user-not-found"};class oi extends $n{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new oi({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new oi({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return async function(t,e){return Qe(t,"POST","/v1/accounts:signInWithPhoneNumber",qe(t,e))}(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return async function(t,e){const n=await Qe(t,"POST","/v1/accounts:signInWithPhoneNumber",qe(t,e));if(n.temporaryProof)throw $e(t,"account-exists-with-different-credential",n);return n}(t,u({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return async function(t,e){return Qe(t,"POST","/v1/accounts:signInWithPhoneNumber",qe(t,u(u({},e),{},{operation:"REAUTH"})),si)}(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:n,verificationCode:i}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:n,code:i}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){"string"===typeof t&&(t=JSON.parse(t));const{verificationId:e,verificationCode:n,phoneNumber:i,temporaryProof:r}=t;return n||e||i||r?new oi({verificationId:e,verificationCode:n,phoneNumber:i,temporaryProof:r}):null}}class ai{constructor(t){var e,n,i,r,s,o;const a=V(U(t)),l=null!==(e=a.apiKey)&&void 0!==e?e:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=a.mode)&&void 0!==i?i:null);Oe(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(r=a.continueUrl)&&void 0!==r?r:null,this.languageCode=null!==(s=a.lang)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(t){const e=function(t){const e=V(U(t)).link,n=e?V(U(e)).deep_link_id:null,i=V(U(t)).deep_link_id;return(i?V(U(i)).link:null)||i||n||e||t}(t);try{return new ai(e)}catch(n){return null}}}class li{constructor(){this.providerId=li.PROVIDER_ID}static credential(t,e){return ei._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const n=ai.parseLink(e);return Oe(n,"argument-error"),ei._fromEmailAndCode(t,n.code,n.tenantId)}}li.PROVIDER_ID="password",li.EMAIL_PASSWORD_SIGN_IN_METHOD="password",li.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ci{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ui extends ci{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class hi extends ui{constructor(){super("facebook.com")}static credential(t){return ii._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return hi.credentialFromTaggedObject(t)}static credentialFromError(t){return hi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return hi.credential(e.oauthAccessToken)}catch(n){return null}}}hi.FACEBOOK_SIGN_IN_METHOD="facebook.com",hi.PROVIDER_ID="facebook.com";class di extends ui{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return ii._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return di.credentialFromTaggedObject(t)}static credentialFromError(t){return di.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return di.credential(n,i)}catch(r){return null}}}di.GOOGLE_SIGN_IN_METHOD="google.com",di.PROVIDER_ID="google.com";class fi extends ui{constructor(){super("github.com")}static credential(t){return ii._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return fi.credentialFromTaggedObject(t)}static credentialFromError(t){return fi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return fi.credential(e.oauthAccessToken)}catch(n){return null}}}fi.GITHUB_SIGN_IN_METHOD="github.com",fi.PROVIDER_ID="github.com";class pi extends ui{constructor(){super("twitter.com")}static credential(t,e){return ii._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return pi.credentialFromTaggedObject(t)}static credentialFromError(t){return pi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return pi.credential(n,i)}catch(r){return null}}}pi.TWITTER_SIGN_IN_METHOD="twitter.com",pi.PROVIDER_ID="twitter.com";class gi{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=await gn._fromIdTokenResponse(t,n,i),s=mi(n);return new gi({user:r,providerId:s,_tokenResponse:n,operationType:e})}static async _forOperation(t,e,n){await t._updateTokensIfNecessary(n,!0);const i=mi(n);return new gi({user:t,providerId:i,_tokenResponse:n,operationType:e})}}function mi(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class yi extends O{constructor(t,e,n,i){var r;super(e.code,e.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,yi.prototype),this.customData={appName:t.name,tenantId:null!==(r=t.tenantId)&&void 0!==r?r:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,i){return new yi(t,e,n,i)}}function vi(t,e,n,i){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw yi._fromErrorAndOperation(t,n,e,i);throw n})}async function bi(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=await ln(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return gi._forOperation(t,"link",i)}async function wi(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:i}=t;if(te(i.app))return Promise.reject(Ae(i));const r="reauthenticate";try{const s=await ln(t,vi(i,r,e,t),n);Oe(s.idToken,i,"internal-error");const o=on(s.idToken);Oe(o,i,"internal-error");const{sub:a}=o;return Oe(t.uid===a,i,"user-mismatch"),gi._forOperation(t,r,s)}catch(s){throw(null===s||void 0===s?void 0:s.code)==="auth/".concat("user-not-found")&&Te(i,"user-mismatch"),s}}async function _i(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(te(t.app))return Promise.reject(Ae(t));const i="signIn",r=await vi(t,i,e),s=await gi._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}function xi(t,e){return Ke(t,"POST","/v2/accounts/mfaEnrollment:start",qe(t,e))}new WeakMap;const Ei="__sak";class Si{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Ei,"1"),this.storage.removeItem(Ei),Promise.resolve(!0)):Promise.resolve(!1)}catch(t){return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}class ki extends Si{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=On(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),i=this.localCache[e];n!==i&&t(e,i,n)}}onStorageEvent(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t.key)return void this.forAllChangedKeys((t,e,n)=>{this.notifyListeners(t,n)});const n=t.key;e?this.detachListener():this.stopPolling();const i=()=>{const t=this.storage.getItem(n);(e||this.localCache[n]!==t)&&this.notifyListeners(n,t)},r=this.storage.getItem(n);Rn()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,10):i()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(e?JSON.parse(e):e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}ki.type="LOCAL";const Ti=ki;function Ci(t){var e,n;const i=t.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),r=RegExp("".concat(i,"=([^;]+)"));return null!==(e=null===(n=document.cookie.match(r))||void 0===n?void 0:n[1])&&void 0!==e?e:null}function Ii(t){const e="http:"===window.location.protocol;return"".concat(e?"__dev_":"__HOST-","FIREBASE_").concat(t.split(":")[3])}class Ai{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(t){if(void 0===typeof window)return t;const e=new URL("".concat(window.location.origin,"/__cookies__"));return e.searchParams.set("finalTarget",t),e}async _isAvailable(){var t;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(t=navigator.cookieEnabled)||void 0===t||t))}async _set(t,e){}async _get(t){if(!this._isAvailable())return null;const e=Ii(t);if(window.cookieStore){const t=await window.cookieStore.get(e);return null===t||void 0===t?void 0:t.value}return Ci(e)}async _remove(t){if(!this._isAvailable())return;if(!await this._get(t))return;const e=Ii(t);document.cookie="".concat(e,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(t,e){if(!this._isAvailable())return;const n=Ii(t);if(window.cookieStore){const t=t=>{const i=t.changed.find(t=>t.name===n);i&&e(i.value);t.deleted.find(t=>t.name===n)&&e(null)},i=()=>window.cookieStore.removeEventListener("change",t);return this.listenerUnsubscribes.set(e,i),window.cookieStore.addEventListener("change",t)}let i=Ci(n);const r=setInterval(()=>{const t=Ci(n);t!==i&&(e(t),i=t)},1e3);this.listenerUnsubscribes.set(e,()=>clearInterval(r))}_removeListener(t,e){const n=this.listenerUnsubscribes.get(e);n&&(n(),this.listenerUnsubscribes.delete(e))}}Ai.type="COOKIE";class Pi extends Si{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Pi.type="SESSION";const Ri=Pi;class Oi{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(e=>e.isListeningto(t));if(e)return e;const n=new Oi(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:n,eventType:i,data:r}=e.data,s=this.handlersMap[i];if(null===s||void 0===s||!s.size)return;e.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(s).map(async t=>t(e.origin,r)),a=await function(t){return Promise.all(t.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}(o);e.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:a})}_subscribe(t,e){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),e&&0!==this.handlersMap[t].size||delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Mi(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let i=0;i<e;i++)n+=Math.floor(10*Math.random());return t+n}Oi.receivers=[];class Di{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const i="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,s;return new Promise((o,a)=>{const l=Mi("",20);i.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(t){const e=t;if(e.data.eventId===l)switch(e.data.status){case"ack":clearTimeout(c),r=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),o(e.data.response);break;default:clearTimeout(c),clearTimeout(r),a(new Error("invalid_response"))}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:l,data:e},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function Ni(){return window}function Li(){return"undefined"!==typeof Ni().WorkerGlobalScope&&"function"===typeof Ni().importScripts}const Fi="firebaseLocalStorageDb",Vi="firebaseLocalStorage",Ui="fbase_key";class zi{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function ji(t,e){return t.transaction([Vi],e?"readwrite":"readonly").objectStore(Vi)}function Bi(){const t=indexedDB.open(Fi,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const e=t.result;try{e.createObjectStore(Vi,{keyPath:Ui})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Vi)?e(n):(n.close(),await function(){const t=indexedDB.deleteDatabase(Fi);return new zi(t).toPromise()}(),e(await Bi()))})})}async function Hi(t,e,n){const i=ji(t,!0).put({[Ui]:e,value:n});return new zi(i).toPromise()}function Wi(t,e){const n=ji(t,!0).delete(e);return new zi(n).toPromise()}class qi{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Bi()),this.db}async _withRetries(t){let e=0;for(;;)try{const e=await this._openDb();return await t(e)}catch(n){if(e++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Li()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oi._getInstance(Li()?self:null),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await async function(){var t;if(null===(t=navigator)||void 0===t||!t.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Di(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(t=n[0])&&void 0!==t&&t.fulfilled&&null!==(e=n[0])&&void 0!==e&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(this.sender&&this.activeServiceWorker&&function(){var t;return(null===(t=navigator)||void 0===t||null===(t=t.serviceWorker)||void 0===t?void 0:t.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Bi();return await Hi(t,Ei,"1"),await Wi(t,Ei),!0}catch(t){}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Hi(n,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(e=>async function(t,e){const n=ji(t,!1).get(e),i=await new zi(n).toPromise();return void 0===i?null:i.value}(e,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>Wi(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(t=>{const e=ji(t,!1).getAll();return new zi(e).toPromise()});if(!t)return[];if(0!==this.pendingWrites)return[];const e=[],n=new Set;if(0!==t.length)for(const{fbase_key:i,value:r}of t)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),e.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),e.push(i));return e}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}qi.type="LOCAL";const Ki=qi;function Gi(t,e){return Ke(t,"POST","/v2/accounts/mfaSignIn:start",qe(t,e))}jn("rcb"),new Ue(3e4,6e4);const Qi="recaptcha";async function Yi(t,e,n){if(!t._getRecaptchaConfig())try{await Qn(t)}catch(r){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(r="string"===typeof e?{phoneNumber:e}:e,"session"in r){const e=r.session;if("phoneNumber"in r){Oe("enroll"===e.type,t,"internal-error");const i={idToken:e.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=Gn(t,i,"mfaSmsEnrollment",async(t,e)=>{if(e.phoneEnrollmentInfo.captchaResponse===Wn){Oe((null===n||void 0===n?void 0:n.type)===Qi,t,"argument-error");return xi(t,await Xi(t,e,n))}return xi(t,e)},"PHONE_PROVIDER");return(await s.catch(t=>Promise.reject(t))).phoneSessionInfo.sessionInfo}{var i;Oe("signin"===e.type,t,"internal-error");const s=(null===(i=r.multiFactorHint)||void 0===i?void 0:i.uid)||r.multiFactorUid;Oe(s,t,"missing-multi-factor-info");const o={mfaPendingCredential:e.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=Gn(t,o,"mfaSmsSignIn",async(t,e)=>{if(e.phoneSignInInfo.captchaResponse===Wn){Oe((null===n||void 0===n?void 0:n.type)===Qi,t,"argument-error");return Gi(t,await Xi(t,e,n))}return Gi(t,e)},"PHONE_PROVIDER");return(await a.catch(t=>Promise.reject(t))).phoneResponseInfo.sessionInfo}}{const e={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"},i=Gn(t,e,"sendVerificationCode",async(t,e)=>{if(e.captchaResponse===Wn){Oe((null===n||void 0===n?void 0:n.type)===Qi,t,"argument-error");return ri(t,await Xi(t,e,n))}return ri(t,e)},"PHONE_PROVIDER");return(await i.catch(t=>Promise.reject(t))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Xi(t,e,n){Oe(n.type===Qi,t,"argument-error");const i=await n.verify();Oe("string"===typeof i,t,"argument-error");const r=u({},e);if("phoneEnrollmentInfo"in r){const t=r.phoneEnrollmentInfo.phoneNumber,e=r.phoneEnrollmentInfo.captchaResponse,n=r.phoneEnrollmentInfo.clientType,s=r.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(r,{phoneEnrollmentInfo:{phoneNumber:t,recaptchaToken:i,captchaResponse:e,clientType:n,recaptchaVersion:s}}),r}if("phoneSignInInfo"in r){const t=r.phoneSignInInfo.captchaResponse,e=r.phoneSignInInfo.clientType,n=r.phoneSignInInfo.recaptchaVersion;return Object.assign(r,{phoneSignInInfo:{recaptchaToken:i,captchaResponse:t,clientType:e,recaptchaVersion:n}}),r}return Object.assign(r,{recaptchaToken:i}),r}class Ji{constructor(t){this.providerId=Ji.PROVIDER_ID,this.auth=Fn(t)}verifyPhoneNumber(t,e){return Yi(this.auth,t,B(e))}static credential(t,e){return oi._fromVerification(t,e)}static credentialFromResult(t){const e=t;return Ji.credentialFromTaggedObject(e)}static credentialFromError(t){return Ji.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e)return null;const{phoneNumber:n,temporaryProof:i}=e;return n&&i?oi._fromTokenResponse(n,i):null}}function $i(t,e){return e?yn(e):(Oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}Ji.PROVIDER_ID="phone",Ji.PHONE_SIGN_IN_METHOD="phone";class Zi extends $n{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ni(t,this._buildIdpRequest())}_linkToIdToken(t,e){return ni(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return ni(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function tr(t){return _i(t.auth,new Zi(t),t.bypassAuthState)}function er(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),wi(n,new Zi(t),t.bypassAuthState)}async function nr(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),bi(n,new Zi(t),t.bypassAuthState)}class ir{constructor(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=t,this.resolver=n,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:n,postBody:i,tenantId:r,error:s,type:o}=t;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:e,sessionId:n,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(l){this.reject(l)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return tr;case"linkViaPopup":case"linkViaRedirect":return nr;case"reauthViaPopup":case"reauthViaRedirect":return er;default:Te(this.auth,"internal-error")}}resolve(t){De(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){De(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const rr=new Ue(2e3,1e4);class sr extends ir{constructor(t,e,n,i,r){super(t,e,i,r),this.provider=n,this.authWindow=null,this.pollId=null,sr.currentPopupAction&&sr.currentPopupAction.cancel(),sr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Oe(t,this.auth,"internal-error"),t}async onExecution(){De(1===this.filter.length,"Popup operations only handle one event");const t=Mi();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ce(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(Ce(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sr.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e;null!==(e=this.authWindow)&&void 0!==e&&null!==(e=e.window)&&void 0!==e&&e.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ce(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(t,rr.get())};t()}}sr.currentPopupAction=null;const or=new Map;class ar extends ir{constructor(t,e){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let t=or.get(this.auth._key());if(!t){try{const e=await async function(t,e){const n=ur(e),i=cr(t);if(!await i._isAvailable())return!1;const r="true"===await i._get(n);return await i._remove(n),r}(this.resolver,this.auth),n=e?await super.execute():null;t=()=>Promise.resolve(n)}catch(e){t=()=>Promise.reject(e)}or.set(this.auth._key(),t)}return this.bypassAuthState||or.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if("signInViaRedirect"===t.type)return super.onAuthEvent(t);if("unknown"!==t.type){if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function lr(t,e){or.set(t._key(),e)}function cr(t){return yn(t._redirectPersistence)}function ur(t){return wn("pendingRedirect",t.config.apiKey,t.name)}async function hr(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(te(t.app))return Promise.reject(Ae(t));const i=Fn(t),r=$i(i,e),s=new ar(i,r,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}class dr{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pr(t);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!pr(t)){var n;const i=(null===(n=t.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";e.onError(Ce(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fr(t))}saveEventToCache(t){this.cachedEventUids.add(fr(t)),this.lastProcessedEventTime=Date.now()}}function fr(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(t=>t).join("-")}function pr(t){let{type:e,error:n}=t;return"unknown"===e&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const gr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mr=/^https?/;async function yr(t){if(t.config.emulator)return;const{authorizedDomains:e}=await async function(t){return Ke(t,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(t);for(const i of e)try{if(vr(i))return}catch(n){}Te(t,"unauthorized-domain")}function vr(t){const e=Ne(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const r=new URL(t);return""===r.hostname&&""===i?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===i}if(!mr.test(n))return!1;if(gr.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const br=new Ue(3e4,6e4);function wr(){const t=Ni().___jsl;if(null!==t&&void 0!==t&&t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}function _r(t){return new Promise((e,n)=>{var i,r;function s(){wr(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wr(),n(Ce(t,"network-request-failed"))},timeout:br.get()})}if(null!==(i=Ni().gapi)&&void 0!==i&&null!==(i=i.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(r=Ni().gapi)||void 0===r||!r.load){const e=jn("iframefcb");return Ni()[e]=()=>{gapi.load?s():n(Ce(t,"network-request-failed"))},zn("".concat(Un.gapiScript,"?onload=").concat(e)).catch(t=>n(t))}s()}}).catch(t=>{throw xr=null,t})}let xr=null;const Er=new Ue(5e3,15e3),Sr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Tr(t){const e=t.config;Oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ze(e,"emulator/auth/iframe"):"https://".concat(t.config.authDomain,"/").concat("__/auth/iframe"),i={apiKey:e.apiKey,appName:t.name,v:ie},r=kr.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),"".concat(n,"?").concat(F(i).slice(1))}async function Cr(t){const e=await function(t){return xr=xr||_r(t),xr}(t),n=Ni().gapi;return Oe(n,t,"internal-error"),e.open({where:document.body,url:Tr(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sr,dontclear:!0},e=>new Promise(async(n,i)=>{await e.restyle({setHideOnLeave:!1});const r=Ce(t,"network-request-failed"),s=Ni().setTimeout(()=>{i(r)},Er.get());function o(){Ni().clearTimeout(s),n(e)}e.ping(o).then(o,()=>{i(r)})}))}const Ir={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ar{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(t){}}}function Pr(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=u(u({},Ir),{},{width:i.toString(),height:r.toString(),top:s,left:o}),c=I().toLowerCase();n&&(a=kn(c)?"_blank":n),En(c)&&(e=e||"http://localhost",l.scrollbars="yes");const h=Object.entries(l).reduce((t,e)=>{let[n,i]=e;return"".concat(t).concat(n,"=").concat(i,",")},"");if(function(){var t;return Pn(arguments.length>0&&void 0!==arguments[0]?arguments[0]:I())&&!(null===(t=window.navigator)||void 0===t||!t.standalone)}(c)&&"_self"!==a)return function(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}(e||"",a),new Ar(null);const d=window.open(e||"",a,h);Oe(d,t,"popup-blocked");try{d.focus()}catch(f){}return new Ar(d)}const Rr="__/auth/handler",Or="emulator/auth/handler",Mr=encodeURIComponent("fac");async function Dr(t,e,n,i,r,s){Oe(t.config.authDomain,t,"auth-domain-config-required"),Oe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ie,eventId:r};if(e instanceof ci){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[t,e]of Object.entries(s||{}))o[t]=e}if(e instanceof ui){const t=e.getScopes().filter(t=>""!==t);t.length>0&&(o.scopes=t.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await t._getAppCheckToken(),c=l?"#".concat(Mr,"=").concat(encodeURIComponent(l)):"";return"".concat(function(t){let{config:e}=t;if(!e.emulator)return"https://".concat(e.authDomain,"/").concat(Rr);return ze(e,Or)}(t),"?").concat(F(a).slice(1)).concat(c)}const Nr="webStorageSupport";const Lr=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ri,this._completeRedirectFn=hr,this._overrideRedirectResult=lr}async _openPopup(t,e,n,i){var r;De(null===(r=this.eventManagers[t._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");return Pr(t,await Dr(t,e,n,Ne(),i),Mi())}async _openRedirect(t,e,n,i){await this._originValidation(t);return function(t){Ni().location.href=t}(await Dr(t,e,n,Ne(),i)),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:t,promise:n}=this.eventManagers[e];return t?Promise.resolve(t):(De(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch(()=>{delete this.eventManagers[e]}),n}async initAndGetManager(t){const e=await Cr(t),n=new dr(t);return e.register("authEvent",e=>{Oe(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event");return{status:n.onEvent(e.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Nr,{type:Nr},n=>{var i;const r=null===n||void 0===n||null===(i=n[0])||void 0===i?void 0:i[Nr];void 0!==r&&e(!!r),Te(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=yr(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return On()||Sn()||Pn()}};var Fr="@firebase/auth",Vr="1.11.0";class Ur{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}async getToken(t){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(t)}}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(e=>{t((null===e||void 0===e?void 0:e.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const zr=_("authIdTokenMaxAge")||300;let jr=null;var Br,Hr;Br={loadJS:t=>new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=t=>{const e=Ce("internal-error");e.customData=t,n(e)},i.type="text/javascript",i.charset="UTF-8",function(){var t,e;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(i)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Un=Br,Hr="Browser",$t(new H("auth",(t,e)=>{let{options:n}=e;const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;Oe(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:Hr,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mn(Hr)},c=new Ln(i,r,s,l);return function(t,e){const n=(null===e||void 0===e?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(yn);null!==e&&void 0!==e&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,null===e||void 0===e?void 0:e.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider("auth-internal").initialize()})),$t(new H("auth-internal",t=>(t=>new Ur(t))(Fn(t.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),oe(Fr,Vr,function(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Hr)),oe(Fr,Vr,"esm2020");var Wr,qr,Kr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Gr={};(function(){var t;function e(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(t,e,n){n||(n=0);var i=Array(16);if("string"===typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var s=t.g[3],o=e+(s^n&(r^s))+i[0]+3614090360&4294967295;o=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(r^e&(n^r))+i[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(e^n))+i[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^r&(s^e))+i[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^e&(n^r))+i[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(e^n))+i[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^r&(s^e))+i[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^e&(n^r))+i[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(e^n))+i[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^r&(s^e))+i[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^e&(n^r))+i[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(e^n))+i[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^r&(s^e))+i[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(r^s&(n^r))+i[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(e^n))+i[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^n&(s^e))+i[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(r^s&(n^r))+i[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(e^n))+i[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^n&(s^e))+i[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(r^s&(n^r))+i[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(e^n))+i[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^n&(s^e))+i[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(r^s&(n^r))+i[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(e^n))+i[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^n&(s^e))+i[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^r)+i[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^n)+i[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^e)+i[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^r)+i[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^n)+i[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^e)+i[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^r^s)+i[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^r)+i[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^n)+i[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^e)+i[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^r)+i[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^n)+i[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^e)+i[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(r^(n|~s))+i[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=r+(e^(s|~n))+i[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(r^(n|~s))+i[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=r+(e^(s|~n))+i[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(r^(n|~s))+i[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=r+(e^(s|~n))+i[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(r^(n|~s))+i[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((r=s+((o=r+(e^(s|~n))+i[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+s&4294967295}function i(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var s=0|t[r];i&&s==e||(n[r]=s,i=!1)}this.g=n}!function(t,e){function n(){}n.prototype=e.prototype,t.D=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.C=function(t,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return e.prototype[n].apply(t,r)}}(e,function(){this.blockSize=-1}),e.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},e.prototype.u=function(t,e){void 0===e&&(e=t.length);for(var i=e-this.blockSize,r=this.B,s=this.h,o=0;o<e;){if(0==s)for(;o<=i;)n(this,t,o),o+=this.blockSize;if("string"===typeof t){for(;o<e;)if(r[s++]=t.charCodeAt(o++),s==this.blockSize){n(this,r),s=0;break}}else for(;o<e;)if(r[s++]=t[o++],s==this.blockSize){n(this,r),s=0;break}}this.h=s,this.o+=e},e.prototype.v=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.o;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.u(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};var r={};function s(t){return-128<=t&&128>t?function(t,e){var n=r;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(t){return new i([0|t],0>t?-1:0)}):new i([0|t],0>t?-1:0)}function o(t){if(isNaN(t)||!isFinite(t))return a;if(0>t)return d(o(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=4294967296;return new i(e,0)}var a=s(0),l=s(1),c=s(16777216);function u(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function h(t){return-1==t.h}function d(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new i(n,~t.h).add(l)}function f(t,e){return t.add(d(e))}function p(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function g(t,e){this.g=t,this.h=e}function m(t,e){if(u(e))throw Error("division by zero");if(u(t))return new g(a,a);if(h(t))return e=m(d(t),e),new g(d(e.g),d(e.h));if(h(e))return e=m(t,d(e)),new g(d(e.g),e.h);if(30<t.g.length){if(h(t)||h(e))throw Error("slowDivide_ only works with positive integers.");for(var n=l,i=e;0>=i.l(t);)n=y(n),i=y(i);var r=v(n,1),s=v(i,1);for(i=v(i,2),n=v(n,2);!u(i);){var c=s.add(i);0>=c.l(t)&&(r=r.add(n),s=c),i=v(i,1),n=v(n,1)}return e=f(t,r.j(e)),new g(r,e)}for(r=a;0<=t.l(e);){for(n=Math.max(1,Math.floor(t.m()/e.m())),i=48>=(i=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,i-48),c=(s=o(n)).j(e);h(c)||0<c.l(t);)c=(s=o(n-=i)).j(e);u(s)&&(s=l),r=r.add(s),t=f(t,c)}return new g(r,t)}function y(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.i(r)<<1|t.i(r-1)>>>31;return new i(n,t.h)}function v(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],o=0;o<r;o++)s[o]=0<e?t.i(o+n)>>>e|t.i(o+n+1)<<32-e:t.i(o+n);return new i(s,t.h)}(t=i.prototype).m=function(){if(h(this))return-d(this).m();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.i(n);t+=(0<=i?i:4294967296+i)*e,e*=4294967296}return t},t.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(u(this))return"0";if(h(this))return"-"+d(this).toString(t);for(var e=o(Math.pow(t,6)),n=this,i="";;){var r=m(n,e).g,s=((0<(n=f(n,r.j(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(u(n=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},t.i=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},t.l=function(t){return h(t=f(this,t))?-1:u(t)?0:1},t.abs=function(){return h(this)?d(this):this},t.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var o=r+(65535&this.i(s))+(65535&t.i(s)),a=(o>>>16)+(this.i(s)>>>16)+(t.i(s)>>>16);r=a>>>16,o&=65535,a&=65535,n[s]=a<<16|o}return new i(n,-2147483648&n[n.length-1]?-1:0)},t.j=function(t){if(u(this)||u(t))return a;if(h(this))return h(t)?d(this).j(d(t)):d(d(this).j(t));if(h(t))return d(this.j(d(t)));if(0>this.l(c)&&0>t.l(c))return o(this.m()*t.m());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var l=this.i(r)>>>16,f=65535&this.i(r),g=t.i(s)>>>16,m=65535&t.i(s);n[2*r+2*s]+=f*m,p(n,2*r+2*s),n[2*r+2*s+1]+=l*m,p(n,2*r+2*s+1),n[2*r+2*s+1]+=f*g,p(n,2*r+2*s+1),n[2*r+2*s+2]+=l*g,p(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new i(n,0)},t.A=function(t){return m(this,t).h},t.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.i(r)&t.i(r);return new i(n,this.h&t.h)},t.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.i(r)|t.i(r);return new i(n,this.h|t.h)},t.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.i(r)^t.i(r);return new i(n,this.h^t.h)},e.prototype.digest=e.prototype.v,e.prototype.reset=e.prototype.s,e.prototype.update=e.prototype.u,qr=Gr.Md5=e,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.A,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=o,i.fromString=function t(e,n){if(0==e.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==e.charAt(0))return d(t(e.substring(1),n));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var i=o(Math.pow(n,8)),r=a,s=0;s<e.length;s+=8){var l=Math.min(8,e.length-s),c=parseInt(e.substring(s,s+l),n);8>l?(l=o(Math.pow(n,l)),r=r.j(l).add(o(c))):r=(r=r.j(i)).add(o(c))}return r},Wr=Gr.Integer=i}).apply("undefined"!==typeof Kr?Kr:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Qr,Yr,Xr,Jr,$r,Zr,ts,es,ns="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},is={};(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){return t==Array.prototype||t==Object.prototype||(t[e]=n.value),t};var n=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ns&&ns];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(t,i){if(i)t:{var r=n;t=t.split(".");for(var s=0;s<t.length-1;s++){var o=t[s];if(!(o in r))break t;r=r[o]}(i=i(s=r[t=t[t.length-1]]))!=s&&null!=i&&e(r,t,{configurable:!0,writable:!0,value:i})}}("Array.prototype.values",function(t){return t||function(){return function(t,e){t instanceof String&&(t+="");var n=0,i=!1,r={next:function(){if(!i&&n<t.length){var r=n++;return{value:e(r,t[r]),done:!1}}return i=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}(this,function(t,e){return e})}});var i=i||{},r=this||self;function s(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function o(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function a(t,e,n){return t.call.apply(t.bind,arguments)}function l(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function c(t,e,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function u(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function h(t,e){function n(){}n.prototype=e.prototype,t.aa=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Qb=function(t,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return e.prototype[n].apply(t,r)}}function d(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function f(t,e){for(let n=1;n<arguments.length;n++){const e=arguments[n];if(s(e)){const n=t.length||0,i=e.length||0;t.length=n+i;for(let r=0;r<i;r++)t[n+r]=e[r]}else t.push(e)}}function p(t){return/^[\s\xa0]*$/.test(t)}function g(){var t=r.navigator;return t&&(t=t.userAgent)?t:""}function m(t){return m[" "](t),t}m[" "]=function(){};var y=-1!=g().indexOf("Gecko")&&!(-1!=g().toLowerCase().indexOf("webkit")&&-1==g().indexOf("Edge"))&&!(-1!=g().indexOf("Trident")||-1!=g().indexOf("MSIE"))&&-1==g().indexOf("Edge");function v(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function b(t){const e={};for(const n in t)e[n]=t[n];return e}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(t,e){let n,i;for(let r=1;r<arguments.length;r++){for(n in i=arguments[r],i)t[n]=i[n];for(let e=0;e<w.length;e++)n=w[e],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function x(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function E(t){r.setTimeout(()=>{throw t},0)}function S(){var t=A;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var k=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new T,t=>t.reset());class T{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}let C,I=!1,A=new class{constructor(){this.h=this.g=null}add(t,e){const n=k.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}},P=()=>{const t=r.Promise.resolve(void 0);C=()=>{t.then(R)}};var R=()=>{for(var t;t=S();){try{t.h.call(t.g)}catch(n){E(n)}var e=k;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}I=!1};function O(){this.s=this.s,this.C=this.C}function M(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}O.prototype.s=!1,O.prototype.ma=function(){this.s||(this.s=!0,this.N())},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},M.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!r.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const t=()=>{};r.addEventListener("test",t,e),r.removeEventListener("test",t,e)}catch(n){}return t}();function N(t,e){if(M.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(y){t:{try{m(e.nodeName);var r=!0;break t}catch(s){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:L[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&N.aa.h.call(this)}}h(N,M);var L={2:"touch",3:"pen",4:"mouse"};N.prototype.h=function(){N.aa.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),V=0;function U(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ha=r,this.key=++V,this.da=this.fa=!1}function z(t){t.da=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function j(t){this.src=t,this.g={},this.h=0}function B(t,e){var n=e.type;if(n in t.g){var i,r=t.g[n],s=Array.prototype.indexOf.call(r,e,void 0);(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(z(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function H(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.da&&s.listener==e&&s.capture==!!n&&s.ha==i)return r}return-1}j.prototype.add=function(t,e,n,i,r){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=H(t,e,i,r);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new U(e,this.src,s,!!i,r)).fa=n,t.push(e)),e};var W="closure_lm_"+(1e6*Math.random()|0),q={};function K(t,e,n,i,r){if(i&&i.once)return Q(t,e,n,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)K(t,e[s],n,i,r);return null}return n=et(n),t&&t[F]?t.K(e,n,o(i)?!!i.capture:!!i,r):G(t,e,n,!1,i,r)}function G(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var a=o(r)?!!r.capture:!!r,l=Z(t);if(l||(t[W]=l=new j(t)),(n=l.add(e,n,i,a,s)).proxy)return n;if(i=function(){function t(n){return e.call(t.src,t.listener,n)}const e=$;return t}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)D||(r=a),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(J(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function Q(t,e,n,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Q(t,e[s],n,i,r);return null}return n=et(n),t&&t[F]?t.L(e,n,o(i)?!!i.capture:!!i,r):G(t,e,n,!0,i,r)}function Y(t,e,n,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)Y(t,e[s],n,i,r);else i=o(i)?!!i.capture:!!i,n=et(n),t&&t[F]?(t=t.i,(e=String(e).toString())in t.g&&(-1<(n=H(s=t.g[e],n,i,r))&&(z(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--)))):t&&(t=Z(t))&&(e=t.g[e.toString()],t=-1,e&&(t=H(e,n,i,r)),(n=-1<t?e[t]:null)&&X(n))}function X(t){if("number"!==typeof t&&t&&!t.da){var e=t.src;if(e&&e[F])B(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(J(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Z(e))?(B(n,t),0==n.h&&(n.src=null,e[W]=null)):z(t)}}}function J(t){return t in q?q[t]:q[t]="on"+t}function $(t,e){if(t.da)t=!0;else{e=new N(e,this);var n=t.listener,i=t.ha||t.src;t.fa&&X(t),t=n.call(i,e)}return t}function Z(t){return(t=t[W])instanceof j?t:null}var tt="__closure_events_fn_"+(1e9*Math.random()>>>0);function et(t){return"function"===typeof t?t:(t[tt]||(t[tt]=function(e){return t.handleEvent(e)}),t[tt])}function nt(){O.call(this),this.i=new j(this),this.M=this,this.F=null}function it(t,e){var n,i=t.F;if(i)for(n=[];i;i=i.F)n.push(i);if(t=t.M,i=e.type||e,"string"===typeof e)e=new M(e,t);else if(e instanceof M)e.target=e.target||t;else{var r=e;_(e=new M(i,t),r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];r=rt(o,i,!0,e)&&r}if(r=rt(o=e.g=t,i,!0,e)&&r,r=rt(o,i,!1,e)&&r,n)for(s=0;s<n.length;s++)r=rt(o=e.g=n[s],i,!1,e)&&r}function rt(t,e,n,i){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.da&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.fa&&B(t.i,o),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}function st(t,e,n){if("function"===typeof t)n&&(t=c(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=c(t.handleEvent,t)}return 2147483647<Number(e)?-1:r.setTimeout(t,e||0)}function ot(t){t.g=st(()=>{t.g=null,t.i&&(t.i=!1,ot(t))},t.l);const e=t.h;t.h=null,t.m.apply(null,e)}h(nt,O),nt.prototype[F]=!0,nt.prototype.removeEventListener=function(t,e,n,i){Y(this,t,e,n,i)},nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)z(n[i]);delete e.g[t],e.h--}}this.F=null},nt.prototype.K=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)},nt.prototype.L=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};class at extends O{constructor(t,e){super(),this.m=t,this.l=e,this.h=null,this.i=!1,this.g=null}j(t){this.h=arguments,this.g?this.i=!0:ot(this)}N(){super.N(),this.g&&(r.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lt(t){O.call(this),this.h=t,this.g={}}h(lt,O);var ct=[];function ut(t){v(t.g,function(t,e){this.g.hasOwnProperty(e)&&X(t)},t),t.g={}}lt.prototype.N=function(){lt.aa.N.call(this),ut(this)},lt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ht=r.JSON.stringify,dt=r.JSON.parse,ft=class{stringify(t){return r.JSON.stringify(t,void 0)}parse(t){return r.JSON.parse(t,void 0)}};function pt(){}function gt(t){return t.h||(t.h=t.i())}function mt(){}pt.prototype.h=null;var yt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vt(){M.call(this,"d")}function bt(){M.call(this,"c")}h(vt,M),h(bt,M);var wt={},_t=null;function xt(){return _t=_t||new nt}function Et(t){M.call(this,wt.La,t)}function St(t){const e=xt();it(e,new Et(e))}function kt(t,e){M.call(this,wt.STAT_EVENT,t),this.stat=e}function Tt(t){const e=xt();it(e,new kt(e,t))}function Ct(t,e){M.call(this,wt.Ma,t),this.size=e}function It(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return r.setTimeout(function(){t()},e)}function At(){this.g=!0}function Pt(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return ht(n)}catch(a){return e}}(t,n)+(i?" "+i:"")})}wt.La="serverreachability",h(Et,M),wt.STAT_EVENT="statevent",h(kt,M),wt.Ma="timingevent",h(Ct,M),At.prototype.xa=function(){this.g=!1},At.prototype.info=function(){};var Rt,Ot={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Dt(){}function Nt(t,e,n,i){this.j=t,this.i=e,this.l=n,this.R=i||1,this.U=new lt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Lt}function Lt(){this.i=null,this.g="",this.h=!1}h(Dt,pt),Dt.prototype.g=function(){return new XMLHttpRequest},Dt.prototype.i=function(){return{}},Rt=new Dt;var Ft={},Vt={};function Ut(t,e,n){t.L=1,t.v=he(oe(e)),t.m=n,t.P=!0,zt(t,null)}function zt(t,e){t.F=Date.now(),Ht(t),t.A=oe(t.v);var n=t.A,i=t.R;Array.isArray(i)||(i=[String(i)]),ke(n.i,"t",i),t.C=0,n=t.j.J,t.h=new Lt,t.g=fn(t.j,n?e:null,!t.m),0<t.O&&(t.M=new at(c(t.Y,t,t.g),t.O)),e=t.U,n=t.g,i=t.ca;var r="readystatechange";Array.isArray(r)||(r&&(ct[0]=r.toString()),r=ct);for(var s=0;s<r.length;s++){var o=K(n,r[s],i||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}e=t.H?b(t.H):{},t.m?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.m,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),St(),function(t,e,n,i,r,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+n+"\n"+o})}(t.i,t.u,t.A,t.l,t.R,t.m)}function jt(t){return!!t.g&&("GET"==t.u&&2!=t.L&&t.j.Ca)}function Bt(t,e){var n=t.C,i=e.indexOf("\n",n);return-1==i?Vt:(n=Number(e.substring(n,i)),isNaN(n)?Ft:(i+=1)+n>e.length?Vt:(e=e.slice(i,i+n),t.C=i+n,e))}function Ht(t){t.S=Date.now()+t.I,Wt(t,t.I)}function Wt(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=It(c(t.ba,t),e)}function qt(t){t.B&&(r.clearTimeout(t.B),t.B=null)}function Kt(t){0==t.j.G||t.J||ln(t.j,t)}function Gt(t){qt(t);var e=t.M;e&&"function"==typeof e.ma&&e.ma(),t.M=null,ut(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ma())}function Qt(t,e){try{var n=t.j;if(0!=n.G&&(n.g==t||Zt(n.h,t)))if(!t.K&&Zt(n.h,t)&&3==n.G){try{var i=n.Da.g.parse(e)}catch(u){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;an(n),Xe(n)}rn(n),Tt(18)}}else n.za=r[1],0<n.za-n.T&&37500>r[2]&&n.F&&0==n.v&&!n.C&&(n.C=It(c(n.Za,n),6e3));if(1>=$t(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((t.K||n.g==t)&&an(n),!p(e))for(r=n.Da.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const e=c[3];null!=e&&(n.la=e,n.j.info("VER="+n.la));const r=c[4];null!=r&&(n.Aa=r,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(i=1.5*u,n.L=i,n.j.info("backChannelRequestTimeoutMs_="+i)),i=n;const h=t.g;if(h){const t=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var s=i.h;s.g||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(te(s,s.h),s.h=null))}if(i.D){const t=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(i.ya=t,ue(i.I,i.D,t))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-t.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=t;if((i=n).qa=dn(i,i.J?i.ia:null,i.W),o.K){ee(i.h,o);var a=o,l=i.L;l&&(a.I=l),a.B&&(qt(a),Ht(a)),i.g=o}else nn(i);0<n.i.length&&$e(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Ye(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}St()}catch(u){}}Nt.prototype.ca=function(t){t=t.target;const e=this.M;e&&3==qe(t)?e.j():this.Y(t)},Nt.prototype.Y=function(t){try{if(t==this.g)t:{const d=qe(this.g);var e=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Ke(this.g)))){this.J||4!=d||7==e||St(),qt(this);var n=this.g.Z();this.X=n;e:if(jt(this)){var i=Ke(this.g);t="";var s=i.length,o=4==qe(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Gt(this),Kt(this);var a="";break e}this.h.i=new r.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:!(o&&e==s-1)});i.length=0,this.h.g+=t,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(t,e,n,i,r,s,o){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){e:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break e}}u=null}if(!(n=u)){this.o=!1,this.s=3,Tt(12),Gt(this),Kt(this);break t}Pt(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qt(this,n)}if(this.P){let t;for(n=!0;!this.J&&this.C<a.length;){if(t=Bt(this,a),t==Vt){4==d&&(this.s=4,Tt(14),n=!1),Pt(this.i,this.l,null,"[Incomplete Response]");break}if(t==Ft){this.s=4,Tt(15),Pt(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Pt(this.i,this.l,t,null),Qt(this,t)}if(jt(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=a.length||this.h.h||(this.s=1,Tt(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),sn(h),h.M=!0,Tt(11))}}else Pt(this.i,this.l,a,"[Invalid Chunked Response]"),Gt(this),Kt(this)}else Pt(this.i,this.l,a,null),Qt(this,a);4==d&&Gt(this),this.o&&!this.J&&(4==d?ln(this.j,this):(this.o=!1,Ht(this)))}else(function(t){const e={};t=(t.g&&2<=qe(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<t.length;i++){if(p(t[i]))continue;var n=x(t[i]);const r=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=e[r]||[];e[r]=s,s.push(n)}!function(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(t){return t.join(", ")})})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),Gt(this),Kt(this)}}}catch(d){}},Nt.prototype.cancel=function(){this.J=!0,Gt(this)},Nt.prototype.ba=function(){this.B=null;const t=Date.now();0<=t-this.S?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.i,this.A),2!=this.L&&(St(),Tt(17)),Gt(this),this.s=2,Kt(this)):Wt(this,this.S-t)};var Yt=class{constructor(t,e){this.g=t,this.map=e}};function Xt(t){this.l=t||10,r.PerformanceNavigationTiming?t=0<(t=r.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(r.chrome&&r.chrome.loadTimes&&r.chrome.loadTimes()&&r.chrome.loadTimes().wasFetchedViaSpdy),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jt(t){return!!t.h||!!t.g&&t.g.size>=t.j}function $t(t){return t.h?1:t.g?t.g.size:0}function Zt(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function te(t,e){t.g?t.g.add(e):t.h=e}function ee(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function ne(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return d(t.i)}function ie(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(s(t)||"string"===typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function(t){if(t.na&&"function"==typeof t.na)return t.na();if(!t.V||"function"!=typeof t.V){if("undefined"!==typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!==typeof Set&&t instanceof Set)){if(s(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}(t),i=function(t){if(t.V&&"function"==typeof t.V)return t.V();if("undefined"!==typeof Map&&t instanceof Map||"undefined"!==typeof Set&&t instanceof Set)return Array.from(t.values());if("string"===typeof t)return t.split("");if(s(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}Xt.prototype.cancel=function(){if(this.i=ne(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var re=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function se(t){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,t instanceof se){this.h=t.h,ae(this,t.j),this.o=t.o,this.g=t.g,le(this,t.s),this.l=t.l;var e=t.i,n=new _e;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ce(this,n),this.m=t.m}else t&&(e=String(t).match(re))?(this.h=!1,ae(this,e[1]||"",!0),this.o=de(e[2]||""),this.g=de(e[3]||"",!0),le(this,e[4]),this.l=de(e[5]||"",!0),ce(this,e[6]||"",!0),this.m=de(e[7]||"")):(this.h=!1,this.i=new _e(null,this.h))}function oe(t){return new se(t)}function ae(t,e,n){t.j=n?de(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function le(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.s=e}else t.s=null}function ce(t,e,n){e instanceof _e?(t.i=e,function(t,e){e&&!t.j&&(xe(t),t.i=null,t.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Ee(this,e),ke(this,n,t))},t)),t.j=e}(t.i,t.h)):(n||(e=fe(e,be)),t.i=new _e(e,t.h))}function ue(t,e,n){t.i.set(e,n)}function he(t){return ue(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function de(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function fe(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,pe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function pe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}se.prototype.toString=function(){var t=[],e=this.j;e&&t.push(fe(e,me,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.o)&&t.push(fe(e,me,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(fe(n,"/"==n.charAt(0)?ve:ye,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.m)&&t.push("#",fe(n,we)),t.join("")};var ge,me=/[#\/\?@]/g,ye=/[#\?:]/g,ve=/[#\?]/g,be=/[#\?@]/g,we=/#/g;function _e(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function xe(t){t.g||(t.g=new Map,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Ee(t,e){xe(t),e=Te(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Se(t,e){return xe(t),e=Te(t,e),t.g.has(e)}function ke(t,e,n){Ee(t,e),0<n.length&&(t.i=null,t.g.set(Te(t,e),d(n)),t.h+=n.length)}function Te(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Ce(t,e,n,i,r){try{r&&(r.onload=null,r.onerror=null,r.onabort=null,r.ontimeout=null),i(n)}catch(s){}}function Ie(){this.g=new ft}function Ae(t,e,n){const i=n||"";try{ie(t,function(t,n){let r=t;o(t)&&(r=ht(t)),e.push(i+n+"="+encodeURIComponent(r))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Pe(t){this.l=t.Ub||null,this.j=t.eb||!1}function Re(t,e){nt.call(this),this.D=t,this.o=e,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Oe(t){t.j.read().then(t.Pa.bind(t)).catch(t.ga.bind(t))}function Me(t){t.readyState=4,t.l=null,t.j=null,t.v=null,De(t)}function De(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Ne(t){let e="";return v(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}function Le(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=Ne(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):ue(t,e,n))}function Fe(t){nt.call(this),this.headers=new Map,this.o=t||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(t=_e.prototype).add=function(t,e){xe(this),this.i=null,t=Te(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},t.forEach=function(t,e){xe(this),this.g.forEach(function(n,i){n.forEach(function(n){t.call(e,n,i,this)},this)},this)},t.na=function(){xe(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const r=t[i];for(let t=0;t<r.length;t++)n.push(e[i])}return n},t.V=function(t){xe(this);let e=[];if("string"===typeof t)Se(this,t)&&(e=e.concat(this.g.get(Te(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},t.set=function(t,e){return xe(this),this.i=null,Se(this,t=Te(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const s=encodeURIComponent(String(i)),o=this.V(i);for(i=0;i<o.length;i++){var r=s;""!==o[i]&&(r+="="+encodeURIComponent(String(o[i]))),t.push(r)}}return this.i=t.join("&")},h(Pe,pt),Pe.prototype.g=function(){return new Re(this.l,this.j)},Pe.prototype.i=(ge={},function(){return ge}),h(Re,nt),(t=Re.prototype).open=function(t,e){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=t,this.A=e,this.readyState=1,De(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.u,method:this.B,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||r).fetch(new Request(this.A,e)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Me(this)),this.readyState=0},t.Sa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,De(this)),this.g&&(this.readyState=3,De(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof r.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Oe(this)}else t.text().then(this.Ra.bind(this),this.ga.bind(this))},t.Pa=function(t){if(this.g){if(this.o&&t.value)this.response.push(t.value);else if(!this.o){var e=t.value?t.value:new Uint8Array(0);(e=this.v.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Me(this):De(this),3==this.readyState&&Oe(this)}},t.Ra=function(t){this.g&&(this.response=this.responseText=t,Me(this))},t.Qa=function(t){this.g&&(this.response=t,Me(this))},t.ga=function(){this.g&&Me(this)},t.setRequestHeader=function(t,e){this.u.append(t,e)},t.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Re.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}}),h(Fe,nt);var Ve=/^https?$/i,Ue=["POST","PUT"];function ze(t,e){t.h=!1,t.g&&(t.j=!0,t.g.abort(),t.j=!1),t.l=e,t.m=5,je(t),He(t)}function je(t){t.A||(t.A=!0,it(t,"complete"),it(t,"error"))}function Be(t){if(t.h&&"undefined"!=typeof i&&(!t.v[1]||4!=qe(t)||2!=t.Z()))if(t.u&&4==qe(t))st(t.Ea,0,t);else if(it(t,"readystatechange"),4==qe(t)){t.h=!1;try{const i=t.Z();t:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var s;if(s=0===i){var o=String(t.D).match(re)[1]||null;!o&&r.self&&r.self.location&&(o=r.self.location.protocol.slice(0,-1)),s=!Ve.test(o?o.toLowerCase():"")}n=s}if(n)it(t,"complete"),it(t,"success");else{t.m=6;try{var a=2<qe(t)?t.g.statusText:""}catch(l){a=""}t.l=a+" ["+t.Z()+"]",je(t)}}finally{He(t)}}}function He(t,e){if(t.g){We(t);const i=t.g,r=t.v[0]?()=>{}:null;t.g=null,t.v=null,e||it(t,"ready");try{i.onreadystatechange=r}catch(n){}}}function We(t){t.I&&(r.clearTimeout(t.I),t.I=null)}function qe(t){return t.g?t.g.readyState:0}function Ke(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.H){case"":case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Ge(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Qe(t){this.Aa=0,this.i=[],this.j=new At,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ge("failFast",!1,t),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ge("baseRetryDelayMs",5e3,t),this.cb=Ge("retryDelaySeedMs",1e4,t),this.Wa=Ge("forwardChannelMaxRetries",2,t),this.wa=Ge("forwardChannelRequestTimeoutMs",2e4,t),this.pa=t&&t.xmlHttpFactory||void 0,this.Xa=t&&t.Tb||void 0,this.Ca=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.h=new Xt(t&&t.concurrentRequestLimit),this.Da=new Ie,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=t&&t.Rb||!1,t&&t.xa&&this.j.xa(),t&&t.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&t&&t.detectBufferingProxy||!1,this.ja=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.ja=t.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Ye(t){if(Je(t),3==t.G){var e=t.U++,n=oe(t.I);if(ue(n,"SID",t.K),ue(n,"RID",e),ue(n,"TYPE","terminate"),tn(t,n),(e=new Nt(t,t.j,e)).L=2,e.v=he(oe(n)),n=!1,r.navigator&&r.navigator.sendBeacon)try{n=r.navigator.sendBeacon(e.v.toString(),"")}catch(i){}!n&&r.Image&&((new Image).src=e.v,n=!0),n||(e.g=fn(e.j,null),e.g.ea(e.v)),e.F=Date.now(),Ht(e)}hn(t)}function Xe(t){t.g&&(sn(t),t.g.cancel(),t.g=null)}function Je(t){Xe(t),t.u&&(r.clearTimeout(t.u),t.u=null),an(t),t.h.cancel(),t.s&&("number"===typeof t.s&&r.clearTimeout(t.s),t.s=null)}function $e(t){if(!Jt(t.h)&&!t.s){t.s=!0;var e=t.Ga;C||P(),I||(C(),I=!0),A.add(e,t),t.B=0}}function Ze(t,e){var n;n=e?e.l:t.U++;const i=oe(t.I);ue(i,"SID",t.K),ue(i,"RID",n),ue(i,"AID",t.T),tn(t,i),t.m&&t.o&&Le(i,t.m,t.o),n=new Nt(t,t.j,n,t.B+1),null===t.m&&(n.H=t.o),e&&(t.i=e.D.concat(t.i)),e=en(t,n,1e3),n.I=Math.round(.5*t.wa)+Math.round(.5*t.wa*Math.random()),te(t.h,n),Ut(n,i,e)}function tn(t,e){t.H&&v(t.H,function(t,n){ue(e,n,t)}),t.l&&ie({},function(t,n){ue(e,n,t)})}function en(t,e,n){n=Math.min(t.i.length,n);var i=t.l?c(t.l.Na,t.l,t):null;t:{var r=t.i;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=r[0].g,t.push("ofs="+e)):e=0:t.push("ofs="+e);let o=!0;for(let a=0;a<n;a++){let n=r[a].g;const l=r[a].map;if(n-=e,0>n)e=Math.max(0,r[a].g-100),o=!1;else try{Ae(l,t,"req"+n+"_")}catch(s){i&&i(l)}}if(o){i=t.join("&");break t}}}return t=t.i.splice(0,n),e.D=t,i}function nn(t){if(!t.g&&!t.u){t.Y=1;var e=t.Fa;C||P(),I||(C(),I=!0),A.add(e,t),t.v=0}}function rn(t){return!(t.g||t.u||3<=t.v)&&(t.Y++,t.u=It(c(t.Fa,t),cn(t,t.v)),t.v++,!0)}function sn(t){null!=t.A&&(r.clearTimeout(t.A),t.A=null)}function on(t){t.g=new Nt(t,t.j,"rpc",t.Y),null===t.m&&(t.g.H=t.o),t.g.O=0;var e=oe(t.qa);ue(e,"RID","rpc"),ue(e,"SID",t.K),ue(e,"AID",t.T),ue(e,"CI",t.F?"0":"1"),!t.F&&t.ja&&ue(e,"TO",t.ja),ue(e,"TYPE","xmlhttp"),tn(t,e),t.m&&t.o&&Le(e,t.m,t.o),t.L&&(t.g.I=t.L);var n=t.g;t=t.ia,n.L=1,n.v=he(oe(e)),n.m=null,n.P=!0,zt(n,t)}function an(t){null!=t.C&&(r.clearTimeout(t.C),t.C=null)}function ln(t,e){var n=null;if(t.g==e){an(t),sn(t),t.g=null;var i=2}else{if(!Zt(t.h,e))return;n=e.D,ee(t.h,e),i=1}if(0!=t.G)if(e.o)if(1==i){n=e.m?e.m.length:0,e=Date.now()-e.F;var r=t.B;it(i=xt(),new Ct(i,n)),$e(t)}else nn(t);else if(3==(r=e.s)||0==r&&0<e.X||!(1==i&&function(t,e){return!($t(t.h)>=t.h.j-(t.s?1:0))&&(t.s?(t.i=e.D.concat(t.i),!0):!(1==t.G||2==t.G||t.B>=(t.Va?0:t.Wa))&&(t.s=It(c(t.Ga,t,e),cn(t,t.B)),t.B++,!0))}(t,e)||2==i&&rn(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),r){case 1:un(t,5);break;case 4:un(t,10);break;case 3:un(t,6);break;default:un(t,2)}}function cn(t,e){let n=t.Ta+Math.floor(Math.random()*t.cb);return t.isActive()||(n*=2),n*e}function un(t,e){if(t.j.info("Error code "+e),2==e){var n=c(t.fb,t),i=t.Xa;const e=!i;i=new se(i||"//www.google.com/images/cleardot.gif"),r.location&&"http"==r.location.protocol||ae(i,"https"),he(i),e?function(t,e){const n=new At;if(r.Image){const i=new Image;i.onload=u(Ce,n,"TestLoadImage: loaded",!0,e,i),i.onerror=u(Ce,n,"TestLoadImage: error",!1,e,i),i.onabort=u(Ce,n,"TestLoadImage: abort",!1,e,i),i.ontimeout=u(Ce,n,"TestLoadImage: timeout",!1,e,i),r.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}(i.toString(),n):function(t,e){new At;const n=new AbortController,i=setTimeout(()=>{n.abort(),Ce(0,0,!1,e)},1e4);fetch(t,{signal:n.signal}).then(t=>{clearTimeout(i),t.ok?Ce(0,0,!0,e):Ce(0,0,!1,e)}).catch(()=>{clearTimeout(i),Ce(0,0,!1,e)})}(i.toString(),n)}else Tt(2);t.G=0,t.l&&t.l.sa(e),hn(t),Je(t)}function hn(t){if(t.G=0,t.ka=[],t.l){const e=ne(t.h);0==e.length&&0==t.i.length||(f(t.ka,e),f(t.ka,t.i),t.h.i.length=0,d(t.i),t.i.length=0),t.l.ra()}}function dn(t,e,n){var i=n instanceof se?oe(n):new se(n);if(""!=i.g)e&&(i.g=e+"."+i.g),le(i,i.s);else{var s=r.location;i=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var o=new se(null);i&&ae(o,i),e&&(o.g=e),s&&le(o,s),n&&(o.l=n),i=o}return n=t.D,e=t.ya,n&&e&&ue(i,n,e),ue(i,"VER",t.la),tn(t,i),i}function fn(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=t.Ca&&!t.pa?new Fe(new Pe({eb:n})):new Fe(t.pa)).Ha(t.J),e}function pn(){}function gn(){}function mn(t,e){nt.call(this),this.g=new Qe(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.o=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.va&&(t?t["X-WebChannel-Client-Profile"]=e.va:t={"X-WebChannel-Client-Profile":e.va}),this.g.S=t,(t=e&&e.Sb)&&!p(t)&&(this.g.m=t),this.v=e&&e.supportsCrossDomainXhr||!1,this.u=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!p(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new bn(this)}function yn(t){vt.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function vn(){bt.call(this),this.status=1}function bn(t){this.g=t}(t=Fe.prototype).Ha=function(t){this.J=t},t.ea=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);e=e?e.toUpperCase():"GET",this.D=t,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rt.g(),this.v=this.o?gt(this.o):gt(Rt),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(e,String(t),!0),this.B=!1}catch(o){return void ze(this,o)}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var s in i)n.set(s,i[s]);else{if("function"!==typeof i.keys||"function"!==typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const t of i.keys())n.set(t,i.get(t))}i=Array.from(n.keys()).find(t=>"content-type"==t.toLowerCase()),s=r.FormData&&t instanceof r.FormData,!(0<=Array.prototype.indexOf.call(Ue,e,void 0))||i||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[r,a]of n)this.g.setRequestHeader(r,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{We(this),this.u=!0,this.g.send(t),this.u=!1}catch(o){ze(this,o)}},t.abort=function(t){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=t||7,it(this,"complete"),it(this,"abort"),He(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),He(this,!0)),Fe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Be(this):this.bb())},t.bb=function(){Be(this)},t.isActive=function(){return!!this.g},t.Z=function(){try{return 2<qe(this)?this.g.status:-1}catch(ge){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(ge){return""}},t.Oa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),dt(e)}},t.Ba=function(){return this.m},t.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(t=Qe.prototype).la=8,t.G=1,t.connect=function(t,e,n,i){Tt(0),this.W=t,this.H=e||{},n&&void 0!==i&&(this.H.OSID=n,this.H.OAID=i),this.F=this.X,this.I=dn(this,null,this.W),$e(this)},t.Ga=function(t){if(this.s)if(this.s=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const r=new Nt(this,this.j,t);let s=this.o;if(this.S&&(s?(s=b(s),_(s,this.S)):s=this.S),null!==this.m||this.O||(r.H=s,s=null),this.P)t:{for(var e=0,n=0;n<this.i.length;n++){var i=this.i[n];if(void 0===(i="__data__"in i.map&&"string"===typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=n;break t}if(4096===e||n===this.i.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=en(this,r,e),ue(n=oe(this.I),"RID",t),ue(n,"CVER",22),this.D&&ue(n,"X-HTTP-Session-Id",this.D),tn(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Ne(s)))+"&"+e:this.m&&Le(n,this.m,s)),te(this.h,r),this.Ua&&ue(n,"TYPE","init"),this.P?(ue(n,"$req",e),ue(n,"SID","null"),r.T=!0,Ut(r,n,null)):Ut(r,n,e),this.G=2}}else 3==this.G&&(t?Ze(this,t):0==this.i.length||Jt(this.h)||Ze(this))},t.Fa=function(){if(this.u=null,on(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var t=2*this.R;this.j.info("BP detection timer enabled: "+t),this.A=It(c(this.ab,this),t)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),Xe(this),on(this))},t.Za=function(){null!=this.C&&(this.C=null,Xe(this),rn(this),Tt(19))},t.fb=function(t){t?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=pn.prototype).ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){},gn.prototype.g=function(t,e){return new mn(t,e)},h(mn,nt),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Ye(this.g)},mn.prototype.o=function(t){var e=this.g;if("string"===typeof t){var n={};n.__data__=t,t=n}else this.u&&((n={}).__data__=ht(t),t=n);e.i.push(new Yt(e.Ya++,t)),3==e.G&&$e(e)},mn.prototype.N=function(){this.g.l=null,delete this.j,Ye(this.g),delete this.g,mn.aa.N.call(this)},h(yn,vt),h(vn,bt),h(bn,pn),bn.prototype.ua=function(){it(this.g,"a")},bn.prototype.ta=function(t){it(this.g,new yn(t))},bn.prototype.sa=function(t){it(this.g,new vn)},bn.prototype.ra=function(){it(this.g,"b")},gn.prototype.createWebChannel=gn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,es=is.createWebChannelTransport=function(){return new gn},ts=is.getStatEventTarget=function(){return xt()},Zr=is.Event=wt,$r=is.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ot.NO_ERROR=0,Ot.TIMEOUT=8,Ot.HTTP_ERROR=6,Jr=is.ErrorCode=Ot,Mt.COMPLETE="complete",Xr=is.EventType=Mt,mt.EventType=yt,yt.OPEN="a",yt.CLOSE="b",yt.ERROR="c",yt.MESSAGE="d",nt.prototype.listen=nt.prototype.K,Yr=is.WebChannel=mt,is.FetchXmlHttpFactory=Pe,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,Qr=is.XhrIo=Fe}).apply("undefined"!==typeof ns?ns:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const rs="@firebase/firestore",ss="4.9.1";class os{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}os.UNAUTHENTICATED=new os(null),os.GOOGLE_CREDENTIALS=new os("google-credentials-uid"),os.FIRST_PARTY=new os("first-party-uid"),os.MOCK_USER=new os("mock-user");let as="12.2.0";const ls=new Z("@firebase/firestore");function cs(){return ls.logLevel}function us(t){if(ls.logLevel<=Q.DEBUG){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];const r=n.map(fs);ls.debug("Firestore (".concat(as,"): ").concat(t),...r)}}function hs(t){if(ls.logLevel<=Q.ERROR){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];const r=n.map(fs);ls.error("Firestore (".concat(as,"): ").concat(t),...r)}}function ds(t){if(ls.logLevel<=Q.WARN){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];const r=n.map(fs);ls.warn("Firestore (".concat(as,"): ").concat(t),...r)}}function fs(t){if("string"==typeof t)return t;try{return function(t){return JSON.stringify(t)}(t)}catch(e){return t}}function ps(t,e,n){let i="Unexpected state";"string"==typeof e?i=e:n=e,gs(t,i,n)}function gs(t,e,n){let i="FIRESTORE (".concat(as,") INTERNAL ASSERTION FAILED: ").concat(e," (ID: ").concat(t.toString(16),")");if(void 0!==n)try{i+=" CONTEXT: "+JSON.stringify(n)}catch(t){i+=" CONTEXT: "+n}throw hs(i),new Error(i)}function ms(t,e,n,i){let r="Unexpected state";"string"==typeof n?r=n:i=n,t||gs(e,r,i)}function ys(t,e){return t}const vs={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class bs extends O{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class ws{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class _s{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))}}class xs{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(os.UNAUTHENTICATED))}shutdown(){}}class Es{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Ss{constructor(t){this.t=t,this.currentUser=os.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){ms(void 0===this.o,42304);let n=this.i;const i=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let r=new ws;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new ws,t.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const e=r;t.enqueueRetryable(async()=>{await e.promise,await i(this.currentUser)})},o=t=>{us("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(t=>o(t)),setTimeout(()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?o(t):(us("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new ws)}},0),s()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(e=>this.i!==t?(us("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(ms("string"==typeof e.accessToken,31837,{l:e}),new _s(e.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ms(null===t||"string"==typeof t,2055,{h:t}),new os(t)}}class ks{constructor(t,e,n){this.P=t,this.T=e,this.I=n,this.type="FirstParty",this.user=os.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ts{constructor(t,e,n){this.P=t,this.T=e,this.I=n}getToken(){return Promise.resolve(new ks(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(os.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Cs{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Is{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,te(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){ms(void 0===this.o,3512);const n=t=>{null!=t.error&&us("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(t.error.message));const n=t.token!==this.m;return this.m=t.token,us("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable(()=>n(e))};const i=t=>{us("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(t=>i(t)),setTimeout(()=>{if(!this.appCheck){const t=this.V.getImmediate({optional:!0});t?i(t):us("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Cs(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(t=>t?(ms("string"==typeof t.token,44558,{tokenResult:t}),this.m=t.token,new Cs(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function As(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class Ps{static newId(){const t=62*Math.floor(256/62);let e="";for(;e.length<20;){const n=As(40);for(let i=0;i<n.length;++i)e.length<20&&n[i]<t&&(e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[i]%62))}return e}}function Rs(t,e){return t<e?-1:t>e?1:0}function Os(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const n=t.charAt(i),r=e.charAt(i);if(n!==r)return Ns(n)===Ns(r)?Rs(n,r):Ns(n)?1:-1}return Rs(t.length,e.length)}const Ms=55296,Ds=57343;function Ns(t){const e=t.charCodeAt(0);return e>=Ms&&e<=Ds}function Ls(t,e,n){return t.length===e.length&&t.every((t,i)=>n(t,e[i]))}const Fs="__name__";class Vs{constructor(t,e,n){void 0===e?e=0:e>t.length&&ps(637,{offset:e,range:t.length}),void 0===n?n=t.length-e:n>t.length-e&&ps(1746,{length:n,range:t.length-e}),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===Vs.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Vs?t.forEach(t=>{e.push(t)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const n=Vs.compareSegments(t.get(i),e.get(i));if(0!==n)return n}return Rs(t.length,e.length)}static compareSegments(t,e){const n=Vs.isNumericId(t),i=Vs.isNumericId(e);return n&&!i?-1:!n&&i?1:n&&i?Vs.extractNumericId(t).compare(Vs.extractNumericId(e)):Os(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Wr.fromString(t.substring(4,t.length-2))}}class Us extends Vs{construct(t,e,n){return new Us(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const t=[];for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(const r of n){if(r.indexOf("//")>=0)throw new bs(vs.INVALID_ARGUMENT,"Invalid segment (".concat(r,"). Paths must not contain // in them."));t.push(...r.split("/").filter(t=>t.length>0))}return new Us(t)}static emptyPath(){return new Us([])}}const zs=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class js extends Vs{construct(t,e,n){return new js(t,e,n)}static isValidIdentifier(t){return zs.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),js.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Fs}static keyField(){return new js([Fs])}static fromServerFormat(t){const e=[];let n="",i=0;const r=()=>{if(0===n.length)throw new bs(vs.INVALID_ARGUMENT,"Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));e.push(n),n=""};let s=!1;for(;i<t.length;){const e=t[i];if("\\"===e){if(i+1===t.length)throw new bs(vs.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[i+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new bs(vs.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,i+=2}else"`"===e?(s=!s,i++):"."!==e||s?(n+=e,i++):(r(),i++)}if(r(),s)throw new bs(vs.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new js(e)}static emptyPath(){return new js([])}}class Bs{constructor(t){this.path=t}static fromPath(t){return new Bs(Us.fromString(t))}static fromName(t){return new Bs(Us.fromString(t).popFirst(5))}static empty(){return new Bs(Us.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Us.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Us.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Bs(new Us(t.slice()))}}function Hs(t,e,n){if(!n)throw new bs(vs.INVALID_ARGUMENT,"Function ".concat(t,"() cannot be called with an empty ").concat(e,"."))}function Ws(t){if(!Bs.isDocumentKey(t))throw new bs(vs.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(t," has ").concat(t.length,"."))}function qs(t){if(Bs.isDocumentKey(t))throw new bs(vs.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(t," has ").concat(t.length,"."))}function Ks(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function Gs(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t="".concat(t.substring(0,20),"...")),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?"a custom ".concat(e," object"):"an object"}}return"function"==typeof t?"a function":ps(12329,{type:typeof t})}function Qs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new bs(vs.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gs(t);throw new bs(vs.INVALID_ARGUMENT,"Expected type '".concat(e.name,"', but it was: ").concat(n))}}return t}function Ys(t,e){const n={typeString:t};return e&&(n.value=e),n}function Xs(t,e){if(!Ks(t))throw new bs(vs.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const r=e[i].typeString,s="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n="JSON missing required field: '".concat(i,"'");break}const o=t[i];if(r&&typeof o!==r){n="JSON field '".concat(i,"' must be a ").concat(r,".");break}if(void 0!==s&&o!==s.value){n="Expected '".concat(i,"' field to equal '").concat(s.value,"'");break}}if(n)throw new bs(vs.INVALID_ARGUMENT,n);return!0}const Js=-62135596800,$s=1e6;class Zs{static now(){return Zs.fromMillis(Date.now())}static fromDate(t){return Zs.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor((t-1e3*e)*$s);return new Zs(e,n)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new bs(vs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new bs(vs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Js)throw new bs(vs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new bs(vs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$s}_compareTo(t){return this.seconds===t.seconds?Rs(this.nanoseconds,t.nanoseconds):Rs(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Zs._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Xs(t,Zs._jsonSchema))return new Zs(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Js;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Zs._jsonSchemaVersion="firestore/timestamp/1.0",Zs._jsonSchema={type:Ys("string",Zs._jsonSchemaVersion),seconds:Ys("number"),nanoseconds:Ys("number")};class to{static fromTimestamp(t){return new to(t)}static min(){return new to(new Zs(0,0))}static max(){return new to(new Zs(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const eo=-1;class no{constructor(t,e,n,i){this.indexId=t,this.collectionGroup=e,this.fields=n,this.indexState=i}}no.UNKNOWN_ID=-1;function io(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=to.fromTimestamp(1e9===i?new Zs(n+1,0):new Zs(n,i));return new so(r,Bs.empty(),e)}function ro(t){return new so(t.readTime,t.key,eo)}class so{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new so(to.min(),Bs.empty(),eo)}static max(){return new so(to.max(),Bs.empty(),eo)}}function oo(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=Bs.comparator(t.documentKey,e.documentKey),0!==n?n:Rs(t.largestBatchId,e.largestBatchId))}const ao="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lo{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}async function co(t){if(t.code!==vs.FAILED_PRECONDITION||t.message!==ao)throw t;us("LocalStore","Unexpectedly lost primary lease")}class uo{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ps(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new uo((n,i)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,i)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,i)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof uo?e:uo.resolve(e)}catch(t){return uo.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):uo.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):uo.reject(e)}static resolve(t){return new uo((e,n)=>{e(t)})}static reject(t){return new uo((e,n)=>{n(t)})}static waitFor(t){return new uo((e,n)=>{let i=0,r=0,s=!1;t.forEach(t=>{++i,t.next(()=>{++r,s&&r===i&&e()},t=>n(t))}),s=!0,r===i&&e()})}static or(t){let e=uo.resolve(!1);for(const n of t)e=e.next(t=>t?uo.resolve(t):n());return e}static forEach(t,e){const n=[];return t.forEach((t,i)=>{n.push(e.call(this,t,i))}),this.waitFor(n)}static mapArray(t,e){return new uo((n,i)=>{const r=t.length,s=new Array(r);let o=0;for(let a=0;a<r;a++){const l=a;e(t[l]).next(t=>{s[l]=t,++o,o===r&&n(s)},t=>i(t))}})}static doWhile(t,e){return new uo((n,i)=>{const r=()=>{!0===t()?e().next(()=>{r()},i):n()};r()})}}function ho(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fo(t){return"IndexedDbTransactionError"===t.name}class po{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.ae(t),this.ue=t=>e.writeSequenceNumber(t))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}po.ce=-1;const go=-1;function mo(t){return null==t}function yo(t){return 0===t&&1/t==-1/0}function vo(t){return"number"==typeof t&&Number.isInteger(t)&&!yo(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const bo="\x01";function wo(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=xo(e)),e=_o(t.get(n),e);return xo(e)}function _o(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const e=t.charAt(r);switch(e){case"\0":n+="\x01\x10";break;case bo:n+="\x01\x11";break;default:n+=e}}return n}function xo(t){return t+bo+"\x01"}const Eo="remoteDocuments",So="owner",ko="mutationQueues",To="mutations";const Co="documentMutations",Io="remoteDocumentsV14",Ao="remoteDocumentGlobal",Po="targets",Ro="targetDocuments",Oo="targetGlobal",Mo="collectionParents",Do="clientMetadata",No="bundles",Lo="namedQueries",Fo="indexConfiguration",Vo="indexState",Uo="indexEntries",zo="documentOverlays",jo="globals",Bo=[ko,To,Co,Eo,Po,So,Oo,Ro,Do,Ao,Mo,No,Lo],Ho=[ko,To,Co,Io,Po,So,Oo,Ro,Do,Ao,Mo,No,Lo,zo],Wo=Ho,qo=[...Wo,Fo,Vo,Uo];function Ko(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Go(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Qo(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Yo{constructor(t,e){this.comparator=t,this.root=e||Jo.EMPTY}insert(t,e){return new Yo(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Jo.BLACK,null,null))}remove(t){return new Yo(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Jo.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,n)=>(t(e,n),!1))}toString(){const t=[];return this.inorderTraversal((e,n)=>(t.push("".concat(e,":").concat(n)),!1)),"{".concat(t.join(", "),"}")}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Xo(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Xo(this.root,t,this.comparator,!1)}getReverseIterator(){return new Xo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Xo(this.root,t,this.comparator,!0)}}class Xo{constructor(t,e,n,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=e?n(t.key,e):1,e&&i&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(0===r){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Jo{constructor(t,e,n,i,r){this.key=t,this.value=e,this.color=null!=n?n:Jo.RED,this.left=null!=i?i:Jo.EMPTY,this.right=null!=r?r:Jo.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,i,r){return new Jo(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let i=this;const r=n(t,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Jo.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===e(t,i.key)){if(i.right.isEmpty())return Jo.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Jo.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Jo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ps(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ps(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw ps(27949);return t+(this.isRed()?0:1)}}Jo.EMPTY=null,Jo.RED=!0,Jo.BLACK=!1,Jo.EMPTY=new class{constructor(){this.size=0}get key(){throw ps(57766)}get value(){throw ps(16141)}get color(){throw ps(16727)}get left(){throw ps(29726)}get right(){throw ps(36894)}copy(t,e,n,i,r){return this}insert(t,e,n){return new Jo(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $o{constructor(t){this.comparator=t,this.data=new Yo(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,n)=>(t(e),!1))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Zo(this.data.getIterator())}getIteratorFrom(t){return new Zo(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(t=>{e=e.add(t)}),e}isEqual(t){if(!(t instanceof $o))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,i=n.getNext().key;if(0!==this.comparator(t,i))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new $o(this.comparator);return e.data=t,e}}class Zo{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ta{constructor(t){this.fields=t,t.sort(js.comparator)}static empty(){return new ta([])}unionWith(t){let e=new $o(js.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new ta(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Ls(this.fields,t.fields,(t,e)=>t.isEqual(e))}}class ea extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class na{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(t){try{return atob(t)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new ea("Invalid base64 string: "+t):t}}(t);return new na(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new na(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Rs(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}na.EMPTY_BYTE_STRING=new na("");const ia=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ra(t){if(ms(!!t,39018),"string"==typeof t){let e=0;const n=ia.exec(t);if(ms(!!n,46558,{timestamp:t}),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:sa(t.seconds),nanos:sa(t.nanos)}}function sa(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function oa(t){return"string"==typeof t?na.fromBase64String(t):na.fromUint8Array(t)}const aa="server_timestamp",la="__type__",ca="__previous_value__",ua="__local_write_time__";function ha(t){var e,n;return(null===(e=((null===t||void 0===t||null===(n=t.mapValue)||void 0===n?void 0:n.fields)||{})[la])||void 0===e?void 0:e.stringValue)===aa}function da(t){const e=t.mapValue.fields[ca];return ha(e)?da(e):e}function fa(t){const e=ra(t.mapValue.fields[ua].timestampValue);return new Zs(e.seconds,e.nanos)}class pa{constructor(t,e,n,i,r,s,o,a,l,c){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l,this.isUsingEmulator=c}}const ga="(default)";class ma{constructor(t,e){this.projectId=t,this.database=e||ga}static empty(){return new ma("","")}get isDefaultDatabase(){return this.database===ga}isEqual(t){return t instanceof ma&&t.projectId===this.projectId&&t.database===this.database}}const ya="__type__",va="__max__",ba={mapValue:{fields:{__type__:{stringValue:va}}}},wa="__vector__",_a="value";function xa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ha(t)?4:Ua(t)?9007199254740991:Fa(t)?10:11:ps(28295,{value:t})}function Ea(t,e){if(t===e)return!0;const n=xa(t);if(n!==xa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fa(t).isEqual(fa(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=ra(t.timestampValue),i=ra(e.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return oa(t.bytesValue).isEqual(oa(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return sa(t.geoPointValue.latitude)===sa(e.geoPointValue.latitude)&&sa(t.geoPointValue.longitude)===sa(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return sa(t.integerValue)===sa(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=sa(t.doubleValue),i=sa(e.doubleValue);return n===i?yo(n)===yo(i):isNaN(n)&&isNaN(i)}return!1}(t,e);case 9:return Ls(t.arrayValue.values||[],e.arrayValue.values||[],Ea);case 10:case 11:return function(t,e){const n=t.mapValue.fields||{},i=e.mapValue.fields||{};if(Ko(n)!==Ko(i))return!1;for(const r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!Ea(n[r],i[r])))return!1;return!0}(t,e);default:return ps(52216,{left:t})}}function Sa(t,e){return void 0!==(t.values||[]).find(t=>Ea(t,e))}function ka(t,e){if(t===e)return 0;const n=xa(t),i=xa(e);if(n!==i)return Rs(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Rs(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=sa(t.integerValue||t.doubleValue),i=sa(e.integerValue||e.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(t,e);case 3:return Ta(t.timestampValue,e.timestampValue);case 4:return Ta(fa(t),fa(e));case 5:return Os(t.stringValue,e.stringValue);case 6:return function(t,e){const n=oa(t),i=oa(e);return n.compareTo(i)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),i=e.split("/");for(let r=0;r<n.length&&r<i.length;r++){const t=Rs(n[r],i[r]);if(0!==t)return t}return Rs(n.length,i.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=Rs(sa(t.latitude),sa(e.latitude));return 0!==n?n:Rs(sa(t.longitude),sa(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Ca(t.arrayValue,e.arrayValue);case 10:return function(t,e,n,i,r,s){const o=t.fields||{},a=e.fields||{},l=null===(n=o[_a])||void 0===n?void 0:n.arrayValue,c=null===(i=a[_a])||void 0===i?void 0:i.arrayValue,u=Rs((null===l||void 0===l||null===(r=l.values)||void 0===r?void 0:r.length)||0,(null===c||void 0===c||null===(s=c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:Ca(l,c)}(t.mapValue,e.mapValue);case 11:return function(t,e){if(t===ba.mapValue&&e===ba.mapValue)return 0;if(t===ba.mapValue)return 1;if(e===ba.mapValue)return-1;const n=t.fields||{},i=Object.keys(n),r=e.fields||{},s=Object.keys(r);i.sort(),s.sort();for(let o=0;o<i.length&&o<s.length;++o){const t=Os(i[o],s[o]);if(0!==t)return t;const e=ka(n[i[o]],r[s[o]]);if(0!==e)return e}return Rs(i.length,s.length)}(t.mapValue,e.mapValue);default:throw ps(23264,{he:n})}}function Ta(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Rs(t,e);const n=ra(t),i=ra(e),r=Rs(n.seconds,i.seconds);return 0!==r?r:Rs(n.nanos,i.nanos)}function Ca(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const t=ka(n[r],i[r]);if(t)return t}return Rs(n.length,i.length)}function Ia(t){return Aa(t)}function Aa(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=ra(t);return"time(".concat(e.seconds,",").concat(e.nanos,")")}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(t){return oa(t).toBase64()}(t.bytesValue):"referenceValue"in t?function(t){return Bs.fromName(t).toString()}(t.referenceValue):"geoPointValue"in t?function(t){return"geo(".concat(t.latitude,",").concat(t.longitude,")")}(t.geoPointValue):"arrayValue"in t?function(t){let e="[",n=!0;for(const i of t.values||[])n?n=!1:e+=",",e+=Aa(i);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",i=!0;for(const r of e)i?i=!1:n+=",",n+="".concat(r,":").concat(Aa(t.fields[r]));return n+"}"}(t.mapValue):ps(61005,{value:t})}function Pa(t){switch(xa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=da(t);return e?16+Pa(e):16;case 5:return 2*t.stringValue.length;case 6:return oa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(t){return(t.values||[]).reduce((t,e)=>t+Pa(e),0)}(t.arrayValue);case 10:case 11:return function(t){let e=0;return Go(t.fields,(t,n)=>{e+=t.length+Pa(n)}),e}(t.mapValue);default:throw ps(13486,{value:t})}}function Ra(t,e){return{referenceValue:"projects/".concat(t.projectId,"/databases/").concat(t.database,"/documents/").concat(e.path.canonicalString())}}function Oa(t){return!!t&&"integerValue"in t}function Ma(t){return!!t&&"arrayValue"in t}function Da(t){return!!t&&"nullValue"in t}function Na(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function La(t){return!!t&&"mapValue"in t}function Fa(t){var e,n;return(null===(e=((null===t||void 0===t||null===(n=t.mapValue)||void 0===n?void 0:n.fields)||{})[ya])||void 0===e?void 0:e.stringValue)===wa}function Va(t){if(t.geoPointValue)return{geoPointValue:u({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:u({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Go(t.mapValue.fields,(t,n)=>e.mapValue.fields[t]=Va(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Va(t.arrayValue.values[n]);return e}return u({},t)}function Ua(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===va}class za{constructor(t){this.value=t}static empty(){return new za({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!La(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Va(e)}setAll(t){let e=js.emptyPath(),n={},i=[];t.forEach((t,r)=>{if(!e.isImmediateParentOf(r)){const t=this.getFieldsMap(e);this.applyChanges(t,n,i),n={},i=[],e=r.popLast()}t?n[r.lastSegment()]=Va(t):i.push(r.lastSegment())});const r=this.getFieldsMap(e);this.applyChanges(r,n,i)}delete(t){const e=this.field(t.popLast());La(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ea(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=e.mapValue.fields[t.get(n)];La(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,n){Go(e,(e,n)=>t[e]=n);for(const i of n)delete t[i]}clone(){return new za(Va(this.value))}}function ja(t){const e=[];return Go(t.fields,(t,n)=>{const i=new js([t]);if(La(n)){const t=ja(n.mapValue).fields;if(0===t.length)e.push(i);else for(const n of t)e.push(i.child(n))}else e.push(i)}),new ta(e)}class Ba{constructor(t,e,n,i,r,s,o){this.key=t,this.documentType=e,this.version=n,this.readTime=i,this.createTime=r,this.data=s,this.documentState=o}static newInvalidDocument(t){return new Ba(t,0,to.min(),to.min(),to.min(),za.empty(),0)}static newFoundDocument(t,e,n,i){return new Ba(t,1,e,to.min(),n,i,0)}static newNoDocument(t,e){return new Ba(t,2,e,to.min(),to.min(),za.empty(),0)}static newUnknownDocument(t,e){return new Ba(t,3,e,to.min(),to.min(),za.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(to.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=za.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=za.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=to.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Ba&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ba(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Ha{constructor(t,e){this.position=t,this.inclusive=e}}function Wa(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(i=s.field.isKeyField()?Bs.comparator(Bs.fromName(o.referenceValue),n.key):ka(o,n.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function qa(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ea(t.position[n],e.position[n]))return!1;return!0}class Ka{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=t,this.dir=e}}function Ga(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Qa{}class Ya extends Qa{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,n):new il(t,e,n):"array-contains"===e?new al(t,n):"in"===e?new ll(t,n):"not-in"===e?new cl(t,n):"array-contains-any"===e?new ul(t,n):new Ya(t,e,n)}static createKeyFieldInFilter(t,e,n){return"in"===e?new rl(t,n):new sl(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&void 0===e.nullValue&&this.matchesComparison(ka(e,this.value)):null!==e&&xa(this.value)===xa(e)&&this.matchesComparison(ka(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ps(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xa extends Qa{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Xa(t,e)}matches(t){return Ja(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ja(t){return"and"===t.op}function $a(t){return Za(t)&&Ja(t)}function Za(t){for(const e of t.filters)if(e instanceof Xa)return!1;return!0}function tl(t){if(t instanceof Ya)return t.field.canonicalString()+t.op.toString()+Ia(t.value);if($a(t))return t.filters.map(t=>tl(t)).join(",");{const e=t.filters.map(t=>tl(t)).join(",");return"".concat(t.op,"(").concat(e,")")}}function el(t,e){return t instanceof Ya?function(t,e){return e instanceof Ya&&t.op===e.op&&t.field.isEqual(e.field)&&Ea(t.value,e.value)}(t,e):t instanceof Xa?function(t,e){return e instanceof Xa&&t.op===e.op&&t.filters.length===e.filters.length&&t.filters.reduce((t,n,i)=>t&&el(n,e.filters[i]),!0)}(t,e):void ps(19439)}function nl(t){return t instanceof Ya?function(t){return"".concat(t.field.canonicalString()," ").concat(t.op," ").concat(Ia(t.value))}(t):t instanceof Xa?function(t){return t.op.toString()+" {"+t.getFilters().map(nl).join(" ,")+"}"}(t):"Filter"}class il extends Ya{constructor(t,e,n){super(t,e,n),this.key=Bs.fromName(n.referenceValue)}matches(t){const e=Bs.comparator(t.key,this.key);return this.matchesComparison(e)}}class rl extends Ya{constructor(t,e){super(t,"in",e),this.keys=ol("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class sl extends Ya{constructor(t,e){super(t,"not-in",e),this.keys=ol("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function ol(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(t=>Bs.fromName(t.referenceValue))}class al extends Ya{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Ma(e)&&Sa(e.arrayValue,this.value)}}class ll extends Ya{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Sa(this.value.arrayValue,e)}}class cl extends Ya{constructor(t,e){super(t,"not-in",e)}matches(t){if(Sa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&void 0===e.nullValue&&!Sa(this.value.arrayValue,e)}}class ul extends Ya{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Ma(e)||!e.arrayValue.values)&&e.arrayValue.values.some(t=>Sa(this.value.arrayValue,t))}}class hl{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=s,this.endAt=o,this.Te=null}}function dl(t){return new hl(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function fl(t){const e=ys(t);if(null===e.Te){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(t=>tl(t)).join(","),t+="|ob:",t+=e.orderBy.map(t=>function(t){return t.field.canonicalString()+t.dir}(t)).join(","),mo(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(t=>Ia(t)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(t=>Ia(t)).join(",")),e.Te=t}return e.Te}function pl(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Ga(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!el(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qa(t.startAt,e.startAt)&&qa(t.endAt,e.endAt)}function gl(t){return Bs.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class ml{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=s,this.startAt=o,this.endAt=a,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function yl(t,e,n,i,r,s,o,a){return new ml(t,e,n,i,r,s,o,a)}function vl(t){return new ml(t)}function bl(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function wl(t){return null!==t.collectionGroup}function _l(t){const e=ys(t);if(null===e.Ie){e.Ie=[];const t=new Set;for(const r of e.explicitOrderBy)e.Ie.push(r),t.add(r.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc",i=function(t){let e=new $o(js.comparator);return t.filters.forEach(t=>{t.getFlattenedFilters().forEach(t=>{t.isInequality()&&(e=e.add(t.field))})}),e}(e);i.forEach(i=>{t.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Ka(i,n))}),t.has(js.keyField().canonicalString())||e.Ie.push(new Ka(js.keyField(),n))}return e.Ie}function xl(t){const e=ys(t);return e.Ee||(e.Ee=El(e,_l(t))),e.Ee}function El(t,e){if("F"===t.limitType)return dl(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(t=>{const e="desc"===t.dir?"asc":"desc";return new Ka(t.field,e)});const n=t.endAt?new Ha(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Ha(t.startAt.position,t.startAt.inclusive):null;return dl(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Sl(t,e){const n=t.filters.concat([e]);return new ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function kl(t,e,n){return new ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Tl(t,e){return pl(xl(t),xl(e))&&t.limitType===e.limitType}function Cl(t){return"".concat(fl(xl(t)),"|lt:").concat(t.limitType)}function Il(t){return"Query(target=".concat(function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: [".concat(t.filters.map(t=>nl(t)).join(", "),"]")),mo(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: [".concat(t.orderBy.map(t=>function(t){return"".concat(t.field.canonicalString()," (").concat(t.dir,")")}(t)).join(", "),"]")),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(t=>Ia(t)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(t=>Ia(t)).join(",")),"Target(".concat(e,")")}(xl(t)),"; limitType=").concat(t.limitType,")")}function Al(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Bs.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of _l(t))if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,n){const i=Wa(t,e,n);return t.inclusive?i<=0:i<0}(t.startAt,_l(t),e))&&!(t.endAt&&!function(t,e,n){const i=Wa(t,e,n);return t.inclusive?i>=0:i>0}(t.endAt,_l(t),e))}(t,e)}function Pl(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Rl(t){return(e,n)=>{let i=!1;for(const r of _l(t)){const t=Ol(r,e,n);if(0!==t)return t;i=i||r.field.isKeyField()}return 0}}function Ol(t,e,n){const i=t.field.isKeyField()?Bs.comparator(e.key,n.key):function(t,e,n){const i=e.data.field(t),r=n.data.field(t);return null!==i&&null!==r?ka(i,r):ps(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return ps(19790,{direction:t.dir})}}class Ml{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[i,r]of n)if(this.equalsFn(i,t))return r}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),i=this.inner[n];if(void 0===i)return this.inner[n]=[[t,e]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return void(i[r]=[t,e]);i.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return 1===n.length?delete this.inner[e]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Go(this.inner,(e,n)=>{for(const[i,r]of n)t(i,r)})}isEmpty(){return Qo(this.inner)}size(){return this.innerSize}}const Dl=new Yo(Bs.comparator);function Nl(){return Dl}const Ll=new Yo(Bs.comparator);function Fl(){let t=Ll;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(const r of n)t=t.insert(r.key,r);return t}function Vl(t){let e=Ll;return t.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function Ul(){return jl()}function zl(){return jl()}function jl(){return new Ml(t=>t.toString(),(t,e)=>t.isEqual(e))}const Bl=new Yo(Bs.comparator),Hl=new $o(Bs.comparator);function Wl(){let t=Hl;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(const r of n)t=t.add(r);return t}const ql=new $o(Rs);function Kl(){return ql}function Gl(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yo(e)?"-0":e}}function Ql(t){return{integerValue:""+t}}function Yl(t,e){return vo(e)?Ql(e):Gl(t,e)}class Xl{constructor(){this._=void 0}}function Jl(t,e,n){return t instanceof tc?function(t,e){const n={fields:{[la]:{stringValue:aa},[ua]:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&ha(e)&&(e=da(e)),e&&(n.fields[ca]=e),{mapValue:n}}(n,e):t instanceof ec?nc(t,e):t instanceof ic?rc(t,e):function(t,e){const n=Zl(t,e),i=oc(n)+oc(t.Ae);return Oa(n)&&Oa(t.Ae)?Ql(i):Gl(t.serializer,i)}(t,e)}function $l(t,e,n){return t instanceof ec?nc(t,e):t instanceof ic?rc(t,e):n}function Zl(t,e){return t instanceof sc?function(t){return Oa(t)||function(t){return!!t&&"doubleValue"in t}(t)}(e)?e:{integerValue:0}:null}class tc extends Xl{}class ec extends Xl{constructor(t){super(),this.elements=t}}function nc(t,e){const n=ac(e);for(const i of t.elements)n.some(t=>Ea(t,i))||n.push(i);return{arrayValue:{values:n}}}class ic extends Xl{constructor(t){super(),this.elements=t}}function rc(t,e){let n=ac(e);for(const i of t.elements)n=n.filter(t=>!Ea(t,i));return{arrayValue:{values:n}}}class sc extends Xl{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function oc(t){return sa(t.integerValue||t.doubleValue)}function ac(t){return Ma(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class lc{constructor(t,e){this.version=t,this.transformResults=e}}class cc{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new cc}static exists(t){return new cc(void 0,t)}static updateTime(t){return new cc(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function uc(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class hc{}function dc(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new xc(t.key,cc.none()):new yc(t.key,t.data,cc.none());{const n=t.data,i=za.empty();let r=new $o(js.comparator);for(let t of e.fields)if(!r.has(t)){let e=n.field(t);null===e&&t.length>1&&(t=t.popLast(),e=n.field(t)),null===e?i.delete(t):i.set(t,e),r=r.add(t)}return new vc(t.key,i,new ta(r.toArray()),cc.none())}}function fc(t,e,n){t instanceof yc?function(t,e,n){const i=t.value.clone(),r=wc(t.fieldTransforms,e,n.transformResults);i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):t instanceof vc?function(t,e,n){if(!uc(t.precondition,e))return void e.convertToUnknownDocument(n.version);const i=wc(t.fieldTransforms,e,n.transformResults),r=e.data;r.setAll(bc(t)),r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function pc(t,e,n,i){return t instanceof yc?function(t,e,n,i){if(!uc(t.precondition,e))return n;const r=t.value.clone(),s=_c(t.fieldTransforms,i,e);return r.setAll(s),e.convertToFoundDocument(e.version,r).setHasLocalMutations(),null}(t,e,n,i):t instanceof vc?function(t,e,n,i){if(!uc(t.precondition,e))return n;const r=_c(t.fieldTransforms,i,e),s=e.data;return s.setAll(bc(t)),s.setAll(r),e.convertToFoundDocument(e.version,s).setHasLocalMutations(),null===n?null:n.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map(t=>t.field))}(t,e,n,i):function(t,e,n){return uc(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):n}(t,e,n)}function gc(t,e){let n=null;for(const i of t.fieldTransforms){const t=e.data.field(i.field),r=Zl(i.transform,t||null);null!=r&&(null===n&&(n=za.empty()),n.set(i.field,r))}return n||null}function mc(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Ls(t,e,(t,e)=>function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof ec&&e instanceof ec||t instanceof ic&&e instanceof ic?Ls(t.elements,e.elements,Ea):t instanceof sc&&e instanceof sc?Ea(t.Ae,e.Ae):t instanceof tc&&e instanceof tc}(t.transform,e.transform)}(t,e))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yc extends hc{constructor(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class vc extends hc{constructor(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function bc(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function wc(t,e,n){const i=new Map;ms(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,$l(o,a,n[r]))}return i}function _c(t,e,n){const i=new Map;for(const r of t){const t=r.transform,s=n.data.field(r.field);i.set(r.field,Jl(t,s,e))}return i}class xc extends hc{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ec extends hc{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Sc{constructor(t,e,n,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let i=0;i<this.mutations.length;i++){const e=this.mutations[i];e.key.isEqual(t.key)&&fc(e,t,n[i])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=pc(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=pc(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=zl();return this.mutations.forEach(i=>{const r=t.get(i.key),s=r.overlayedDocument;let o=this.applyToLocalView(s,r.mutatedFields);o=e.has(i.key)?null:o;const a=dc(s,o);null!==a&&n.set(i.key,a),s.isValidDocument()||s.convertToNoDocument(to.min())}),n}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Wl())}isEqual(t){return this.batchId===t.batchId&&Ls(this.mutations,t.mutations,(t,e)=>mc(t,e))&&Ls(this.baseMutations,t.baseMutations,(t,e)=>mc(t,e))}}class kc{constructor(t,e,n,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=i}static from(t,e,n){ms(t.mutations.length===n.length,58842,{me:t.mutations.length,fe:n.length});let i=Bl;const r=t.mutations;for(let s=0;s<r.length;s++)i=i.insert(r[s].key,n[s].version);return new kc(t,e,n,i)}}class Tc{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Cc{constructor(t,e){this.count=t,this.unchangedNames=e}}var Ic,Ac;function Pc(t){switch(t){case vs.OK:return ps(64938);case vs.CANCELLED:case vs.UNKNOWN:case vs.DEADLINE_EXCEEDED:case vs.RESOURCE_EXHAUSTED:case vs.INTERNAL:case vs.UNAVAILABLE:case vs.UNAUTHENTICATED:return!1;case vs.INVALID_ARGUMENT:case vs.NOT_FOUND:case vs.ALREADY_EXISTS:case vs.PERMISSION_DENIED:case vs.FAILED_PRECONDITION:case vs.ABORTED:case vs.OUT_OF_RANGE:case vs.UNIMPLEMENTED:case vs.DATA_LOSS:return!0;default:return ps(15467,{code:t})}}function Rc(t){if(void 0===t)return hs("GRPC error has no .code"),vs.UNKNOWN;switch(t){case Ic.OK:return vs.OK;case Ic.CANCELLED:return vs.CANCELLED;case Ic.UNKNOWN:return vs.UNKNOWN;case Ic.DEADLINE_EXCEEDED:return vs.DEADLINE_EXCEEDED;case Ic.RESOURCE_EXHAUSTED:return vs.RESOURCE_EXHAUSTED;case Ic.INTERNAL:return vs.INTERNAL;case Ic.UNAVAILABLE:return vs.UNAVAILABLE;case Ic.UNAUTHENTICATED:return vs.UNAUTHENTICATED;case Ic.INVALID_ARGUMENT:return vs.INVALID_ARGUMENT;case Ic.NOT_FOUND:return vs.NOT_FOUND;case Ic.ALREADY_EXISTS:return vs.ALREADY_EXISTS;case Ic.PERMISSION_DENIED:return vs.PERMISSION_DENIED;case Ic.FAILED_PRECONDITION:return vs.FAILED_PRECONDITION;case Ic.ABORTED:return vs.ABORTED;case Ic.OUT_OF_RANGE:return vs.OUT_OF_RANGE;case Ic.UNIMPLEMENTED:return vs.UNIMPLEMENTED;case Ic.DATA_LOSS:return vs.DATA_LOSS;default:return ps(39323,{code:t})}}(Ac=Ic||(Ic={}))[Ac.OK=0]="OK",Ac[Ac.CANCELLED=1]="CANCELLED",Ac[Ac.UNKNOWN=2]="UNKNOWN",Ac[Ac.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ac[Ac.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ac[Ac.NOT_FOUND=5]="NOT_FOUND",Ac[Ac.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ac[Ac.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ac[Ac.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ac[Ac.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ac[Ac.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ac[Ac.ABORTED=10]="ABORTED",Ac[Ac.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ac[Ac.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ac[Ac.INTERNAL=13]="INTERNAL",Ac[Ac.UNAVAILABLE=14]="UNAVAILABLE",Ac[Ac.DATA_LOSS=15]="DATA_LOSS";let Oc=null;function Mc(){return new TextEncoder}const Dc=new Wr([4294967295,4294967295],0);function Nc(t){const e=Mc().encode(t),n=new qr;return n.update(e),new Uint8Array(n.digest())}function Lc(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Wr([n,i],0),new Wr([r,s],0)]}class Fc{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new Vc("Invalid padding: ".concat(e));if(n<0)throw new Vc("Invalid hash count: ".concat(n));if(t.length>0&&0===this.hashCount)throw new Vc("Invalid hash count: ".concat(n));if(0===t.length&&0!==e)throw new Vc("Invalid padding when bitmap length is 0: ".concat(e));this.ge=8*t.length-e,this.pe=Wr.fromNumber(this.ge)}ye(t,e,n){let i=t.add(e.multiply(Wr.fromNumber(n)));return 1===i.compare(Dc)&&(i=new Wr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.ge)return!1;const e=Nc(t),[n,i]=Lc(e);for(let r=0;r<this.hashCount;r++){const t=this.ye(n,i,r);if(!this.we(t))return!1}return!0}static create(t,e,n){const i=t%8==0?0:8-t%8,r=new Uint8Array(Math.ceil(t/8)),s=new Fc(r,i,e);return n.forEach(t=>s.insert(t)),s}insert(t){if(0===this.ge)return;const e=Nc(t),[n,i]=Lc(e);for(let r=0;r<this.hashCount;r++){const t=this.ye(n,i,r);this.Se(t)}}Se(t){const e=Math.floor(t/8),n=t%8;this.bitmap[e]|=1<<n}}class Vc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Uc{constructor(t,e,n,i,r){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const i=new Map;return i.set(t,zc.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new Uc(to.min(),i,new Yo(Rs),Nl(),Wl())}}class zc{constructor(t,e,n,i,r){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new zc(n,e,Wl(),Wl(),Wl())}}class jc{constructor(t,e,n,i){this.be=t,this.removedTargetIds=e,this.key=n,this.De=i}}class Bc{constructor(t,e){this.targetId=t,this.Ce=e}}class Hc{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:na.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i}}class Wc{constructor(){this.ve=0,this.Fe=Gc(),this.Me=na.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Wl(),e=Wl(),n=Wl();return this.Fe.forEach((i,r)=>{switch(r){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:ps(38017,{changeType:r})}}),new zc(this.Me,this.xe,t,e,n)}qe(){this.Oe=!1,this.Fe=Gc()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ms(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class qc{constructor(t){this.Ge=t,this.ze=new Map,this.je=Nl(),this.Je=Kc(),this.He=Kc(),this.Ye=new Yo(Rs)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,e=>{const n=this.nt(e);switch(t.state){case 0:this.rt(e)&&n.Le(t.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(t.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(n.We(),n.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),n.Le(t.resumeToken));break;default:ps(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach((t,n)=>{this.rt(n)&&e(n)})}st(t){const e=t.targetId,n=t.Ce.count,i=this.ot(e);if(i){const s=i.target;if(gl(s))if(0===n){const t=new Bs(s.path);this.et(e,t,Ba.newNoDocument(t,to.min()))}else ms(1===n,20013,{expectedCount:n});else{const i=this._t(e);if(i!==n){var r;const n=this.ut(t),s=n?this.ct(n,t,i):1;if(0!==s){this.it(e);const t=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,t)}null===(r=Oc)||void 0===r||r.lt(function(t,e,n,i,r,s,o,a,l,c){const u={localCacheCount:t,existenceFilterCount:e.count,databaseId:n.database,projectId:n.projectId},h=e.unchangedNames;return h&&(u.bloomFilter={applied:0===r,hashCount:null!==(s=null===h||void 0===h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(o=null===h||void 0===h||null===(a=h.bits)||void 0===a||null===(a=a.bitmap)||void 0===a?void 0:a.length)&&void 0!==o?o:0,padding:null!==(l=null===h||void 0===h||null===(c=h.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:t=>{var e;return null!==(e=null===i||void 0===i?void 0:i.mightContain(t))&&void 0!==e&&e}}),u}(i,t.Ce,this.Ge.ht(),n,s))}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:r=0}=e;let s,o;try{s=oa(n).toUint8Array()}catch(t){if(t instanceof ea)return ds("Decoding the base64 bloom filter in existence filter failed ("+t.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw t}try{o=new Fc(s,i,r)}catch(t){return ds(t instanceof Vc?"BloomFilter error: ":"Applying bloom filter failed: ",t),null}return 0===o.ge?null:o}ct(t,e,n){return e.Ce.count===n-this.Pt(t,e.targetId)?0:2}Pt(t,e){const n=this.Ge.getRemoteKeysForTarget(e);let i=0;return n.forEach(n=>{const r=this.Ge.ht(),s="projects/".concat(r.projectId,"/databases/").concat(r.database,"/documents/").concat(n.path.canonicalString());t.mightContain(s)||(this.et(e,n,null),i++)}),i}Tt(t){const e=new Map;this.ze.forEach((n,i)=>{const r=this.ot(i);if(r){if(n.current&&gl(r.target)){const e=new Bs(r.target.path);this.It(e).has(i)||this.Et(i,e)||this.et(i,e,Ba.newNoDocument(e,t))}n.Be&&(e.set(i,n.ke()),n.qe())}});let n=Wl();this.He.forEach((t,e)=>{let i=!0;e.forEachWhile(t=>{const e=this.ot(t);return!e||"TargetPurposeLimboResolution"===e.purpose||(i=!1,!1)}),i&&(n=n.add(t))}),this.je.forEach((e,n)=>n.setReadTime(t));const i=new Uc(t,e,this.Ye,this.je,n);return this.je=Nl(),this.Je=Kc(),this.He=Kc(),this.Ye=new Yo(Rs),i}Xe(t,e){if(!this.rt(t))return;const n=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,n),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,n){if(!this.rt(t))return;const i=this.nt(t);this.Et(t,e)?i.Qe(e,1):i.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),n&&(this.je=this.je.insert(e,n))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new Wc,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new $o(Rs),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new $o(Rs),this.Je=this.Je.insert(t,e)),e}rt(t){const e=null!==this.ot(t);return e||us("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Wc),this.Ge.getRemoteKeysForTarget(t).forEach(e=>{this.et(t,e,null)})}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Kc(){return new Yo(Bs.comparator)}function Gc(){return new Yo(Bs.comparator)}const Qc={asc:"ASCENDING",desc:"DESCENDING"},Yc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xc={and:"AND",or:"OR"};class Jc{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function $c(t,e){return t.useProto3Json||mo(e)?e:{value:e}}function Zc(t,e){return t.useProto3Json?"".concat(new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+e.nanoseconds).slice(-9),"Z"):{seconds:""+e.seconds,nanos:e.nanoseconds}}function tu(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function eu(t,e){return Zc(t,e.toTimestamp())}function nu(t){return ms(!!t,49232),to.fromTimestamp(function(t){const e=ra(t);return new Zs(e.seconds,e.nanos)}(t))}function iu(t,e){return ru(t,e).canonicalString()}function ru(t,e){const n=function(t){return new Us(["projects",t.projectId,"databases",t.database])}(t).child("documents");return void 0===e?n:n.child(e)}function su(t){const e=Us.fromString(t);return ms(ku(e),10190,{key:e.toString()}),e}function ou(t,e){return iu(t.databaseId,e.path)}function au(t,e){const n=su(e);if(n.get(1)!==t.databaseId.projectId)throw new bs(vs.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new bs(vs.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Bs(hu(n))}function lu(t,e){return iu(t.databaseId,e)}function cu(t){const e=su(t);return 4===e.length?Us.emptyPath():hu(e)}function uu(t){return new Us(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function hu(t){return ms(t.length>4&&"documents"===t.get(4),29091,{key:t.toString()}),t.popFirst(5)}function du(t,e,n){return{name:ou(t,e),fields:n.value.mapValue.fields}}function fu(t,e){let n;if(e instanceof yc)n={update:du(t,e.key,e.value)};else if(e instanceof xc)n={delete:ou(t,e.key)};else if(e instanceof vc)n={update:du(t,e.key,e.data),updateMask:Su(e.fieldMask)};else{if(!(e instanceof Ec))return ps(16599,{Vt:e.type});n={verify:ou(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(t=>function(t,e){const n=e.transform;if(n instanceof tc)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ec)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ic)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof sc)return{fieldPath:e.field.canonicalString(),increment:n.Ae};throw ps(20930,{transform:e.transform})}(0,t))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:eu(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:ps(27497)}(t,e.precondition)),n}function pu(t,e){return{documents:[lu(t,e.path)]}}function gu(t,e){const n={structuredQuery:{}},i=e.path;let r;null!==e.collectionGroup?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=lu(t,r);const s=function(t){if(0!==t.length)return Eu(Xa.create(t,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(t){if(0!==t.length)return t.map(t=>function(t){return{field:_u(t.field),direction:vu(t.dir)}}(t))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=$c(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(t){return{before:t.inclusive,values:t.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),{ft:n,parent:r}}function mu(t){let e=cu(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){ms(1===i,65062);const t=n.from[0];t.allDescendants?r=t.collectionId:e=e.child(t.collectionId)}let s=[];n.where&&(s=function(t){const e=yu(t);return e instanceof Xa&&$a(e)?e.getFilters():[e]}(n.where));let o=[];n.orderBy&&(o=function(t){return t.map(t=>function(t){return new Ka(xu(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t))}(n.orderBy));let a=null;n.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,mo(e)?null:e}(n.limit));let l=null;n.startAt&&(l=function(t){const e=!!t.before,n=t.values||[];return new Ha(n,e)}(n.startAt));let c=null;return n.endAt&&(c=function(t){const e=!t.before,n=t.values||[];return new Ha(n,e)}(n.endAt)),yl(e,r,o,s,a,"F",l,c)}function yu(t){return void 0!==t.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=xu(t.unaryFilter.field);return Ya.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=xu(t.unaryFilter.field);return Ya.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=xu(t.unaryFilter.field);return Ya.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=xu(t.unaryFilter.field);return Ya.create(r,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ps(61313);default:return ps(60726)}}(t):void 0!==t.fieldFilter?function(t){return Ya.create(xu(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ps(58110);default:return ps(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(t){return Xa.create(t.compositeFilter.filters.map(t=>yu(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ps(1026)}}(t.compositeFilter.op))}(t):ps(30097,{filter:t})}function vu(t){return Qc[t]}function bu(t){return Yc[t]}function wu(t){return Xc[t]}function _u(t){return{fieldPath:t.canonicalString()}}function xu(t){return js.fromServerFormat(t.fieldPath)}function Eu(t){return t instanceof Ya?function(t){if("=="===t.op){if(Na(t.value))return{unaryFilter:{field:_u(t.field),op:"IS_NAN"}};if(Da(t.value))return{unaryFilter:{field:_u(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Na(t.value))return{unaryFilter:{field:_u(t.field),op:"IS_NOT_NAN"}};if(Da(t.value))return{unaryFilter:{field:_u(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_u(t.field),op:bu(t.op),value:t.value}}}(t):t instanceof Xa?function(t){const e=t.getFilters().map(t=>Eu(t));return 1===e.length?e[0]:{compositeFilter:{op:wu(t.op),filters:e}}}(t):ps(54877,{filter:t})}function Su(t){const e=[];return t.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ku(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Tu{constructor(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:to.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:to.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:na.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(t){return new Tu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Tu(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Tu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Tu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Cu{constructor(t){this.yt=t}}function Iu(t){const e=mu({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?kl(e,e.limit,"L"):e}class Au{constructor(){}Dt(t,e){this.Ct(t,e),e.vt()}Ct(t,e){if("nullValue"in t)this.Ft(e,5);else if("booleanValue"in t)this.Ft(e,10),e.Mt(t.booleanValue?1:0);else if("integerValue"in t)this.Ft(e,15),e.Mt(sa(t.integerValue));else if("doubleValue"in t){const n=sa(t.doubleValue);isNaN(n)?this.Ft(e,13):(this.Ft(e,15),yo(n)?e.Mt(0):e.Mt(n))}else if("timestampValue"in t){let n=t.timestampValue;this.Ft(e,20),"string"==typeof n&&(n=ra(n)),e.xt("".concat(n.seconds||"")),e.Mt(n.nanos||0)}else if("stringValue"in t)this.Ot(t.stringValue,e),this.Nt(e);else if("bytesValue"in t)this.Ft(e,30),e.Bt(oa(t.bytesValue)),this.Nt(e);else if("referenceValue"in t)this.Lt(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.Ft(e,45),e.Mt(n.latitude||0),e.Mt(n.longitude||0)}else"mapValue"in t?Ua(t)?this.Ft(e,Number.MAX_SAFE_INTEGER):Fa(t)?this.kt(t.mapValue,e):(this.qt(t.mapValue,e),this.Nt(e)):"arrayValue"in t?(this.Qt(t.arrayValue,e),this.Nt(e)):ps(19022,{$t:t})}Ot(t,e){this.Ft(e,25),this.Ut(t,e)}Ut(t,e){e.xt(t)}qt(t,e){const n=t.fields||{};this.Ft(e,55);for(const i of Object.keys(n))this.Ot(i,e),this.Ct(n[i],e)}kt(t,e){var n;const i=t.fields||{};this.Ft(e,53);const r=_a,s=(null===(n=i[r].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(e,15),e.Mt(sa(s)),this.Ot(r,e),this.Ct(i[r],e)}Qt(t,e){const n=t.values||[];this.Ft(e,50);for(const i of n)this.Ct(i,e)}Lt(t,e){this.Ft(e,37),Bs.fromName(t).path.forEach(t=>{this.Ft(e,60),this.Ut(t,e)})}Ft(t,e){t.Mt(e)}Nt(t){t.Mt(2)}}Au.Kt=new Au;class Pu{constructor(){this.Cn=new Ru}addToCollectionParentIndex(t,e){return this.Cn.add(e),uo.resolve()}getCollectionParents(t,e){return uo.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return uo.resolve()}deleteFieldIndex(t,e){return uo.resolve()}deleteAllFieldIndexes(t){return uo.resolve()}createTargetIndexes(t,e){return uo.resolve()}getDocumentsMatchingTarget(t,e){return uo.resolve(null)}getIndexType(t,e){return uo.resolve(0)}getFieldIndexes(t,e){return uo.resolve([])}getNextCollectionGroupToUpdate(t){return uo.resolve(null)}getMinOffset(t,e){return uo.resolve(so.min())}getMinOffsetFromCollectionGroup(t,e){return uo.resolve(so.min())}updateCollectionGroup(t,e,n){return uo.resolve()}updateIndexEntries(t,e){return uo.resolve()}}class Ru{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e]||new $o(Us.comparator),r=!i.has(n);return this.index[e]=i.add(n),r}has(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e];return i&&i.has(n)}getEntries(t){return(this.index[t]||new $o(Us.comparator)).toArray()}}new Uint8Array(0);const Ou={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Mu=41943040;class Du{static withCacheSize(t){return new Du(t,Du.DEFAULT_COLLECTION_PERCENTILE,Du.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}}Du.DEFAULT_COLLECTION_PERCENTILE=10,Du.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Du.DEFAULT=new Du(Mu,Du.DEFAULT_COLLECTION_PERCENTILE,Du.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Du.DISABLED=new Du(-1,0,0);class Nu{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Nu(0)}static cr(){return new Nu(-1)}}const Lu="LruGarbageCollector",Fu=1048576;function Vu(t,e){let[n,i]=t,[r,s]=e;const o=Rs(n,r);return 0===o?Rs(i,s):o}class Uu{constructor(t){this.Ir=t,this.buffer=new $o(Vu),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const t=this.buffer.last();Vu(e,t)<0&&(this.buffer=this.buffer.delete(t).add(e))}}get maxValue(){return this.buffer.last()[0]}}class zu{constructor(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(t){us(Lu,"Garbage collection scheduled in ".concat(t,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){fo(t)?us(Lu,"Ignoring IndexedDB error during garbage collection: ",t):await co(t)}await this.Vr(3e5)})}}class ju{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next(t=>Math.floor(e/100*t))}nthSequenceNumber(t,e){if(0===e)return uo.resolve(po.ce);const n=new Uu(e);return this.mr.forEachTarget(t,t=>n.Ar(t.sequenceNumber)).next(()=>this.mr.pr(t,t=>n.Ar(t))).next(()=>n.maxValue)}removeTargets(t,e,n){return this.mr.removeTargets(t,e,n)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(us("LruGarbageCollector","Garbage collection skipped; disabled"),uo.resolve(Ou)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(us("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Ou):this.yr(t,e))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let n,i,r,s,o,a,l;const c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(e=>(e>this.params.maximumSequenceNumbersToCollect?(us("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(e)),i=this.params.maximumSequenceNumbersToCollect):i=e,s=Date.now(),this.nthSequenceNumber(t,i))).next(i=>(n=i,o=Date.now(),this.removeTargets(t,n,e))).next(e=>(r=e,a=Date.now(),this.removeOrphanedDocuments(t,n))).next(t=>(l=Date.now(),cs()<=Q.DEBUG&&us("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-c,"ms\n\tDetermined least recently used ").concat(i," in ")+(o-s)+"ms\n"+"\tRemoved ".concat(r," targets in ")+(a-o)+"ms\n"+"\tRemoved ".concat(t," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),uo.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:t})))}}function Bu(t,e){return new ju(t,e)}class Hu{constructor(){this.changes=new Ml(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Ba.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?uo.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Wu{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class qu{constructor(t,e,n,i){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=i}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next(i=>(n=i,this.remoteDocumentCache.getEntry(t,e))).next(t=>(null!==n&&pc(n.mutation,t,ta.empty(),Zs.now()),t))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(e=>this.getLocalViewOfDocuments(t,e,Wl()).next(()=>e))}getLocalViewOfDocuments(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wl();const i=Ul();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,n).next(t=>{let e=Fl();return t.forEach((t,n)=>{e=e.insert(t,n.overlayedDocument)}),e}))}getOverlayedDocuments(t,e){const n=Ul();return this.populateOverlays(t,n,e).next(()=>this.computeViews(t,e,n,Wl()))}populateOverlays(t,e,n){const i=[];return n.forEach(t=>{e.has(t)||i.push(t)}),this.documentOverlayCache.getOverlays(t,i).next(t=>{t.forEach((t,n)=>{e.set(t,n)})})}computeViews(t,e,n,i){let r=Nl();const s=jl(),o=jl();return e.forEach((t,e)=>{const o=n.get(e.key);i.has(e.key)&&(void 0===o||o.mutation instanceof vc)?r=r.insert(e.key,e):void 0!==o?(s.set(e.key,o.mutation.getFieldMask()),pc(o.mutation,e,o.mutation.getFieldMask(),Zs.now())):s.set(e.key,ta.empty())}),this.recalculateAndSaveOverlays(t,r).next(t=>(t.forEach((t,e)=>s.set(t,e)),e.forEach((t,e)=>{var n;return o.set(t,new Wu(e,null!==(n=s.get(t))&&void 0!==n?n:null))}),o))}recalculateAndSaveOverlays(t,e){const n=jl();let i=new Yo((t,e)=>t-e),r=Wl();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(t=>{for(const r of t)r.keys().forEach(t=>{const s=e.get(t);if(null===s)return;let o=n.get(t)||ta.empty();o=r.applyToLocalView(s,o),n.set(t,o);const a=(i.get(r.batchId)||Wl()).add(t);i=i.insert(r.batchId,a)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const i=o.getNext(),a=i.key,l=i.value,c=zl();l.forEach(t=>{if(!r.has(t)){const i=dc(e.get(t),n.get(t));null!==i&&c.set(t,i),r=r.add(t)}}),s.push(this.documentOverlayCache.saveOverlays(t,a,c))}return uo.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(e=>this.recalculateAndSaveOverlays(t,e))}getDocumentsMatchingQuery(t,e,n,i){return function(t){return Bs.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):wl(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n,i):this.getDocumentsMatchingCollectionQuery(t,e,n,i)}getNextDocuments(t,e,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,i).next(r=>{const s=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,i-r.size):uo.resolve(Ul());let o=eo,a=r;return s.next(e=>uo.forEach(e,(e,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),r.get(e)?uo.resolve():this.remoteDocumentCache.getEntry(t,e).next(t=>{a=a.insert(e,t)}))).next(()=>this.populateOverlays(t,e,r)).next(()=>this.computeViews(t,a,e,Wl())).next(t=>({batchId:o,changes:Vl(t)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Bs(e)).next(t=>{let e=Fl();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})}getDocumentsMatchingCollectionGroupQuery(t,e,n,i){const r=e.collectionGroup;let s=Fl();return this.indexManager.getCollectionParents(t,r).next(o=>uo.forEach(o,o=>{const a=function(t,e){return new ml(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(r));return this.getDocumentsMatchingCollectionQuery(t,a,n,i).next(t=>{t.forEach((t,e)=>{s=s.insert(t,e)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,n,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,r,i))).next(t=>{r.forEach((e,n)=>{const i=n.getKey();null===t.get(i)&&(t=t.insert(i,Ba.newInvalidDocument(i)))});let n=Fl();return t.forEach((t,i)=>{const s=r.get(t);void 0!==s&&pc(s.mutation,i,ta.empty(),Zs.now()),Al(e,i)&&(n=n.insert(t,i))}),n})}}class Ku{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return uo.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,function(t){return{id:t.id,version:t.version,createTime:nu(t.createTime)}}(e)),uo.resolve()}getNamedQuery(t,e){return uo.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,function(t){return{name:t.name,query:Iu(t.bundledQuery),readTime:nu(t.readTime)}}(e)),uo.resolve()}}class Gu{constructor(){this.overlays=new Yo(Bs.comparator),this.qr=new Map}getOverlay(t,e){return uo.resolve(this.overlays.get(e))}getOverlays(t,e){const n=Ul();return uo.forEach(e,e=>this.getOverlay(t,e).next(t=>{null!==t&&n.set(e,t)})).next(()=>n)}saveOverlays(t,e,n){return n.forEach((n,i)=>{this.St(t,e,i)}),uo.resolve()}removeOverlaysForBatchId(t,e,n){const i=this.qr.get(n);return void 0!==i&&(i.forEach(t=>this.overlays=this.overlays.remove(t)),this.qr.delete(n)),uo.resolve()}getOverlaysForCollection(t,e,n){const i=Ul(),r=e.length+1,s=new Bs(e.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const t=o.getNext().value,s=t.getKey();if(!e.isPrefixOf(s.path))break;s.path.length===r&&t.largestBatchId>n&&i.set(t.getKey(),t)}return uo.resolve(i)}getOverlaysForCollectionGroup(t,e,n,i){let r=new Yo((t,e)=>t-e);const s=this.overlays.getIterator();for(;s.hasNext();){const t=s.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>n){let e=r.get(t.largestBatchId);null===e&&(e=Ul(),r=r.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const o=Ul(),a=r.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((t,e)=>o.set(t,e)),!(o.size()>=i)););return uo.resolve(o)}St(t,e,n){const i=this.overlays.get(n.key);if(null!==i){const t=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,t)}this.overlays=this.overlays.insert(n.key,new Tc(e,n));let r=this.qr.get(e);void 0===r&&(r=Wl(),this.qr.set(e,r)),this.qr.set(e,r.add(n.key))}}class Qu{constructor(){this.sessionToken=na.EMPTY_BYTE_STRING}getSessionToken(t){return uo.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,uo.resolve()}}class Yu{constructor(){this.Qr=new $o(Xu.$r),this.Ur=new $o(Xu.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const n=new Xu(t,e);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(t,e){t.forEach(t=>this.addReference(t,e))}removeReference(t,e){this.Gr(new Xu(t,e))}zr(t,e){t.forEach(t=>this.removeReference(t,e))}jr(t){const e=new Bs(new Us([])),n=new Xu(e,t),i=new Xu(e,t+1),r=[];return this.Ur.forEachInRange([n,i],t=>{this.Gr(t),r.push(t.key)}),r}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new Bs(new Us([])),n=new Xu(e,t),i=new Xu(e,t+1);let r=Wl();return this.Ur.forEachInRange([n,i],t=>{r=r.add(t.key)}),r}containsKey(t){const e=new Xu(t,0),n=this.Qr.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class Xu{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return Bs.comparator(t.key,e.key)||Rs(t.Yr,e.Yr)}static Kr(t,e){return Rs(t.Yr,e.Yr)||Bs.comparator(t.key,e.key)}}class Ju{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new $o(Xu.$r)}checkEmpty(t){return uo.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,n,i){const r=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Sc(r,e,n,i);this.mutationQueue.push(s);for(const o of i)this.Zr=this.Zr.add(new Xu(o.key,r)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return uo.resolve(s)}lookupMutationBatch(t,e){return uo.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,i=this.ei(n),r=i<0?0:i;return uo.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return uo.resolve(0===this.mutationQueue.length?go:this.tr-1)}getAllMutationBatches(t){return uo.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new Xu(e,0),i=new Xu(e,Number.POSITIVE_INFINITY),r=[];return this.Zr.forEachInRange([n,i],t=>{const e=this.Xr(t.Yr);r.push(e)}),uo.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new $o(Rs);return e.forEach(t=>{const e=new Xu(t,0),i=new Xu(t,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([e,i],t=>{n=n.add(t.Yr)})}),uo.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,i=n.length+1;let r=n;Bs.isDocumentKey(r)||(r=r.child(""));const s=new Xu(new Bs(r),0);let o=new $o(Rs);return this.Zr.forEachWhile(t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===i&&(o=o.add(t.Yr)),!0)},s),uo.resolve(this.ti(o))}ti(t){const e=[];return t.forEach(t=>{const n=this.Xr(t);null!==n&&e.push(n)}),e}removeMutationBatch(t,e){ms(0===this.ni(e.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return uo.forEach(e.mutations,i=>{const r=new Xu(i.key,e.batchId);return n=n.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Zr=n})}ir(t){}containsKey(t,e){const n=new Xu(e,0),i=this.Zr.firstAfterOrEqual(n);return uo.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,uo.resolve()}ni(t,e){return this.ei(t)}ei(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class $u{constructor(t){this.ri=t,this.docs=new Yo(Bs.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,i=this.docs.get(n),r=i?i.size:0,s=this.ri(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:s}),this.size+=s-r,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return uo.resolve(n?n.document.mutableCopy():Ba.newInvalidDocument(e))}getEntries(t,e){let n=Nl();return e.forEach(t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.mutableCopy():Ba.newInvalidDocument(t))}),uo.resolve(n)}getDocumentsMatchingQuery(t,e,n,i){let r=Nl();const s=e.path,o=new Bs(s.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:t,value:{document:o}}=a.getNext();if(!s.isPrefixOf(t.path))break;t.path.length>s.length+1||oo(ro(o),n)<=0||(i.has(o.key)||Al(e,o))&&(r=r.insert(o.key,o.mutableCopy()))}return uo.resolve(r)}getAllFromCollectionGroup(t,e,n,i){ps(9500)}ii(t,e){return uo.forEach(this.docs,t=>e(t))}newChangeBuffer(t){return new Zu(this)}getSize(t){return uo.resolve(this.size)}}class Zu extends Hu{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?e.push(this.Nr.addEntry(t,i)):this.Nr.removeEntry(n)}),uo.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}class th{constructor(t){this.persistence=t,this.si=new Ml(t=>fl(t),pl),this.lastRemoteSnapshotVersion=to.min(),this.highestTargetId=0,this.oi=0,this._i=new Yu,this.targetCount=0,this.ai=Nu.ur()}forEachTarget(t,e){return this.si.forEach((t,n)=>e(n)),uo.resolve()}getLastRemoteSnapshotVersion(t){return uo.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return uo.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),uo.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.oi&&(this.oi=e),uo.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Nu(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,uo.resolve()}updateTargetData(t,e){return this.Pr(e),uo.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,uo.resolve()}removeTargets(t,e,n){let i=0;const r=[];return this.si.forEach((s,o)=>{o.sequenceNumber<=e&&null===n.get(o.targetId)&&(this.si.delete(s),r.push(this.removeMatchingKeysForTargetId(t,o.targetId)),i++)}),uo.waitFor(r).next(()=>i)}getTargetCount(t){return uo.resolve(this.targetCount)}getTargetData(t,e){const n=this.si.get(e)||null;return uo.resolve(n)}addMatchingKeys(t,e,n){return this._i.Wr(e,n),uo.resolve()}removeMatchingKeys(t,e,n){this._i.zr(e,n);const i=this.persistence.referenceDelegate,r=[];return i&&e.forEach(e=>{r.push(i.markPotentiallyOrphaned(t,e))}),uo.waitFor(r)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),uo.resolve()}getMatchingKeysForTargetId(t,e){const n=this._i.Hr(e);return uo.resolve(n)}containsKey(t,e){return uo.resolve(this._i.containsKey(e))}}class eh{constructor(t,e){this.ui={},this.overlays={},this.ci=new po(0),this.li=!1,this.li=!0,this.hi=new Qu,this.referenceDelegate=t(this),this.Pi=new th(this),this.indexManager=new Pu,this.remoteDocumentCache=function(t){return new $u(t)}(t=>this.referenceDelegate.Ti(t)),this.serializer=new Cu(e),this.Ii=new Ku(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Gu,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.ui[t.toKey()];return n||(n=new Ju(e,this.referenceDelegate),this.ui[t.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,n){us("MemoryPersistence","Starting transaction:",t);const i=new nh(this.ci.next());return this.referenceDelegate.Ei(),n(i).next(t=>this.referenceDelegate.di(i).next(()=>t)).toPromise().then(t=>(i.raiseOnCommittedEvent(),t))}Ai(t,e){return uo.or(Object.values(this.ui).map(n=>()=>n.containsKey(t,e)))}}class nh extends lo{constructor(t){super(),this.currentSequenceNumber=t}}class ih{constructor(t){this.persistence=t,this.Ri=new Yu,this.Vi=null}static mi(t){return new ih(t)}get fi(){if(this.Vi)return this.Vi;throw ps(60996)}addReference(t,e,n){return this.Ri.addReference(n,e),this.fi.delete(n.toString()),uo.resolve()}removeReference(t,e,n){return this.Ri.removeReference(n,e),this.fi.add(n.toString()),uo.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),uo.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach(t=>this.fi.add(t.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next(t=>{t.forEach(t=>this.fi.add(t.toString()))}).next(()=>n.removeTargetData(t,e))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return uo.forEach(this.fi,n=>{const i=Bs.fromPath(n);return this.gi(t,i).next(t=>{t||e.removeEntry(i,to.min())})}).next(()=>(this.Vi=null,e.apply(t)))}updateLimboDocument(t,e){return this.gi(t,e).next(t=>{t?this.fi.delete(e.toString()):this.fi.add(e.toString())})}Ti(t){return 0}gi(t,e){return uo.or([()=>uo.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class rh{constructor(t,e){this.persistence=t,this.pi=new Ml(t=>wo(t.path),(t,e)=>t.isEqual(e)),this.garbageCollector=Bu(this,e)}static mi(t,e){return new rh(t,e)}Ei(){}di(t){return uo.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(t=>e.next(e=>t+e))}wr(t){let e=0;return this.pr(t,t=>{e++}).next(()=>e)}pr(t,e){return uo.forEach(this.pi,(n,i)=>this.br(t,n,i).next(t=>t?uo.resolve():e(i)))}removeTargets(t,e,n){return this.persistence.getTargetCache().removeTargets(t,e,n)}removeOrphanedDocuments(t,e){let n=0;const i=this.persistence.getRemoteDocumentCache(),r=i.newChangeBuffer();return i.ii(t,i=>this.br(t,i,e).next(t=>{t||(n++,r.removeEntry(i,to.min()))})).next(()=>r.apply(t)).next(()=>n)}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),uo.resolve()}removeTarget(t,e){const n=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,e,n){return this.pi.set(n,t.currentSequenceNumber),uo.resolve()}removeReference(t,e,n){return this.pi.set(n,t.currentSequenceNumber),uo.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),uo.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Pa(t.data.value)),e}br(t,e,n){return uo.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const t=this.pi.get(e);return uo.resolve(void 0!==t&&t>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class sh{constructor(t,e,n,i){this.targetId=t,this.fromCache=e,this.Es=n,this.ds=i}static As(t,e){let n=Wl(),i=Wl();for(const r of e.docChanges)switch(r.type){case 0:n=n.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new sh(t,e.fromCache,n,i)}}class oh{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class ah{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=P()?8:ho(I())>0?6:4}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,n,i){const r={result:null};return this.ys(t,e).next(t=>{r.result=t}).next(()=>{if(!r.result)return this.ws(t,e,i,n).next(t=>{r.result=t})}).next(()=>{if(r.result)return;const n=new oh;return this.Ss(t,e,n).next(i=>{if(r.result=i,this.Vs)return this.bs(t,e,n,i.size)})}).next(()=>r.result)}bs(t,e,n,i){return n.documentReadCount<this.fs?(cs()<=Q.DEBUG&&us("QueryEngine","SDK will not create cache indexes for query:",Il(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),uo.resolve()):(cs()<=Q.DEBUG&&us("QueryEngine","Query:",Il(e),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(cs()<=Q.DEBUG&&us("QueryEngine","The SDK decides to create cache indexes for query:",Il(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,xl(e))):uo.resolve())}ys(t,e){if(bl(e))return uo.resolve(null);let n=xl(e);return this.indexManager.getIndexType(t,n).next(i=>0===i?null:(null!==e.limit&&1===i&&(e=kl(e,null,"F"),n=xl(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next(i=>{const r=Wl(...i);return this.ps.getDocuments(t,r).next(i=>this.indexManager.getMinOffset(t,n).next(n=>{const s=this.Ds(e,i);return this.Cs(e,s,r,n.readTime)?this.ys(t,kl(e,null,"F")):this.vs(t,s,e,n)}))})))}ws(t,e,n,i){return bl(e)||i.isEqual(to.min())?uo.resolve(null):this.ps.getDocuments(t,n).next(r=>{const s=this.Ds(e,r);return this.Cs(e,s,n,i)?uo.resolve(null):(cs()<=Q.DEBUG&&us("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Il(e)),this.vs(t,s,e,io(i,eo)).next(t=>t))})}Ds(t,e){let n=new $o(Rl(t));return e.forEach((e,i)=>{Al(t,i)&&(n=n.add(i))}),n}Cs(t,e,n,i){if(null===t.limit)return!1;if(n.size!==e.size)return!0;const r="F"===t.limitType?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Ss(t,e,n){return cs()<=Q.DEBUG&&us("QueryEngine","Using full collection scan to execute query:",Il(e)),this.ps.getDocumentsMatchingQuery(t,e,so.min(),n)}vs(t,e,n,i){return this.ps.getDocumentsMatchingQuery(t,n,i).next(t=>(e.forEach(e=>{t=t.insert(e.key,e)}),t))}}const lh="LocalStore";class ch{constructor(t,e,n,i){this.persistence=t,this.Fs=e,this.serializer=i,this.Ms=new Yo(Rs),this.xs=new Ml(t=>fl(t),pl),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(n)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new qu(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ms))}}function uh(t,e,n,i){return new ch(t,e,n,i)}async function hh(t,e){const n=ys(t);return await n.persistence.runTransaction("Handle user change","readonly",t=>{let i;return n.mutationQueue.getAllMutationBatches(t).next(r=>(i=r,n.Bs(e),n.mutationQueue.getAllMutationBatches(t))).next(e=>{const r=[],s=[];let o=Wl();for(const t of i){r.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}for(const t of e){s.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}return n.localDocuments.getDocuments(t,o).next(t=>({Ls:t,removedBatchIds:r,addedBatchIds:s}))})})}function dh(t){const e=ys(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function fh(t,e,n){let i=Wl(),r=Wl();return n.forEach(t=>i=i.add(t)),e.getEntries(t,i).next(t=>{let i=Nl();return n.forEach((n,s)=>{const o=t.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(r=r.add(n)),s.isNoDocument()&&s.version.isEqual(to.min())?(e.removeEntry(n,s.readTime),i=i.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(e.addEntry(s),i=i.insert(n,s)):us(lh,"Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)}),{ks:i,qs:r}})}function ph(t,e){const n=ys(t);return n.persistence.runTransaction("Get next mutation batch","readonly",t=>(void 0===e&&(e=go),n.mutationQueue.getNextMutationBatchAfterBatchId(t,e)))}function gh(t,e){const n=ys(t);return n.persistence.runTransaction("Allocate target","readwrite",t=>{let i;return n.Pi.getTargetData(t,e).next(r=>r?(i=r,uo.resolve(i)):n.Pi.allocateTargetId(t).next(r=>(i=new Tu(e,r,"TargetPurposeListen",t.currentSequenceNumber),n.Pi.addTargetData(t,i).next(()=>i))))}).then(t=>{const i=n.Ms.get(t.targetId);return(null===i||t.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(t.targetId,t),n.xs.set(e,t.targetId)),t})}async function mh(t,e,n){const i=ys(t),r=i.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,t=>i.persistence.referenceDelegate.removeTarget(t,r))}catch(t){if(!fo(t))throw t;us(lh,"Failed to update sequence numbers for target ".concat(e,": ").concat(t))}i.Ms=i.Ms.remove(e),i.xs.delete(r.target)}function yh(t,e,n){const i=ys(t);let r=to.min(),s=Wl();return i.persistence.runTransaction("Execute query","readwrite",t=>function(t,e,n){const i=ys(t),r=i.xs.get(n);return void 0!==r?uo.resolve(i.Ms.get(r)):i.Pi.getTargetData(e,n)}(i,t,xl(e)).next(e=>{if(e)return r=e.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(t,e.targetId).next(t=>{s=t})}).next(()=>i.Fs.getDocumentsMatchingQuery(t,e,n?r:to.min(),n?s:Wl())).next(t=>(vh(i,Pl(e),t),{documents:t,Qs:s})))}function vh(t,e,n){let i=t.Os.get(e)||to.min();n.forEach((t,e)=>{e.readTime.compareTo(i)>0&&(i=e.readTime)}),t.Os.set(e,i)}class bh{constructor(){this.activeTargetIds=Kl()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class wh{constructor(){this.Mo=new bh,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,n){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new bh,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class _h{Oo(t){}shutdown(){}}const xh="ConnectivityMonitor";class Eh{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){us(xh,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){us(xh,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Sh=null;function kh(){return null===Sh?Sh=268435456+Math.round(2147483648*Math.random()):Sh++,"0x"+Sh.toString(16)}const Th="RestConnection",Ch={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ih{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko="projects/".concat(n,"/databases/").concat(i),this.Wo=this.databaseId.database===ga?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(i)}Go(t,e,n,i,r){const s=kh(),o=this.zo(t,e.toUriEncodedString());us(Th,"Sending RPC '".concat(t,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(a,i,r);const{host:l}=new URL(o),c=E(l);return this.Jo(t,o,a,n,c).then(e=>(us(Th,"Received RPC '".concat(t,"' ").concat(s,": "),e),e),e=>{throw ds(Th,"RPC '".concat(t,"' ").concat(s," failed with error: "),e,"url: ",o,"request:",n),e})}Ho(t,e,n,i,r,s){return this.Go(t,e,n,i,r)}jo(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+as,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((e,n)=>t[n]=e),n&&n.headers.forEach((e,n)=>t[n]=e)}zo(t,e){const n=Ch[t];return"".concat(this.Uo,"/v1/").concat(e,":").concat(n)}terminate(){}}class Ah{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ph="WebChannelConnection";class Rh extends Ih{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,n,i,r){const s=kh();return new Promise((r,o)=>{const a=new Qr;a.setWithCredentials(!0),a.listenOnce(Xr.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Jr.NO_ERROR:const n=a.getResponseJson();us(Ph,"XHR for RPC '".concat(t,"' ").concat(s," received:"),JSON.stringify(n)),r(n);break;case Jr.TIMEOUT:us(Ph,"RPC '".concat(t,"' ").concat(s," timed out")),o(new bs(vs.DEADLINE_EXCEEDED,"Request time out"));break;case Jr.HTTP_ERROR:const i=a.getStatus();if(us(Ph,"RPC '".concat(t,"' ").concat(s," failed with status:"),i,"response text:",a.getResponseText()),i>0){var e;let t=a.getResponseJson();Array.isArray(t)&&(t=t[0]);const n=null===(e=t)||void 0===e?void 0:e.error;if(n&&n.status&&n.message){const t=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(vs).indexOf(e)>=0?e:vs.UNKNOWN}(n.status);o(new bs(t,n.message))}else o(new bs(vs.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new bs(vs.UNAVAILABLE,"Connection failed."));break;default:ps(9055,{l_:t,streamId:s,h_:a.getLastErrorCode(),P_:a.getLastError()})}}finally{us(Ph,"RPC '".concat(t,"' ").concat(s," completed."))}});const l=JSON.stringify(i);us(Ph,"RPC '".concat(t,"' ").concat(s," sending request:"),i),a.send(e,"POST",l,n,15)})}T_(t,e,n){const i=kh(),r=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=es(),o=ts(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.jo(a.initMessageHeaders,e,n),a.encodeInitMessageHeaders=!0;const c=r.join("");us(Ph,"Creating RPC '".concat(t,"' stream ").concat(i,": ").concat(c),a);const u=s.createWebChannel(c,a);this.I_(u);let h=!1,d=!1;const f=new Ah({Yo:e=>{d?us(Ph,"Not sending because RPC '".concat(t,"' stream ").concat(i," is closed:"),e):(h||(us(Ph,"Opening RPC '".concat(t,"' stream ").concat(i," transport.")),u.open(),h=!0),us(Ph,"RPC '".concat(t,"' stream ").concat(i," sending:"),e),u.send(e))},Zo:()=>u.close()}),p=(t,e,n)=>{t.listen(e,t=>{try{n(t)}catch(t){setTimeout(()=>{throw t},0)}})};return p(u,Yr.EventType.OPEN,()=>{d||(us(Ph,"RPC '".concat(t,"' stream ").concat(i," transport opened.")),f.o_())}),p(u,Yr.EventType.CLOSE,()=>{d||(d=!0,us(Ph,"RPC '".concat(t,"' stream ").concat(i," transport closed")),f.a_(),this.E_(u))}),p(u,Yr.EventType.ERROR,e=>{d||(d=!0,ds(Ph,"RPC '".concat(t,"' stream ").concat(i," transport errored. Name:"),e.name,"Message:",e.message),f.a_(new bs(vs.UNAVAILABLE,"The operation could not be completed")))}),p(u,Yr.EventType.MESSAGE,e=>{if(!d){var n;const r=e.data[0];ms(!!r,16349);const s=r,o=(null===s||void 0===s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){us(Ph,"RPC '".concat(t,"' stream ").concat(i," received error:"),o);const e=o.status;let n=function(t){const e=Ic[t];if(void 0!==e)return Rc(e)}(e),r=o.message;void 0===n&&(n=vs.INTERNAL,r="Unknown error status: "+e+" with message "+o.message),d=!0,f.a_(new bs(n,r)),u.close()}else us(Ph,"RPC '".concat(t,"' stream ").concat(i," received:"),r),f.u_(r)}}),p(o,Zr.STAT_EVENT,e=>{e.stat===$r.PROXY?us(Ph,"RPC '".concat(t,"' stream ").concat(i," detected buffering proxy")):e.stat===$r.NOPROXY&&us(Ph,"RPC '".concat(t,"' stream ").concat(i," detected no buffering proxy"))}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(e=>e===t)}}function Oh(){return"undefined"!=typeof document?document:null}function Mh(t){return new Jc(t,!0)}class Dh{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=t,this.timerId=e,this.d_=n,this.A_=i,this.R_=r,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,e-n);i>0&&us("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(e," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Nh="PersistentStream";class Lh{constructor(t,e,n,i,r,s,o,a){this.Mi=t,this.S_=n,this.b_=i,this.connection=r,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Dh(t,e)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==t?this.M_.reset():e&&e.code===vs.RESOURCE_EXHAUSTED?(hs(e.toString()),hs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===vs.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(t=>{let[n,i]=t;this.D_===e&&this.G_(n,i)},e=>{t(()=>{const t=new bs(vs.UNKNOWN,"Fetching auth token failed: "+e.message);return this.z_(t)})})}G_(t,e){const n=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(t=>{n(()=>this.z_(t))}),this.stream.onMessage(t=>{n(()=>1==++this.F_?this.J_(t):this.onNext(t))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return us(Nh,"close with error: ".concat(t)),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget(()=>this.D_===t?e():(us(Nh,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fh extends Lh{constructor(t,e,n,i,r,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,i,s),this.serializer=r}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=function(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:ps(39313,{state:t})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(t,e){return t.useProto3Json?(ms(void 0===e||"string"==typeof e,58123),na.fromBase64String(e||"")):(ms(void 0===e||e instanceof Buffer||e instanceof Uint8Array,16193),na.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){const e=void 0===t.code?vs.UNKNOWN:Rc(t.code);return new bs(e,t.message||"")}(o);n=new Hc(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=au(t,i.document.name),s=nu(i.document.updateTime),o=i.document.createTime?nu(i.document.createTime):to.min(),a=new za({mapValue:{fields:i.document.fields}}),l=Ba.newFoundDocument(r,s,o,a),c=i.targetIds||[],u=i.removedTargetIds||[];n=new jc(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=au(t,i.document),s=i.readTime?nu(i.readTime):to.min(),o=Ba.newNoDocument(r,s),a=i.removedTargetIds||[];n=new jc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=au(t,i.document),s=i.removedTargetIds||[];n=new jc([],s,r,null)}else{if(!("filter"in e))return ps(11601,{Rt:e});{e.filter;const t=e.filter;t.targetId;const{count:i=0,unchangedNames:r}=t,s=new Cc(i,r),o=t.targetId;n=new Bc(o,s)}}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return to.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?to.min():e.readTime?nu(e.readTime):to.min()}(t);return this.listener.H_(e,n)}Y_(t){const e={};e.database=uu(this.serializer),e.addTarget=function(t,e){let n;const i=e.target;if(n=gl(i)?{documents:pu(t,i)}:{query:gu(t,i).ft},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0){n.resumeToken=tu(t,e.resumeToken);const i=$c(t,e.expectedCount);null!==i&&(n.expectedCount=i)}else if(e.snapshotVersion.compareTo(to.min())>0){n.readTime=Zc(t,e.snapshotVersion.toTimestamp());const i=$c(t,e.expectedCount);null!==i&&(n.expectedCount=i)}return n}(this.serializer,t);const n=function(t,e){const n=function(t){switch(t){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ps(28987,{purpose:t})}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,t);n&&(e.labels=n),this.q_(e)}Z_(t){const e={};e.database=uu(this.serializer),e.removeTarget=t,this.q_(e)}}class Vh extends Lh{constructor(t,e,n,i,r,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,i,s),this.serializer=r}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return ms(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ms(!t.writeResults||0===t.writeResults.length,55816),this.listener.ta()}onNext(t){ms(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=function(t,e){return t&&t.length>0?(ms(void 0!==e,14353),t.map(t=>function(t,e){let n=t.updateTime?nu(t.updateTime):nu(e);return n.isEqual(to.min())&&(n=nu(e)),new lc(n,t.transformResults||[])}(t,e))):[]}(t.writeResults,t.commitTime),n=nu(t.commitTime);return this.listener.na(n,e)}ra(){const t={};t.database=uu(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map(t=>fu(this.serializer,t))};this.q_(e)}}class Uh{}class zh extends Uh{constructor(t,e,n,i){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new bs(vs.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(r=>{let[s,o]=r;return this.connection.Go(t,ru(e,n),i,s,o)}).catch(t=>{throw"FirebaseError"===t.name?(t.code===vs.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new bs(vs.UNKNOWN,t.toString())})}Ho(t,e,n,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[o,a]=s;return this.connection.Ho(t,ru(e,n),i,o,a,r)}).catch(t=>{throw"FirebaseError"===t.name?(t.code===vs.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new bs(vs.UNKNOWN,t.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class jh{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(t.toString())),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,"Online"===t&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e="Could not reach Cloud Firestore backend. ".concat(t,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(hs(e),this.aa=!1):us("OnlineStateTracker",e)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const Bh="RemoteStore";class Hh{constructor(t,e,n,i,r){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=r,this.Aa.Oo(t=>{n.enqueueAndForget(async()=>{$h(this)&&(us(Bh,"Restarting streams for network reachability change."),await async function(t){const e=ys(t);e.Ea.add(4),await qh(e),e.Ra.set("Unknown"),e.Ea.delete(4),await Wh(e)}(this))})}),this.Ra=new jh(n,i)}}async function Wh(t){if($h(t))for(const e of t.da)await e(!0)}async function qh(t){for(const e of t.da)await e(!1)}function Kh(t,e){const n=ys(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Jh(n)?Xh(n):yd(n).O_()&&Qh(n,e))}function Gh(t,e){const n=ys(t),i=yd(n);n.Ia.delete(e),i.O_()&&Yh(n,e),0===n.Ia.size&&(i.O_()?i.L_():$h(n)&&n.Ra.set("Unknown"))}function Qh(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(to.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yd(t).Y_(e)}function Yh(t,e){t.Va.Ue(e),yd(t).Z_(e)}function Xh(t){t.Va=new qc({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),yd(t).start(),t.Ra.ua()}function Jh(t){return $h(t)&&!yd(t).x_()&&t.Ia.size>0}function $h(t){return 0===ys(t).Ea.size}function Zh(t){t.Va=void 0}async function td(t){t.Ra.set("Online")}async function ed(t){t.Ia.forEach((e,n)=>{Qh(t,e)})}async function nd(t,e){Zh(t),Jh(t)?(t.Ra.ha(e),Xh(t)):t.Ra.set("Unknown")}async function id(t,e,n){if(t.Ra.set("Online"),e instanceof Hc&&2===e.state&&e.cause)try{await async function(t,e){const n=e.cause;for(const i of e.targetIds)t.Ia.has(i)&&(await t.remoteSyncer.rejectListen(i,n),t.Ia.delete(i),t.Va.removeTarget(i))}(t,e)}catch(n){us(Bh,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await rd(t,n)}else if(e instanceof jc?t.Va.Ze(e):e instanceof Bc?t.Va.st(e):t.Va.tt(e),!n.isEqual(to.min()))try{const e=await dh(t.localStore);n.compareTo(e)>=0&&await function(t,e){const n=t.Va.Tt(e);return n.targetChanges.forEach((n,i)=>{if(n.resumeToken.approximateByteSize()>0){const r=t.Ia.get(i);r&&t.Ia.set(i,r.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach((e,n)=>{const i=t.Ia.get(e);if(!i)return;t.Ia.set(e,i.withResumeToken(na.EMPTY_BYTE_STRING,i.snapshotVersion)),Yh(t,e);const r=new Tu(i.target,e,n,i.sequenceNumber);Qh(t,r)}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)}catch(e){us(Bh,"Failed to raise snapshot:",e),await rd(t,e)}}async function rd(t,e,n){if(!fo(e))throw e;t.Ea.add(1),await qh(t),t.Ra.set("Offline"),n||(n=()=>dh(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{us(Bh,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Wh(t)})}function sd(t,e){return e().catch(n=>rd(t,n,e))}async function od(t){const e=ys(t),n=vd(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:go;for(;ad(e);)try{const t=await ph(e.localStore,i);if(null===t){0===e.Ta.length&&n.L_();break}i=t.batchId,ld(e,t)}catch(t){await rd(e,t)}cd(e)&&ud(e)}function ad(t){return $h(t)&&t.Ta.length<10}function ld(t,e){t.Ta.push(e);const n=vd(t);n.O_()&&n.X_&&n.ea(e.mutations)}function cd(t){return $h(t)&&!vd(t).x_()&&t.Ta.length>0}function ud(t){vd(t).start()}async function hd(t){vd(t).ra()}async function dd(t){const e=vd(t);for(const n of t.Ta)e.ea(n.mutations)}async function fd(t,e,n){const i=t.Ta.shift(),r=kc.from(i,e,n);await sd(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await od(t)}async function pd(t,e){e&&vd(t).X_&&await async function(t,e){if(function(t){return Pc(t)&&t!==vs.ABORTED}(e.code)){const n=t.Ta.shift();vd(t).B_(),await sd(t,()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e)),await od(t)}}(t,e),cd(t)&&ud(t)}async function gd(t,e){const n=ys(t);n.asyncQueue.verifyOperationInProgress(),us(Bh,"RemoteStore received new credentials");const i=$h(n);n.Ea.add(3),await qh(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Wh(n)}async function md(t,e){const n=ys(t);e?(n.Ea.delete(2),await Wh(n)):e||(n.Ea.add(2),await qh(n),n.Ra.set("Unknown"))}function yd(t){return t.ma||(t.ma=function(t,e,n){const i=ys(t);return i.sa(),new Fh(e,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(t.datastore,t.asyncQueue,{Xo:td.bind(null,t),t_:ed.bind(null,t),r_:nd.bind(null,t),H_:id.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Jh(t)?Xh(t):t.Ra.set("Unknown")):(await t.ma.stop(),Zh(t))})),t.ma}function vd(t){return t.fa||(t.fa=function(t,e,n){const i=ys(t);return i.sa(),new Vh(e,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:hd.bind(null,t),r_:pd.bind(null,t),ta:dd.bind(null,t),na:fd.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await od(t)):(await t.fa.stop(),t.Ta.length>0&&(us(Bh,"Stopping write stream with ".concat(t.Ta.length," pending writes")),t.Ta=[]))})),t.fa}class bd{constructor(t,e,n,i,r){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(t=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,i,r){const s=Date.now()+n,o=new bd(t,e,s,i,r);return o.start(n),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new bs(vs.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wd(t,e){if(hs("AsyncQueue","".concat(e,": ").concat(t)),fo(t))return new bs(vs.UNAVAILABLE,"".concat(e,": ").concat(t));throw t}class _d{static emptySet(t){return new _d(t.comparator)}constructor(t){this.comparator=t?(e,n)=>t(e,n)||Bs.comparator(e.key,n.key):(t,e)=>Bs.comparator(t.key,e.key),this.keyedMap=Fl(),this.sortedSet=new Yo(this.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,n)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof _d))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,i=n.getNext().key;if(!t.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new _d;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}class xd{constructor(){this.ga=new Yo(Bs.comparator)}track(t){const e=t.doc.key,n=this.ga.get(e);n?0!==t.type&&3===n.type?this.ga=this.ga.insert(e,t):3===t.type&&1!==n.type?this.ga=this.ga.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ga=this.ga.remove(e):1===t.type&&2===n.type?this.ga=this.ga.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):ps(63341,{Rt:t,pa:n}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal((e,n)=>{t.push(n)}),t}}class Ed{constructor(t,e,n,i,r,s,o,a,l){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(t,e,n,i,r){const s=[];return e.forEach(t=>{s.push({type:0,doc:t})}),new Ed(t,e,_d.emptySet(e),s,n,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Tl(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0}}class Sd{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class kd{constructor(){this.queries=Td(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(t,e){const n=ys(t),i=n.queries;n.queries=Td(),i.forEach((t,n)=>{for(const i of n.Sa)i.onError(e)})}(this,new bs(vs.ABORTED,"Firestore shutting down"))}}function Td(){return new Ml(t=>Cl(t),Tl)}async function Cd(t,e){const n=ys(t);let i=3;const r=e.query;let s=n.queries.get(r);s?!s.ba()&&e.Da()&&(i=2):(s=new Sd,i=e.Da()?0:1);try{switch(i){case 0:s.wa=await n.onListen(r,!0);break;case 1:s.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(t){const n=wd(t,"Initialization of query '".concat(Il(e.query),"' failed"));return void e.onError(n)}n.queries.set(r,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&Rd(n)}async function Id(t,e){const n=ys(t),i=e.query;let r=3;const s=n.queries.get(i);if(s){const t=s.Sa.indexOf(e);t>=0&&(s.Sa.splice(t,1),0===s.Sa.length?r=e.Da()?0:1:!s.ba()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function Ad(t,e){const n=ys(t);let i=!1;for(const r of e){const t=r.query,e=n.queries.get(t);if(e){for(const t of e.Sa)t.Fa(r)&&(i=!0);e.wa=r}}i&&Rd(n)}function Pd(t,e,n){const i=ys(t),r=i.queries.get(e);if(r)for(const s of r.Sa)s.onError(n);i.queries.delete(e)}function Rd(t){t.Ca.forEach(t=>{t.next()})}var Od,Md;(Md=Od||(Od={})).Ma="default",Md.Cache="cache";class Dd{constructor(t,e,n){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new Ed(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==e;return(!this.options.qa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}ka(t){t=Ed.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Od.Cache}}class Nd{constructor(t){this.key=t}}class Ld{constructor(t){this.key=t}}class Fd{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Wl(),this.mutatedKeys=Wl(),this.eu=Rl(t),this.tu=new _d(this.eu)}get nu(){return this.Ya}ru(t,e){const n=e?e.iu:new xd,i=e?e.tu:this.tu;let r=e?e.mutatedKeys:this.mutatedKeys,s=i,o=!1;const a="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((t,e)=>{const c=i.get(t),u=Al(this.query,e)?e:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.su(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.eu(u,a)>0||l&&this.eu(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),r=d?r.add(t):r.delete(t)):(s=s.delete(t),r=r.delete(t)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const t="F"===this.query.limitType?s.last():s.first();s=s.delete(t.key),r=r.delete(t.key),n.track({type:1,doc:t})}return{tu:s,iu:n,Cs:o,mutatedKeys:r}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n,i){const r=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const s=t.iu.ya();s.sort((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ps(20277,{Rt:t})}};return n(t)-n(e)}(t.type,e.type)||this.eu(t.doc,e.doc)),this.ou(n),i=null!==i&&void 0!==i&&i;const o=e&&!i?this._u():[],a=0===this.Xa.size&&this.current&&!i?1:0,l=a!==this.Za;return this.Za=a,0!==s.length||l?{snapshot:new Ed(this.query,t.tu,r,s,t.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({tu:this.tu,iu:new xd,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),t.modifiedDocuments.forEach(t=>{}),t.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Wl(),this.tu.forEach(t=>{this.uu(t.key)&&(this.Xa=this.Xa.add(t.key))});const e=[];return t.forEach(t=>{this.Xa.has(t)||e.push(new Ld(t))}),this.Xa.forEach(n=>{t.has(n)||e.push(new Nd(n))}),e}cu(t){this.Ya=t.Qs,this.Xa=Wl();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Ed.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const Vd="SyncEngine";class Ud{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class zd{constructor(t){this.key=t,this.hu=!1}}class jd{constructor(t,e,n,i,r,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Ml(t=>Cl(t),Tl),this.Iu=new Map,this.Eu=new Set,this.du=new Yo(Bs.comparator),this.Au=new Map,this.Ru=new Yu,this.Vu={},this.mu=new Map,this.fu=Nu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function Bd(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=uf(t);let r;const s=i.Tu.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.lu()):r=await Wd(i,e,n,!0),r}async function Hd(t,e){const n=uf(t);await Wd(n,e,!0,!1)}async function Wd(t,e,n,i){const r=await gh(t.localStore,xl(e)),s=r.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return i&&(a=await qd(t,e,s,"current"===o,r.resumeToken)),t.isPrimaryClient&&n&&Kh(t.remoteStore,r),a}async function qd(t,e,n,i,r){t.pu=(e,n,i)=>async function(t,e,n,i){let r=e.view.ru(n);r.Cs&&(r=await yh(t.localStore,e.query,!1).then(t=>{let{documents:n}=t;return e.view.ru(n,r)}));const s=i&&i.targetChanges.get(e.targetId),o=i&&null!=i.targetMismatches.get(e.targetId),a=e.view.applyChanges(r,t.isPrimaryClient,s,o);return rf(t,e.targetId,a.au),a.snapshot}(t,e,n,i);const s=await yh(t.localStore,e,!0),o=new Fd(e,s.Qs),a=o.ru(s.documents),l=zc.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==t.onlineState,r),c=o.applyChanges(a,t.isPrimaryClient,l);rf(t,n,c.au);const u=new Ud(e,n,o);return t.Tu.set(e,u),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function Kd(t,e,n){const i=ys(t),r=i.Tu.get(e),s=i.Iu.get(r.targetId);if(s.length>1)return i.Iu.set(r.targetId,s.filter(t=>!Tl(t,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await mh(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Gh(i.remoteStore,r.targetId),ef(i,r.targetId)}).catch(co)):(ef(i,r.targetId),await mh(i.localStore,r.targetId,!0))}async function Gd(t,e){const n=ys(t),i=n.Tu.get(e),r=n.Iu.get(i.targetId);n.isPrimaryClient&&1===r.length&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Gh(n.remoteStore,i.targetId))}async function Qd(t,e){const n=ys(t);try{const t=await function(t,e){const n=ys(t),i=e.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",t=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const o=[];e.targetChanges.forEach((s,a)=>{const l=r.get(a);if(!l)return;o.push(n.Pi.removeMatchingKeys(t,s.removedDocuments,a).next(()=>n.Pi.addMatchingKeys(t,s.addedDocuments,a)));let c=l.withSequenceNumber(t.currentSequenceNumber);null!==e.targetMismatches.get(a)?c=c.withResumeToken(na.EMPTY_BYTE_STRING,to.min()).withLastLimboFreeSnapshotVersion(to.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,i)),r=r.insert(a,c),function(t,e,n){return 0===t.resumeToken.approximateByteSize()||(e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,s)&&o.push(n.Pi.updateTargetData(t,c))});let a=Nl(),l=Wl();if(e.documentUpdates.forEach(i=>{e.resolvedLimboDocuments.has(i)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,i))}),o.push(fh(t,s,e.documentUpdates).next(t=>{a=t.ks,l=t.qs})),!i.isEqual(to.min())){const e=n.Pi.getLastRemoteSnapshotVersion(t).next(e=>n.Pi.setTargetsMetadata(t,t.currentSequenceNumber,i));o.push(e)}return uo.waitFor(o).next(()=>s.apply(t)).next(()=>n.localDocuments.getLocalViewOfDocuments(t,a,l)).next(()=>a)}).then(t=>(n.Ms=r,t))}(n.localStore,e);e.targetChanges.forEach((t,e)=>{const i=n.Au.get(e);i&&(ms(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1,22616),t.addedDocuments.size>0?i.hu=!0:t.modifiedDocuments.size>0?ms(i.hu,14607):t.removedDocuments.size>0&&(ms(i.hu,42227),i.hu=!1))}),await af(n,t,e)}catch(t){await co(t)}}function Yd(t,e,n){const i=ys(t);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const t=[];i.Tu.forEach((n,i)=>{const r=i.view.va(e);r.snapshot&&t.push(r.snapshot)}),function(t,e){const n=ys(t);n.onlineState=e;let i=!1;n.queries.forEach((t,n)=>{for(const r of n.Sa)r.va(e)&&(i=!0)}),i&&Rd(n)}(i.eventManager,e),t.length&&i.Pu.H_(t),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Xd(t,e,n){const i=ys(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Au.get(e),s=r&&r.key;if(s){let t=new Yo(Bs.comparator);t=t.insert(s,Ba.newNoDocument(s,to.min()));const n=Wl().add(s),r=new Uc(to.min(),new Map,new Yo(Rs),t,n);await Qd(i,r),i.du=i.du.remove(s),i.Au.delete(e),of(i)}else await mh(i.localStore,e,!1).then(()=>ef(i,e,n)).catch(co)}async function Jd(t,e){const n=ys(t),i=e.batch.batchId;try{const t=await function(t,e){const n=ys(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",t=>{const i=e.batch.keys(),r=n.Ns.newChangeBuffer({trackRemovals:!0});return function(t,e,n,i){const r=n.batch,s=r.keys();let o=uo.resolve();return s.forEach(t=>{o=o.next(()=>i.getEntry(e,t)).next(e=>{const s=n.docVersions.get(t);ms(null!==s,48541),e.version.compareTo(s)<0&&(r.applyToRemoteDocument(e,n),e.isValidDocument()&&(e.setReadTime(n.commitVersion),i.addEntry(e)))})}),o.next(()=>t.mutationQueue.removeMutationBatch(e,r))}(n,t,e,r).next(()=>r.apply(t)).next(()=>n.mutationQueue.performConsistencyCheck(t)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(t,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(t){let e=Wl();for(let n=0;n<t.mutationResults.length;++n)t.mutationResults[n].transformResults.length>0&&(e=e.add(t.batch.mutations[n].key));return e}(e))).next(()=>n.localDocuments.getDocuments(t,i))})}(n.localStore,e);tf(n,i,null),Zd(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await af(n,t)}catch(t){await co(t)}}async function $d(t,e,n){const i=ys(t);try{const t=await function(t,e){const n=ys(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",t=>{let i;return n.mutationQueue.lookupMutationBatch(t,e).next(e=>(ms(null!==e,37113),i=e.keys(),n.mutationQueue.removeMutationBatch(t,e))).next(()=>n.mutationQueue.performConsistencyCheck(t)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(t,i,e)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,i)).next(()=>n.localDocuments.getDocuments(t,i))})}(i.localStore,e);tf(i,e,n),Zd(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await af(i,t)}catch(n){await co(n)}}function Zd(t,e){(t.mu.get(e)||[]).forEach(t=>{t.resolve()}),t.mu.delete(e)}function tf(t,e,n){const i=ys(t);let r=i.Vu[i.currentUser.toKey()];if(r){const t=r.get(e);t&&(n?t.reject(n):t.resolve(),r=r.remove(e)),i.Vu[i.currentUser.toKey()]=r}}function ef(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(e=>{t.Ru.containsKey(e)||nf(t,e)})}function nf(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);null!==n&&(Gh(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),of(t))}function rf(t,e,n){for(const i of n)i instanceof Nd?(t.Ru.addReference(i.key,e),sf(t,i)):i instanceof Ld?(us(Vd,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||nf(t,i.key)):ps(19791,{wu:i})}function sf(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(us(Vd,"New document in limbo: "+n),t.Eu.add(i),of(t))}function of(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Bs(Us.fromString(e)),i=t.fu.next();t.Au.set(i,new zd(n)),t.du=t.du.insert(n,i),Kh(t.remoteStore,new Tu(xl(vl(n.path)),i,"TargetPurposeLimboResolution",po.ce))}}async function af(t,e,n){const i=ys(t),r=[],s=[],o=[];i.Tu.isEmpty()||(i.Tu.forEach((t,a)=>{o.push(i.pu(a,e,n).then(t=>{if((t||n)&&i.isPrimaryClient){var e;const r=t?!t.fromCache:null===n||void 0===n||null===(e=n.targetChanges.get(a.targetId))||void 0===e?void 0:e.current;i.sharedClientState.updateQueryState(a.targetId,r?"current":"not-current")}if(t){r.push(t);const e=sh.As(a.targetId,t);s.push(e)}}))}),await Promise.all(o),i.Pu.H_(r),await async function(t,e){const n=ys(t);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",t=>uo.forEach(e,e=>uo.forEach(e.Es,i=>n.persistence.referenceDelegate.addReference(t,e.targetId,i)).next(()=>uo.forEach(e.ds,i=>n.persistence.referenceDelegate.removeReference(t,e.targetId,i)))))}catch(t){if(!fo(t))throw t;us(lh,"Failed to update sequence numbers: "+t)}for(const i of e){const t=i.targetId;if(!i.fromCache){const e=n.Ms.get(t),i=e.snapshotVersion,r=e.withLastLimboFreeSnapshotVersion(i);n.Ms=n.Ms.insert(t,r)}}}(i.localStore,s))}async function lf(t,e){const n=ys(t);if(!n.currentUser.isEqual(e)){us(Vd,"User change. New user:",e.toKey());const t=await hh(n.localStore,e);n.currentUser=e,function(t,e){t.mu.forEach(t=>{t.forEach(t=>{t.reject(new bs(vs.CANCELLED,e))})}),t.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await af(n,t.Ls)}}function cf(t,e){const n=ys(t),i=n.Au.get(e);if(i&&i.hu)return Wl().add(i.key);{let t=Wl();const i=n.Iu.get(e);if(!i)return t;for(const e of i){const i=n.Tu.get(e);t=t.unionWith(i.view.nu)}return t}}function uf(t){const e=ys(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Qd.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cf.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Xd.bind(null,e),e.Pu.H_=Ad.bind(null,e.eventManager),e.Pu.yu=Pd.bind(null,e.eventManager),e}function hf(t){const e=ys(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Jd.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$d.bind(null,e),e}class df{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Mh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return uh(this.persistence,new ah,t.initialUser,this.serializer)}Cu(t){return new eh(ih.mi,this.serializer)}Du(t){return new wh}async terminate(){var t,e;null!==(t=this.gcScheduler)&&void 0!==t&&t.stop(),null!==(e=this.indexBackfillerScheduler)&&void 0!==e&&e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}df.provider={build:()=>new df};class ff extends df{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){ms(this.persistence.referenceDelegate instanceof rh,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new zu(n,t.asyncQueue,e)}Cu(t){const e=void 0!==this.cacheSizeBytes?Du.withCacheSize(this.cacheSizeBytes):Du.DEFAULT;return new eh(t=>rh.mi(t,e),this.serializer)}}class pf{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>Yd(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=lf.bind(null,this.syncEngine),await md(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new kd}createDatastore(t){const e=Mh(t.databaseInfo.databaseId),n=function(t){return new Rh(t)}(t.databaseInfo);return function(t,e,n,i){return new zh(t,e,n,i)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return function(t,e,n,i,r){return new Hh(t,e,n,i,r)}(this.localStore,this.datastore,t.asyncQueue,t=>Yd(this.syncEngine,t,0),Eh.v()?new Eh:new _h)}createSyncEngine(t,e){return function(t,e,n,i,r,s,o){const a=new jd(t,e,n,i,r,s);return o&&(a.gu=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(t){const e=ys(t);us(Bh,"RemoteStore shutting down."),e.Ea.add(5),await qh(e),e.Aa.shutdown(),e.Ra.set("Unknown")}(this.remoteStore),null!==(t=this.datastore)&&void 0!==t&&t.terminate(),null===(e=this.eventManager)||void 0===e||e.terminate()}}pf.provider={build:()=>new pf};class gf{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):hs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout(()=>{this.muted||t(e)},0)}}const mf="FirestoreClient";class yf{constructor(t,e,n,i,r){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=i,this.user=os.UNAUTHENTICATED,this.clientId=Ps.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(n,async t=>{us(mf,"Received user=",t.uid),await this.authCredentialListener(t),this.user=t}),this.appCheckCredentials.start(n,t=>(us(mf,"Received new app check token=",t),this.appCheckCredentialListener(t,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=wd(e,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function vf(t,e){t.asyncQueue.verifyOperationInProgress(),us(mf,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async t=>{i.isEqual(t)||(await hh(e.localStore,t),i=t)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function bf(t,e){t.asyncQueue.verifyOperationInProgress();const n=await wf(t);us(mf,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(t=>gd(e.remoteStore,t)),t.setAppCheckTokenChangeListener((t,n)=>gd(e.remoteStore,n)),t._onlineComponents=e}async function wf(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){us(mf,"Using user provided OfflineComponentProvider");try{await vf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(t){return"FirebaseError"===t.name?t.code===vs.FAILED_PRECONDITION||t.code===vs.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;ds("Error using user provided cache. Falling back to memory cache: "+n),await vf(t,new df)}}else us(mf,"Using default OfflineComponentProvider"),await vf(t,new ff(void 0));return t._offlineComponents}async function _f(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(us(mf,"Using user provided OnlineComponentProvider"),await bf(t,t._uninitializedComponentsProvider._online)):(us(mf,"Using default OnlineComponentProvider"),await bf(t,new pf))),t._onlineComponents}function xf(t){return _f(t).then(t=>t.syncEngine)}async function Ef(t){const e=await _f(t),n=e.eventManager;return n.onListen=Bd.bind(null,e.syncEngine),n.onUnlisten=Kd.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Hd.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Gd.bind(null,e.syncEngine),n}function Sf(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new ws;return t.asyncQueue.enqueueAndForget(async()=>function(t,e,n,i,r){const s=new gf({next:n=>{s.Nu(),e.enqueueAndForget(()=>Id(t,o)),n.fromCache&&"server"===i.source?r.reject(new bs(vs.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:t=>r.reject(t)}),o=new Dd(n,s,{includeMetadataChanges:!0,qa:!0});return Cd(t,o)}(await Ef(t),t.asyncQueue,e,n,i)),i.promise}function kf(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const Tf=new Map,Cf="firestore.googleapis.com",If=!0;class Af{constructor(t){var e,n;if(void 0===t.host){if(void 0!==t.ssl)throw new bs(vs.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Cf,this.ssl=If}else this.host=t.host,this.ssl=null!==(e=t.ssl)&&void 0!==e?e:If;if(this.isUsingEmulator=void 0!==t.emulatorOptions,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=Mu;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<Fu)throw new bs(vs.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(t,e,n,i){if(!0===e&&!0===i)throw new bs(vs.INVALID_ARGUMENT,"".concat(t," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kf(null!==(n=t.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(t){if(void 0!==t.timeoutSeconds){if(isNaN(t.timeoutSeconds))throw new bs(vs.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (must not be NaN)"));if(t.timeoutSeconds<5)throw new bs(vs.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (minimum allowed value is 5)"));if(t.timeoutSeconds>30)throw new bs(vs.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(t,e){return t.timeoutSeconds===e.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Pf{constructor(t,e,n,i){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Af({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new bs(vs.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new bs(vs.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Af(t),this._emulatorOptions=t.emulatorOptions||{},void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new xs;switch(t.type){case"firstParty":return new Ts(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new bs(vs.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=Tf.get(t);e&&(us("ComponentProvider","Removing Datastore"),Tf.delete(t),e.terminate())}(this),Promise.resolve()}}function Rf(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t=Qs(t,Pf);const r=E(e),s=t._getSettings(),o=u(u({},s),{},{emulatorOptions:t._getEmulatorOptions()}),a="".concat(e,":").concat(n);r&&(S("https://".concat(a)),C("Firestore",!0)),s.host!==Cf&&s.host!==a&&ds("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=u(u({},s),{},{host:a,ssl:r,emulatorOptions:i});if(!N(l,o)&&(t._setSettings(l),i.mockUserToken)){let e,n;if("string"==typeof i.mockUserToken)e=i.mockUserToken,n=os.MOCK_USER;else{var c;e=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=u({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[p(JSON.stringify({alg:"none",type:"JWT"})),p(JSON.stringify(s)),""].join(".")}(i.mockUserToken,null===(c=t._app)||void 0===c?void 0:c.options.projectId);const r=i.mockUserToken.sub||i.mockUserToken.user_id;if(!r)throw new bs(vs.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new os(r)}t._authCredentials=new Es(new _s(e,n))}}class Of{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Of(this.firestore,t,this._query)}}class Mf{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Df(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Mf(this.firestore,t,this._key)}toJSON(){return{type:Mf._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,n){if(Xs(e,Mf._jsonSchema))return new Mf(t,n||null,new Bs(Us.fromString(e.referencePath)))}}Mf._jsonSchemaVersion="firestore/documentReference/1.0",Mf._jsonSchema={type:Ys("string",Mf._jsonSchemaVersion),referencePath:Ys("string")};class Df extends Of{constructor(t,e,n){super(t,e,vl(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Mf(this.firestore,null,new Bs(t))}withConverter(t){return new Df(this.firestore,t,this._path)}}function Nf(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(t=B(t),Hs("collection","path",e),t instanceof Pf){const n=Us.fromString(e,...i);return qs(n),new Df(t,null,n)}{if(!(t instanceof Mf||t instanceof Df))throw new bs(vs.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Us.fromString(e,...i));return qs(n),new Df(t.firestore,null,n)}}function Lf(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(t=B(t),1===arguments.length&&(e=Ps.newId()),Hs("doc","path",e),t instanceof Pf){const n=Us.fromString(e,...i);return Ws(n),new Mf(t,null,new Bs(n))}{if(!(t instanceof Mf||t instanceof Df))throw new bs(vs.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Us.fromString(e,...i));return Ws(n),new Mf(t.firestore,t instanceof Df?t.converter:null,new Bs(n))}}const Ff="AsyncQueue";class Vf{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Dh(this,"async_queue_retry"),this._c=()=>{const t=Oh();t&&us(Ff,"Visibility state changed to "+t.visibilityState),this.M_.w_()},this.ac=t;const e=Oh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Oh();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const e=new ws;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!fo(t))throw t;us(Ff,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const e=this.ac.then(()=>(this.rc=!0,t().catch(t=>{throw this.nc=t,this.rc=!1,hs("INTERNAL UNHANDLED ERROR: ",Uf(t)),t}).then(t=>(this.rc=!1,t))));return this.ac=e,e}enqueueAfterDelay(t,e,n){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const i=bd.createAndSchedule(this,t,e,n,t=>this.hc(t));return this.tc.push(i),i}uc(){this.nc&&ps(47125,{Pc:Uf(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do{t=this.ac,await t}while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((t,e)=>t.targetTimeMs-e.targetTimeMs);for(const e of this.tc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function Uf(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}function zf(t){return function(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const i of e)if(i in n&&"function"==typeof n[i])return!0;return!1}(t,["next","error","complete"])}class jf extends Pf{constructor(t,e,n,i){super(t,e,n,i),this.type="firestore",this._queue=new Vf,this._persistenceKey=(null===i||void 0===i?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Vf(t),this._firestoreClient=void 0,await t}}}function Bf(t){if(t._terminated)throw new bs(vs.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Hf(t),t._firestoreClient}function Hf(t){var e,n,i;const r=t._freezeSettings(),s=function(t,e,n,i){return new pa(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,kf(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,r);t._componentsProvider||null!==(n=r.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(i=r.localCache)&&void 0!==i&&i._onlineComponentProvider&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new yf(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(t){const e=null===t||void 0===t?void 0:t._online.build();return{_offline:null===t||void 0===t?void 0:t._offline.build(e),_online:e}}(t._componentsProvider))}class Wf{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Wf(na.fromBase64String(t))}catch(t){throw new bs(vs.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new Wf(na.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Wf._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Xs(t,Wf._jsonSchema))return Wf.fromBase64String(t.bytes)}}Wf._jsonSchemaVersion="firestore/bytes/1.0",Wf._jsonSchema={type:Ys("string",Wf._jsonSchemaVersion),bytes:Ys("string")};class qf{constructor(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(let i=0;i<e.length;++i)if(0===e[i].length)throw new bs(vs.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new js(e)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Kf{constructor(t){this._methodName=t}}class Gf{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new bs(vs.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new bs(vs.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Rs(this._lat,t._lat)||Rs(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Gf._jsonSchemaVersion}}static fromJSON(t){if(Xs(t,Gf._jsonSchema))return new Gf(t.latitude,t.longitude)}}Gf._jsonSchemaVersion="firestore/geoPoint/1.0",Gf._jsonSchema={type:Ys("string",Gf._jsonSchemaVersion),latitude:Ys("number"),longitude:Ys("number")};class Qf{constructor(t){this._values=(t||[]).map(t=>t)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Qf._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Xs(t,Qf._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(t=>"number"==typeof t))return new Qf(t.vectorValues);throw new bs(vs.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qf._jsonSchemaVersion="firestore/vectorValue/1.0",Qf._jsonSchema={type:Ys("string",Qf._jsonSchemaVersion),vectorValues:Ys("object")};const Yf=/^__.*__$/;class Xf{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new vc(t,this.data,this.fieldMask,e,this.fieldTransforms):new yc(t,this.data,e,this.fieldTransforms)}}function Jf(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ps(40011,{Ac:t})}}class $f{constructor(t,e,n,i,r,s){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=i,void 0===r&&this.Rc(),this.fieldTransforms=r||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new $f(u(u({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.Vc({path:n,fc:!1});return i.gc(t),i}yc(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return up(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(0===t.length)throw this.Sc("Document fields must not be empty");if(Jf(this.Ac)&&Yf.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class Zf{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||Mh(t)}Cc(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new $f({Ac:t,methodName:e,Dc:n,path:js.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tp(t){const e=t._freezeSettings(),n=Mh(t._databaseId);return new Zf(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ep(t,e,n,i,r){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,r);op("Data must be an object, but it was:",o,i);const a=rp(i,o);let l,c;if(s.merge)l=new ta(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const t=[];for(const i of s.mergeFields){const r=ap(e,i,n);if(!o.contains(r))throw new bs(vs.INVALID_ARGUMENT,"Field '".concat(r,"' is specified in your field mask but missing from your input data."));hp(t,r)||t.push(r)}l=new ta(t),c=o.fieldTransforms.filter(t=>l.covers(t.field))}else l=null,c=o.fieldTransforms;return new Xf(new za(a),l,c)}function np(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return ip(n,t.Cc(i?4:3,e))}function ip(t,e){if(sp(t=B(t)))return op("Unsupported field value:",e,t),rp(t,e);if(t instanceof Kf)return function(t,e){if(!Jf(e.Ac))throw e.Sc("".concat(t._methodName,"() can only be used with update() and set()"));if(!e.path)throw e.Sc("".concat(t._methodName,"() is not currently supported inside arrays"));const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&4!==e.Ac)throw e.Sc("Nested arrays are not supported");return function(t,e){const n=[];let i=0;for(const r of t){let t=ip(r,e.wc(i));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),i++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=B(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Yl(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=Zs.fromDate(t);return{timestampValue:Zc(e.serializer,n)}}if(t instanceof Zs){const n=new Zs(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Zc(e.serializer,n)}}if(t instanceof Gf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Wf)return{bytesValue:tu(e.serializer,t._byteString)};if(t instanceof Mf){const n=e.databaseId,i=t.firestore._databaseId;if(!i.isEqual(n))throw e.Sc("Document reference is for database ".concat(i.projectId,"/").concat(i.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:iu(t.firestore._databaseId||e.databaseId,t._key.path)}}if(t instanceof Qf)return function(t,e){return{mapValue:{fields:{[ya]:{stringValue:wa},[_a]:{arrayValue:{values:t.toArray().map(t=>{if("number"!=typeof t)throw e.Sc("VectorValues must only contain numeric values.");return Gl(e.serializer,t)})}}}}}}(t,e);throw e.Sc("Unsupported field value: ".concat(Gs(t)))}(t,e)}function rp(t,e){const n={};return Qo(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Go(t,(t,i)=>{const r=ip(i,e.mc(t));null!=r&&(n[t]=r)}),{mapValue:{fields:n}}}function sp(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Zs||t instanceof Gf||t instanceof Wf||t instanceof Mf||t instanceof Kf||t instanceof Qf)}function op(t,e,n){if(!sp(n)||!Ks(n)){const i=Gs(n);throw"an object"===i?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function ap(t,e,n){if((e=B(e))instanceof qf)return e._internalPath;if("string"==typeof e)return cp(t,e);throw up("Field path arguments must be of type string or ",t,!1,void 0,n)}const lp=new RegExp("[~\\*/\\[\\]]");function cp(t,e,n){if(e.search(lp)>=0)throw up("Invalid field path (".concat(e,"). Paths must not contain '~', '*', '/', '[', or ']'"),t,!1,void 0,n);try{return new qf(...e.split("."))._internalPath}catch(i){throw up("Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),t,!1,void 0,n)}}function up(t,e,n,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let a="Function ".concat(e,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(i)),o&&(l+=" in document ".concat(r)),l+=")"),new bs(vs.INVALID_ARGUMENT,a+t+l)}function hp(t,e){return t.some(t=>t.isEqual(e))}class dp{constructor(t,e,n,i,r){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Mf(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new fp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(pp("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class fp extends dp{data(){return super.data()}}function pp(t,e){return"string"==typeof e?cp(t,e):e instanceof qf?e._internalPath:e._delegate._internalPath}function gp(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new bs(vs.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mp{}class yp extends mp{}class vp extends yp{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new vp(t,e,n)}_apply(t){const e=this._parse(t);return xp(t._query,e),new Of(t.firestore,t.converter,Sl(t._query,e))}_parse(t){const e=tp(t.firestore),n=function(t,e,n,i,r,s,o){let a;if(r.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new bs(vs.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){_p(o,s);const e=[];for(const n of o)e.push(wp(i,t,n));a={arrayValue:{values:e}}}else a=wp(i,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||_p(o,s),a=np(n,e,o,"in"===s||"not-in"===s);return Ya.create(r,s,a)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value);return n}}class bp extends mp{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new bp(t,e)}_parse(t){const e=this._queryConstraints.map(e=>e._parse(t)).filter(t=>t.getFilters().length>0);return 1===e.length?e[0]:Xa.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(t,e){let n=t;const i=e.getFlattenedFilters();for(const r of i)xp(n,r),n=Sl(n,r)}(t._query,e),new Of(t.firestore,t.converter,Sl(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function wp(t,e,n){if("string"==typeof(n=B(n))){if(""===n)throw new bs(vs.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wl(e)&&-1!==n.indexOf("/"))throw new bs(vs.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const i=e.path.child(Us.fromString(n));if(!Bs.isDocumentKey(i))throw new bs(vs.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(i,"' is not because it has an odd number of segments (").concat(i.length,")."));return Ra(t,new Bs(i))}if(n instanceof Mf)return Ra(t,n._key);throw new bs(vs.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Gs(n),"."))}function _p(t,e){if(!Array.isArray(t)||0===t.length)throw new bs(vs.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(e.toString(),"' filters."))}function xp(t,e){const n=function(t,e){for(const n of t)for(const t of n.getFlattenedFilters())if(e.indexOf(t.op)>=0)return t.op;return null}(t.filters,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw n===e.op?new bs(vs.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(e.op.toString(),"' filter.")):new bs(vs.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(e.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Ep{convertValue(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(xa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return sa(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(oa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw ps(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Go(t,(t,i)=>{n[t]=this.convertValue(i,e)}),n}convertVectorValue(t){var e;const n=null===(e=t.fields)||void 0===e||null===(e=e[_a].arrayValue)||void 0===e||null===(e=e.values)||void 0===e?void 0:e.map(t=>sa(t.doubleValue));return new Qf(n)}convertGeoPoint(t){return new Gf(sa(t.latitude),sa(t.longitude))}convertArray(t,e){return(t.values||[]).map(t=>this.convertValue(t,e))}convertServerTimestamp(t,e){switch(e){case"previous":const n=da(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(fa(t));default:return null}}convertTimestamp(t){const e=ra(t);return new Zs(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=Us.fromString(t);ms(ku(n),9688,{name:t});const i=new ma(n.get(1),n.get(3)),r=new Bs(n.popFirst(5));return i.isEqual(e)||hs("Document ".concat(r," contains a document reference within a different database (").concat(i.projectId,"/").concat(i.database,") which is not supported. It will be treated as a reference in the current database (").concat(e.projectId,"/").concat(e.database,") instead.")),r}}function Sp(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class kp{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Tp extends dp{constructor(t,e,n,i,r,s){super(t,e,n,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const e=new Cp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(pp("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new bs(vs.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Tp._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),t&&t.isValidDocument()&&t.isFoundDocument()?(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e):e}}Tp._jsonSchemaVersion="firestore/documentSnapshot/1.0",Tp._jsonSchema={type:Ys("string",Tp._jsonSchemaVersion),bundleSource:Ys("string","DocumentSnapshot"),bundleName:Ys("string"),bundle:Ys("string")};class Cp extends Tp{data(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(t)}}class Ip{constructor(t,e,n,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new kp(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(n=>{t.call(e,new Cp(this._firestore,this._userDataWriter,n.key,n,new kp(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const t=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new bs(vs.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map(n=>{const i=new Cp(t._firestore,t._userDataWriter,n.doc.key,n.doc,new kp(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter);return n.doc,{type:"added",doc:i,oldIndex:-1,newIndex:e++}})}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(t=>e||3!==t.type).map(e=>{const i=new Cp(t._firestore,t._userDataWriter,e.doc.key,e.doc,new kp(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let r=-1,s=-1;return 0!==e.type&&(r=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),s=n.indexOf(e.doc.key)),{type:Ap(e.type),doc:i,oldIndex:r,newIndex:s}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new bs(vs.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ip._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Ps.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],n=[],i=[];return this.docs.forEach(t=>{null!==t._document&&(e.push(t._document),n.push(this._userDataWriter.convertObjectMap(t._document.data.value.mapValue.fields,"previous")),i.push(t.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Ap(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ps(61501,{type:t})}}Ip._jsonSchemaVersion="firestore/querySnapshot/1.0",Ip._jsonSchema={type:Ys("string",Ip._jsonSchemaVersion),bundleSource:Ys("string","QuerySnapshot"),bundleName:Ys("string"),bundle:Ys("string")};class Pp extends Ep{constructor(t){super(),this.firestore=t}convertBytes(t){return new Wf(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Mf(this.firestore,null,e)}}function Rp(t,e){const n=Qs(t.firestore,jf),i=Lf(t),r=Sp(t.converter,e);return Mp(n,[ep(tp(t.firestore),"addDoc",i._key,r,null!==t.converter,{}).toMutation(i._key,cc.exists(!1))]).then(()=>i)}function Op(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];t=B(t);let r={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof n[s]||zf(n[s])||(r=n[s++]);const o={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(zf(n[s])){var a,l,c;const t=n[s];n[s]=null===(a=t.next)||void 0===a?void 0:a.bind(t),n[s+1]=null===(l=t.error)||void 0===l?void 0:l.bind(t),n[s+2]=null===(c=t.complete)||void 0===c?void 0:c.bind(t)}let u,h,d;if(t instanceof Mf)h=Qs(t.firestore,jf),d=vl(t._key.path),u={next:e=>{n[s]&&n[s](Dp(h,t,e))},error:n[s+1],complete:n[s+2]};else{const e=Qs(t,Of);h=Qs(e.firestore,jf),d=e._query;const i=new Pp(h);u={next:t=>{n[s]&&n[s](new Ip(h,i,e,t))},error:n[s+1],complete:n[s+2]},gp(t._query)}return function(t,e,n,i){const r=new gf(i),s=new Dd(e,r,n);return t.asyncQueue.enqueueAndForget(async()=>Cd(await Ef(t),s)),()=>{r.Nu(),t.asyncQueue.enqueueAndForget(async()=>Id(await Ef(t),s))}}(Bf(h),d,o,u)}function Mp(t,e){return function(t,e){const n=new ws;return t.asyncQueue.enqueueAndForget(async()=>async function(t,e,n){const i=hf(t);try{const t=await function(t,e){const n=ys(t),i=Zs.now(),r=e.reduce((t,e)=>t.add(e.key),Wl());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",t=>{let a=Nl(),l=Wl();return n.Ns.getEntries(t,r).next(t=>{a=t,a.forEach((t,e)=>{e.isValidDocument()||(l=l.add(t))})}).next(()=>n.localDocuments.getOverlayedDocuments(t,a)).next(r=>{s=r;const o=[];for(const t of e){const e=gc(t,s.get(t.key).overlayedDocument);null!=e&&o.push(new vc(t.key,e,ja(e.value.mapValue),cc.exists(!0)))}return n.mutationQueue.addMutationBatch(t,i,o,e)}).next(e=>{o=e;const i=e.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(t,e.batchId,i)})}).then(()=>({batchId:o.batchId,changes:Vl(s)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let i=t.Vu[t.currentUser.toKey()];i||(i=new Yo(Rs)),i=i.insert(e,n),t.Vu[t.currentUser.toKey()]=i}(i,t.batchId,n),await af(i,t.changes),await od(i.remoteStore)}catch(t){const e=wd(t,"Failed to persist write");n.reject(e)}}(await xf(t),e,n)),n.promise}(Bf(t),e)}function Dp(t,e,n){const i=n.docs.get(e._key),r=new Pp(t);return new Tp(t,r,e._key,i,new kp(n.hasPendingWrites,n.fromCache),e.converter)}new WeakMap;!function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(t){as=t}(ie),$t(new H("firestore",(t,n)=>{let{instanceIdentifier:i,options:r}=n;const s=t.getProvider("app").getImmediate(),o=new jf(new Ss(t.getProvider("auth-internal")),new Is(s,t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new bs(vs.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ma(t.options.projectId,e)}(s,i),s);return r=u({useFetchStreams:e},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),oe(rs,ss,t),oe(rs,ss,"esm2020")}();const Np="functions";class Lp{constructor(t,e,n,i){this.app=t,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,te(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(t=>this.auth=t,()=>{}),this.messaging||n.get().then(t=>this.messaging=t,()=>{}),this.appCheck||null===i||void 0===i||i.get().then(t=>this.appCheck=t,()=>{})}async getAuthToken(){if(this.auth)try{const t=await this.auth.getToken();return null===t||void 0===t?void 0:t.accessToken}catch(t){return}}async getMessagingToken(){if(this.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return await this.messaging.getToken()}catch(t){return}}async getAppCheckToken(t){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const e=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return e.error?null:e.token}return null}async getContext(t){return{authToken:await this.getAuthToken(),messagingToken:await this.getMessagingToken(),appCheckToken:await this.getAppCheckToken(t)}}}const Fp="us-central1";class Vp{constructor(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Fp,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){return fetch(...arguments)};this.app=t,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new Lp(t,e,n,i),this.cancelAllRequests=new Promise(t=>{this.deleteService=()=>Promise.resolve(t())});try{const t=new URL(r);this.customDomain=t.origin+("/"===t.pathname?"":t.pathname),this.region=Fp}catch(o){this.customDomain=null,this.region=r}}_delete(){return this.deleteService()}_url(t){const e=this.app.options.projectId;if(null!==this.emulatorOrigin){const n=this.emulatorOrigin;return"".concat(n,"/").concat(e,"/").concat(this.region,"/").concat(t)}return null!==this.customDomain?"".concat(this.customDomain,"/").concat(t):"https://".concat(this.region,"-").concat(e,".cloudfunctions.net/").concat(t)}}const Up="@firebase/functions",zp="0.13.1";!function(t){$t(new H(Np,(t,e)=>{let{instanceIdentifier:n}=e;const i=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("messaging-internal"),o=t.getProvider("app-check-internal");return new Vp(i,r,s,o,n)},"PUBLIC").setMultipleInstances(!0)),oe(Up,zp,t),oe(Up,zp,"esm2020")}();const jp=re({apiKey:"AIzaSyCzNLTNR0zROyJcT3EGXWVDs_p5aU6blR0",authDomain:"project-studymateai-74c22.firebaseapp.com",projectId:"project-studymateai-74c22",storageBucket:"project-studymateai-74c22.firebasestorage.app",messagingSenderId:"99548138560",appId:"1:99548138560:web:8deef7427b4bbc077a63a5"}),Bp=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se();const e=Zt(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function(t,e){const n=Zt(t,"auth");if(n.isInitialized()){const t=n.getImmediate();if(N(n.getOptions(),null!==e&&void 0!==e?e:{}))return t;Te(t,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Lr,persistence:[Ki,Ti,Ri]}),i=_("authTokenSyncURL");if(i&&"boolean"===typeof isSecureContext&&isSecureContext){const t=new URL(i,location.origin);if(location.origin===t.origin){const e=(r=t.toString(),async t=>{const e=t&&await t.getIdTokenResult(),n=e&&((new Date).getTime()-Date.parse(e.issuedAtTime))/1e3;if(n&&n>zr)return;const i=null===e||void 0===e?void 0:e.token;jr!==i&&(jr=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:"Bearer ".concat(i)}:{}}))});!function(t,e,n){B(t).beforeAuthStateChanged(e,n)}(n,e,()=>e(n.currentUser)),function(t,e,n,i){B(t).onIdTokenChanged(e,n,i)}(n,t=>e(t))}}var r;const s=v("auth");return s&&Yn(n,"http://".concat(s)),n}(jp),Hp=new di,Wp=function(t,e){const n="object"==typeof t?t:se(),i="string"==typeof t?t:e||ga,r=Zt(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const t=b("firestore");t&&Rf(r,...t)}return r}(jp),qp=(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se(),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fp;const n=Zt(B(t),Np).getImmediate({identifier:e}),i=b("functions");i&&function(t,e,n){!function(t,e,n){const i=E(e);t.emulatorOrigin="http".concat(i?"s":"","://").concat(e,":").concat(n),i&&(S(t.emulatorOrigin+"/backends"),C("Functions",!0))}(B(t),e,n)}(n,...i)}(jp),"https://llm-server.gvcs-es.ac.kr");var Kp=n(579);function Gp(){return(0,Kp.jsxs)("div",{style:{textAlign:"center",marginTop:100},children:[(0,Kp.jsx)("h2",{children:"Google \uacc4\uc815\uc73c\ub85c \ub85c\uadf8\uc778"}),(0,Kp.jsx)("button",{onClick:()=>async function(t,e,n){if(te(t.app))return Promise.reject(Ce(t,"operation-not-supported-in-this-environment"));const i=Fn(t);Pe(t,e,ci);const r=$i(i,n);return new sr(i,"signInViaPopup",e,r).executeNotNull()}(Bp,Hp),children:"\ub85c\uadf8\uc778"})]})}function Qp(t){let{user:e}=t;const[n,i]=(0,r.useState)(null);return(0,Kp.jsxs)("section",{children:[(0,Kp.jsx)("h2",{children:"1. \uc2dc\ud5d8 \uc5c5\ub85c\ub4dc"}),(0,Kp.jsx)("input",{type:"file",accept:"application/pdf",onChange:t=>i(t.target.files[0])}),(0,Kp.jsx)("button",{onClick:async()=>{if(!n)return alert("\ud30c\uc77c \uc120\ud0dd\ud558\uc138\uc694");const t=await n.text();await Rp(Nf(Wp,"exams"),{uid:e.uid,content:t,uploadedAt:Zs.now()}),alert("\uc5c5\ub85c\ub4dc \uc644\ub8cc"),i(null)},children:"\uc5c5\ub85c\ub4dc"})]})}function Yp(t,e){return function(){return t.apply(e,arguments)}}const{toString:Xp}=Object.prototype,{getPrototypeOf:Jp}=Object,{iterator:$p,toStringTag:Zp}=Symbol,tg=(eg=Object.create(null),t=>{const e=Xp.call(t);return eg[e]||(eg[e]=e.slice(8,-1).toLowerCase())});var eg;const ng=t=>(t=t.toLowerCase(),e=>tg(e)===t),ig=t=>e=>typeof e===t,{isArray:rg}=Array,sg=ig("undefined");function og(t){return null!==t&&!sg(t)&&null!==t.constructor&&!sg(t.constructor)&&cg(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const ag=ng("ArrayBuffer");const lg=ig("string"),cg=ig("function"),ug=ig("number"),hg=t=>null!==t&&"object"===typeof t,dg=t=>{if("object"!==tg(t))return!1;const e=Jp(t);return(null===e||e===Object.prototype||null===Object.getPrototypeOf(e))&&!(Zp in t)&&!($p in t)},fg=ng("Date"),pg=ng("File"),gg=ng("Blob"),mg=ng("FileList"),yg=ng("URLSearchParams"),[vg,bg,wg,_g]=["ReadableStream","Request","Response","Headers"].map(ng);function xg(t,e){let n,i,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),rg(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{if(og(t))return;const i=r?Object.getOwnPropertyNames(t):Object.keys(t),s=i.length;let o;for(n=0;n<s;n++)o=i[n],e.call(null,t[o],o,t)}}function Eg(t,e){if(og(t))return null;e=e.toLowerCase();const n=Object.keys(t);let i,r=n.length;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Sg="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,kg=t=>!sg(t)&&t!==Sg;const Tg=(Cg="undefined"!==typeof Uint8Array&&Jp(Uint8Array),t=>Cg&&t instanceof Cg);var Cg;const Ig=ng("HTMLFormElement"),Ag=(t=>{let{hasOwnProperty:e}=t;return(t,n)=>e.call(t,n)})(Object.prototype),Pg=ng("RegExp"),Rg=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};xg(n,(n,r)=>{let s;!1!==(s=e(n,r,t))&&(i[r]=s||n)}),Object.defineProperties(t,i)};const Og=ng("AsyncFunction"),Mg=((t,e)=>{return t?setImmediate:e?(n="axios@".concat(Math.random()),i=[],Sg.addEventListener("message",t=>{let{source:e,data:r}=t;e===Sg&&r===n&&i.length&&i.shift()()},!1),t=>{i.push(t),Sg.postMessage(n,"*")}):t=>setTimeout(t);var n,i})("function"===typeof setImmediate,cg(Sg.postMessage)),Dg="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Sg):"undefined"!==typeof process&&process.nextTick||Mg,Ng={isArray:rg,isArrayBuffer:ag,isBuffer:og,isFormData:t=>{let e;return t&&("function"===typeof FormData&&t instanceof FormData||cg(t.append)&&("formdata"===(e=tg(t))||"object"===e&&cg(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){let e;return e="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&ag(t.buffer),e},isString:lg,isNumber:ug,isBoolean:t=>!0===t||!1===t,isObject:hg,isPlainObject:dg,isEmptyObject:t=>{if(!hg(t)||og(t))return!1;try{return 0===Object.keys(t).length&&Object.getPrototypeOf(t)===Object.prototype}catch(e){return!1}},isReadableStream:vg,isRequest:bg,isResponse:wg,isHeaders:_g,isUndefined:sg,isDate:fg,isFile:pg,isBlob:gg,isRegExp:Pg,isFunction:cg,isStream:t=>hg(t)&&cg(t.pipe),isURLSearchParams:yg,isTypedArray:Tg,isFileList:mg,forEach:xg,merge:function t(){const{caseless:e}=kg(this)&&this||{},n={},i=(i,r)=>{const s=e&&Eg(n,r)||r;dg(n[s])&&dg(i)?n[s]=t(n[s],i):dg(i)?n[s]=t({},i):rg(i)?n[s]=i.slice():n[s]=i};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&xg(arguments[r],i);return n},extend:function(t,e,n){let{allOwnKeys:i}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return xg(e,(e,i)=>{n&&cg(e)?t[i]=Yp(e,n):t[i]=e},{allOwnKeys:i}),t},trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},toFlatObject:(t,e,n,i)=>{let r,s,o;const a={};if(e=e||{},null==t)return e;do{for(r=Object.getOwnPropertyNames(t),s=r.length;s-- >0;)o=r[s],i&&!i(o,t,e)||a[o]||(e[o]=t[o],a[o]=!0);t=!1!==n&&Jp(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kindOf:tg,kindOfTest:ng,endsWith:(t,e,n)=>{t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return-1!==i&&i===n},toArray:t=>{if(!t)return null;if(rg(t))return t;let e=t.length;if(!ug(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},forEachEntry:(t,e)=>{const n=(t&&t[$p]).call(t);let i;for(;(i=n.next())&&!i.done;){const n=i.value;e.call(t,n[0],n[1])}},matchAll:(t,e)=>{let n;const i=[];for(;null!==(n=t.exec(e));)i.push(n);return i},isHTMLForm:Ig,hasOwnProperty:Ag,hasOwnProp:Ag,reduceDescriptors:Rg,freezeMethods:t=>{Rg(t,(e,n)=>{if(cg(t)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const i=t[n];cg(i)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(t,e)=>{const n={},i=t=>{t.forEach(t=>{n[t]=!0})};return rg(t)?i(t):i(String(t).split(e)),n},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,e,n){return e.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(t,e)=>null!=t&&Number.isFinite(t=+t)?t:e,findKey:Eg,global:Sg,isContextDefined:kg,isSpecCompliantForm:function(t){return!!(t&&cg(t.append)&&"FormData"===t[Zp]&&t[$p])},toJSONObject:t=>{const e=new Array(10),n=(t,i)=>{if(hg(t)){if(e.indexOf(t)>=0)return;if(og(t))return t;if(!("toJSON"in t)){e[i]=t;const r=rg(t)?[]:{};return xg(t,(t,e)=>{const s=n(t,i+1);!sg(s)&&(r[e]=s)}),e[i]=void 0,r}}return t};return n(t,0)},isAsyncFn:Og,isThenable:t=>t&&(hg(t)||cg(t))&&cg(t.then)&&cg(t.catch),setImmediate:Mg,asap:Dg,isIterable:t=>null!=t&&cg(t[$p])};function Lg(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}Ng.inherits(Lg,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ng.toJSONObject(this.config),code:this.code,status:this.status}}});const Fg=Lg.prototype,Vg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Vg[t]={value:t}}),Object.defineProperties(Lg,Vg),Object.defineProperty(Fg,"isAxiosError",{value:!0}),Lg.from=(t,e,n,i,r,s)=>{const o=Object.create(Fg);return Ng.toFlatObject(t,o,function(t){return t!==Error.prototype},t=>"isAxiosError"!==t),Lg.call(o,t.message,e,n,i,r),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const Ug=Lg;function zg(t){return Ng.isPlainObject(t)||Ng.isArray(t)}function jg(t){return Ng.endsWith(t,"[]")?t.slice(0,-2):t}function Bg(t,e,n){return t?t.concat(e).map(function(t,e){return t=jg(t),!n&&e?"["+t+"]":t}).join(n?".":""):e}const Hg=Ng.toFlatObject(Ng,{},null,function(t){return/^is[A-Z]/.test(t)});const Wg=function(t,e,n){if(!Ng.isObject(t))throw new TypeError("target must be an object");e=e||new FormData;const i=(n=Ng.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(t,e){return!Ng.isUndefined(e[t])})).metaTokens,r=n.visitor||c,s=n.dots,o=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Ng.isSpecCompliantForm(e);if(!Ng.isFunction(r))throw new TypeError("visitor must be a function");function l(t){if(null===t)return"";if(Ng.isDate(t))return t.toISOString();if(Ng.isBoolean(t))return t.toString();if(!a&&Ng.isBlob(t))throw new Ug("Blob is not supported. Use a Buffer instead.");return Ng.isArrayBuffer(t)||Ng.isTypedArray(t)?a&&"function"===typeof Blob?new Blob([t]):Buffer.from(t):t}function c(t,n,r){let a=t;if(t&&!r&&"object"===typeof t)if(Ng.endsWith(n,"{}"))n=i?n:n.slice(0,-2),t=JSON.stringify(t);else if(Ng.isArray(t)&&function(t){return Ng.isArray(t)&&!t.some(zg)}(t)||(Ng.isFileList(t)||Ng.endsWith(n,"[]"))&&(a=Ng.toArray(t)))return n=jg(n),a.forEach(function(t,i){!Ng.isUndefined(t)&&null!==t&&e.append(!0===o?Bg([n],i,s):null===o?n:n+"[]",l(t))}),!1;return!!zg(t)||(e.append(Bg(r,n,s),l(t)),!1)}const u=[],h=Object.assign(Hg,{defaultVisitor:c,convertValue:l,isVisitable:zg});if(!Ng.isObject(t))throw new TypeError("data must be an object");return function t(n,i){if(!Ng.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+i.join("."));u.push(n),Ng.forEach(n,function(n,s){!0===(!(Ng.isUndefined(n)||null===n)&&r.call(e,n,Ng.isString(s)?s.trim():s,i,h))&&t(n,i?i.concat(s):[s])}),u.pop()}}(t),e};function qg(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(t){return e[t]})}function Kg(t,e){this._pairs=[],t&&Wg(t,this,e)}const Gg=Kg.prototype;Gg.append=function(t,e){this._pairs.push([t,e])},Gg.toString=function(t){const e=t?function(e){return t.call(this,e,qg)}:qg;return this._pairs.map(function(t){return e(t[0])+"="+e(t[1])},"").join("&")};const Qg=Kg;function Yg(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Xg(t,e,n){if(!e)return t;const i=n&&n.encode||Yg;Ng.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let s;if(s=r?r(e,n):Ng.isURLSearchParams(e)?e.toString():new Qg(e,n).toString(i),s){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+s}return t}const Jg=class{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ng.forEach(this.handlers,function(e){null!==e&&t(e)})}},$g={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Zg={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Qg,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},tm="undefined"!==typeof window&&"undefined"!==typeof document,em="object"===typeof navigator&&navigator||void 0,nm=tm&&(!em||["ReactNative","NativeScript","NS"].indexOf(em.product)<0),im="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,rm=tm&&window.location.href||"http://localhost",sm=u(u({},i),Zg);const om=function(t){function e(t,n,i,r){let s=t[r++];if("__proto__"===s)return!0;const o=Number.isFinite(+s),a=r>=t.length;if(s=!s&&Ng.isArray(i)?i.length:s,a)return Ng.hasOwnProp(i,s)?i[s]=[i[s],n]:i[s]=n,!o;i[s]&&Ng.isObject(i[s])||(i[s]=[]);return e(t,n,i[s],r)&&Ng.isArray(i[s])&&(i[s]=function(t){const e={},n=Object.keys(t);let i;const r=n.length;let s;for(i=0;i<r;i++)s=n[i],e[s]=t[s];return e}(i[s])),!o}if(Ng.isFormData(t)&&Ng.isFunction(t.entries)){const n={};return Ng.forEachEntry(t,(t,i)=>{e(function(t){return Ng.matchAll(/\w+|\[(\w*)]/g,t).map(t=>"[]"===t[0]?"":t[1]||t[0])}(t),i,n,0)}),n}return null};const am={transitional:$g,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const n=e.getContentType()||"",i=n.indexOf("application/json")>-1,r=Ng.isObject(t);r&&Ng.isHTMLForm(t)&&(t=new FormData(t));if(Ng.isFormData(t))return i?JSON.stringify(om(t)):t;if(Ng.isArrayBuffer(t)||Ng.isBuffer(t)||Ng.isStream(t)||Ng.isFile(t)||Ng.isBlob(t)||Ng.isReadableStream(t))return t;if(Ng.isArrayBufferView(t))return t.buffer;if(Ng.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return Wg(t,new sm.classes.URLSearchParams,u({visitor:function(t,e,n,i){return sm.isNode&&Ng.isBuffer(t)?(this.append(e,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((s=Ng.isFileList(t))||n.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return Wg(s?{"files[]":t}:t,e&&new e,this.formSerializer)}}return r||i?(e.setContentType("application/json",!1),function(t,e,n){if(Ng.isString(t))try{return(e||JSON.parse)(t),Ng.trim(t)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||am.transitional,n=e&&e.forcedJSONParsing,i="json"===this.responseType;if(Ng.isResponse(t)||Ng.isReadableStream(t))return t;if(t&&Ng.isString(t)&&(n&&!this.responseType||i)){const n=!(e&&e.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(r){if(n){if("SyntaxError"===r.name)throw Ug.from(r,Ug.ERR_BAD_RESPONSE,this,null,this.response);throw r}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:sm.classes.FormData,Blob:sm.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ng.forEach(["delete","get","head","post","put","patch"],t=>{am.headers[t]={}});const lm=am,cm=Ng.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),um=Symbol("internals");function hm(t){return t&&String(t).trim().toLowerCase()}function dm(t){return!1===t||null==t?t:Ng.isArray(t)?t.map(dm):String(t)}function fm(t,e,n,i,r){return Ng.isFunction(i)?i.call(this,e,n):(r&&(e=n),Ng.isString(e)?Ng.isString(i)?-1!==e.indexOf(i):Ng.isRegExp(i)?i.test(e):void 0:void 0)}class pm{constructor(t){t&&this.set(t)}set(t,e,n){const i=this;function r(t,e,n){const r=hm(e);if(!r)throw new Error("header name must be a non-empty string");const s=Ng.findKey(i,r);(!s||void 0===i[s]||!0===n||void 0===n&&!1!==i[s])&&(i[s||e]=dm(t))}const s=(t,e)=>Ng.forEach(t,(t,n)=>r(t,n,e));if(Ng.isPlainObject(t)||t instanceof this.constructor)s(t,e);else if(Ng.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim()))s((t=>{const e={};let n,i,r;return t&&t.split("\n").forEach(function(t){r=t.indexOf(":"),n=t.substring(0,r).trim().toLowerCase(),i=t.substring(r+1).trim(),!n||e[n]&&cm[n]||("set-cookie"===n?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e})(t),e);else if(Ng.isObject(t)&&Ng.isIterable(t)){let n,i,r={};for(const e of t){if(!Ng.isArray(e))throw TypeError("Object iterator must return a key-value pair");r[i=e[0]]=(n=r[i])?Ng.isArray(n)?[...n,e[1]]:[n,e[1]]:e[1]}s(r,e)}else null!=t&&r(e,t,n);return this}get(t,e){if(t=hm(t)){const n=Ng.findKey(this,t);if(n){const t=this[n];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}(t);if(Ng.isFunction(e))return e.call(this,t,n);if(Ng.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=hm(t)){const n=Ng.findKey(this,t);return!(!n||void 0===this[n]||e&&!fm(0,this[n],n,e))}return!1}delete(t,e){const n=this;let i=!1;function r(t){if(t=hm(t)){const r=Ng.findKey(n,t);!r||e&&!fm(0,n[r],r,e)||(delete n[r],i=!0)}}return Ng.isArray(t)?t.forEach(r):r(t),i}clear(t){const e=Object.keys(this);let n=e.length,i=!1;for(;n--;){const r=e[n];t&&!fm(0,this[r],r,t,!0)||(delete this[r],i=!0)}return i}normalize(t){const e=this,n={};return Ng.forEach(this,(i,r)=>{const s=Ng.findKey(n,r);if(s)return e[s]=dm(i),void delete e[r];const o=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,n)=>e.toUpperCase()+n)}(r):String(r).trim();o!==r&&delete e[r],e[o]=dm(i),n[o]=!0}),this}concat(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.constructor.concat(this,...e)}toJSON(t){const e=Object.create(null);return Ng.forEach(this,(n,i)=>{null!=n&&!1!==n&&(e[i]=t&&Ng.isArray(n)?n.join(", "):n)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(t=>{let[e,n]=t;return e+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t){const e=new this(t);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.forEach(t=>e.set(t)),e}static accessor(t){const e=(this[um]=this[um]={accessors:{}}).accessors,n=this.prototype;function i(t){const i=hm(t);e[i]||(!function(t,e){const n=Ng.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(t,n,r){return this[i].call(this,e,t,n,r)},configurable:!0})})}(n,t),e[i]=!0)}return Ng.isArray(t)?t.forEach(i):i(t),this}}pm.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Ng.reduceDescriptors(pm.prototype,(t,e)=>{let{value:n}=t,i=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(t){this[i]=t}}}),Ng.freezeMethods(pm);const gm=pm;function mm(t,e){const n=this||lm,i=e||n,r=gm.from(i.headers);let s=i.data;return Ng.forEach(t,function(t){s=t.call(n,s,r.normalize(),e?e.status:void 0)}),r.normalize(),s}function ym(t){return!(!t||!t.__CANCEL__)}function vm(t,e,n){Ug.call(this,null==t?"canceled":t,Ug.ERR_CANCELED,e,n),this.name="CanceledError"}Ng.inherits(vm,Ug,{__CANCEL__:!0});const bm=vm;function wm(t,e,n){const i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(new Ug("Request failed with status code "+n.status,[Ug.ERR_BAD_REQUEST,Ug.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}const _m=function(t,e){t=t||10;const n=new Array(t),i=new Array(t);let r,s=0,o=0;return e=void 0!==e?e:1e3,function(a){const l=Date.now(),c=i[o];r||(r=l),n[s]=a,i[s]=l;let u=o,h=0;for(;u!==s;)h+=n[u++],u%=t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),l-r<e)return;const d=c&&l-c;return d?Math.round(1e3*h/d):void 0}};const xm=function(t,e){let n,i,r=0,s=1e3/e;const o=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();r=s,n=null,i&&(clearTimeout(i),i=null),t(...e)};return[function(){const t=Date.now(),e=t-r;for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];e>=s?o(l,t):(n=l,i||(i=setTimeout(()=>{i=null,o(n)},s-e)))},()=>n&&o(n)]},Em=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,i=0;const r=_m(50,250);return xm(n=>{const s=n.loaded,o=n.lengthComputable?n.total:void 0,a=s-i,l=r(a);i=s;t({loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&s<=o?(o-s)/l:void 0,event:n,lengthComputable:null!=o,[e?"download":"upload"]:!0})},n)},Sm=(t,e)=>{const n=null!=t;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},km=t=>function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return Ng.asap(()=>t(...n))},Tm=sm.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,sm.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(sm.origin),sm.navigator&&/(msie|trident)/i.test(sm.navigator.userAgent)):()=>!0,Cm=sm.hasStandardBrowserEnv?{write(t,e,n,i,r,s){const o=[t+"="+encodeURIComponent(e)];Ng.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Ng.isString(i)&&o.push("path="+i),Ng.isString(r)&&o.push("domain="+r),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Im(t,e,n){let i=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e);return t&&(i||0==n)?function(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}const Am=t=>t instanceof gm?u({},t):t;function Pm(t,e){e=e||{};const n={};function i(t,e,n,i){return Ng.isPlainObject(t)&&Ng.isPlainObject(e)?Ng.merge.call({caseless:i},t,e):Ng.isPlainObject(e)?Ng.merge({},e):Ng.isArray(e)?e.slice():e}function r(t,e,n,r){return Ng.isUndefined(e)?Ng.isUndefined(t)?void 0:i(void 0,t,0,r):i(t,e,0,r)}function s(t,e){if(!Ng.isUndefined(e))return i(void 0,e)}function o(t,e){return Ng.isUndefined(e)?Ng.isUndefined(t)?void 0:i(void 0,t):i(void 0,e)}function a(n,r,s){return s in e?i(n,r):s in t?i(void 0,n):void 0}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(t,e,n)=>r(Am(t),Am(e),0,!0)};return Ng.forEach(Object.keys(u(u({},t),e)),function(i){const s=l[i]||r,o=s(t[i],e[i],i);Ng.isUndefined(o)&&s!==a||(n[i]=o)}),n}const Rm=t=>{const e=Pm({},t);let n,{data:i,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:a,auth:l}=e;if(e.headers=a=gm.from(a),e.url=Xg(Im(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Ng.isFormData(i))if(sm.hasStandardBrowserEnv||sm.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(n=a.getContentType())){const[t,...e]=n?n.split(";").map(t=>t.trim()).filter(Boolean):[];a.setContentType([t||"multipart/form-data",...e].join("; "))}if(sm.hasStandardBrowserEnv&&(r&&Ng.isFunction(r)&&(r=r(e)),r||!1!==r&&Tm(e.url))){const t=s&&o&&Cm.read(o);t&&a.set(s,t)}return e},Om="undefined"!==typeof XMLHttpRequest&&function(t){return new Promise(function(e,n){const i=Rm(t);let r=i.data;const s=gm.from(i.headers).normalize();let o,a,l,c,u,{responseType:h,onUploadProgress:d,onDownloadProgress:f}=i;function p(){c&&c(),u&&u(),i.cancelToken&&i.cancelToken.unsubscribe(o),i.signal&&i.signal.removeEventListener("abort",o)}let g=new XMLHttpRequest;function m(){if(!g)return;const i=gm.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());wm(function(t){e(t),p()},function(t){n(t),p()},{data:h&&"text"!==h&&"json"!==h?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:i,config:t,request:g}),g=null}g.open(i.method.toUpperCase(),i.url,!0),g.timeout=i.timeout,"onloadend"in g?g.onloadend=m:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(m)},g.onabort=function(){g&&(n(new Ug("Request aborted",Ug.ECONNABORTED,t,g)),g=null)},g.onerror=function(){n(new Ug("Network Error",Ug.ERR_NETWORK,t,g)),g=null},g.ontimeout=function(){let e=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const r=i.transitional||$g;i.timeoutErrorMessage&&(e=i.timeoutErrorMessage),n(new Ug(e,r.clarifyTimeoutError?Ug.ETIMEDOUT:Ug.ECONNABORTED,t,g)),g=null},void 0===r&&s.setContentType(null),"setRequestHeader"in g&&Ng.forEach(s.toJSON(),function(t,e){g.setRequestHeader(e,t)}),Ng.isUndefined(i.withCredentials)||(g.withCredentials=!!i.withCredentials),h&&"json"!==h&&(g.responseType=i.responseType),f&&([l,u]=Em(f,!0),g.addEventListener("progress",l)),d&&g.upload&&([a,c]=Em(d),g.upload.addEventListener("progress",a),g.upload.addEventListener("loadend",c)),(i.cancelToken||i.signal)&&(o=e=>{g&&(n(!e||e.type?new bm(null,t,g):e),g.abort(),g=null)},i.cancelToken&&i.cancelToken.subscribe(o),i.signal&&(i.signal.aborted?o():i.signal.addEventListener("abort",o)));const y=function(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(i.url);y&&-1===sm.protocols.indexOf(y)?n(new Ug("Unsupported protocol "+y+":",Ug.ERR_BAD_REQUEST,t)):g.send(r||null)})},Mm=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let n,i=new AbortController;const r=function(t){if(!n){n=!0,o();const e=t instanceof Error?t:this.reason;i.abort(e instanceof Ug?e:new bm(e instanceof Error?e.message:e))}};let s=e&&setTimeout(()=>{s=null,r(new Ug("timeout ".concat(e," of ms exceeded"),Ug.ETIMEDOUT))},e);const o=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(t=>{t.unsubscribe?t.unsubscribe(r):t.removeEventListener("abort",r)}),t=null)};t.forEach(t=>t.addEventListener("abort",r));const{signal:a}=i;return a.unsubscribe=()=>Ng.asap(o),a}};function Dm(t,e){this.v=t,this.k=e}function Nm(t){return function(){return new Lm(t.apply(this,arguments))}}function Lm(t){var e,n;function i(e,n){try{var s=t[e](n),o=s.value,a=o instanceof Dm;Promise.resolve(a?o.v:o).then(function(n){if(a){var l="return"===e?"return":"next";if(!o.k||n.done)return i(l,n);n=t[l](n).value}r(s.done?"return":"normal",n)},function(t){i("throw",t)})}catch(t){r("throw",t)}}function r(t,r){switch(t){case"return":e.resolve({value:r,done:!0});break;case"throw":e.reject(r);break;default:e.resolve({value:r,done:!1})}(e=e.next)?i(e.key,e.arg):n=null}this._invoke=function(t,r){return new Promise(function(s,o){var a={key:t,arg:r,resolve:s,reject:o,next:null};n?n=n.next=a:(e=n=a,i(t,r))})},"function"!=typeof t.return&&(this.return=void 0)}function Fm(t){return new Dm(t,0)}function Vm(t){var e={},n=!1;function i(e,i){return n=!0,i=new Promise(function(n){n(t[e](i))}),{done:!1,value:new Dm(i,1)}}return e["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},e.next=function(t){return n?(n=!1,t):i("next",t)},"function"==typeof t.throw&&(e.throw=function(t){if(n)throw n=!1,t;return i("throw",t)}),"function"==typeof t.return&&(e.return=function(t){return n?(n=!1,t):i("return",t)}),e}function Um(t){var e,n,i,r=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,i=Symbol.iterator);r--;){if(n&&null!=(e=t[n]))return e.call(t);if(i&&null!=(e=t[i]))return new zm(e.call(t));n="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function zm(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then(function(t){return{value:t,done:e}})}return zm=function(t){this.s=t,this.n=t.next},zm.prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var n=this.s.return;return void 0===n?Promise.resolve({value:t,done:!0}):e(n.apply(this.s,arguments))},throw:function(t){var n=this.s.return;return void 0===n?Promise.reject(t):e(n.apply(this.s,arguments))}},new zm(t)}Lm.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Lm.prototype.next=function(t){return this._invoke("next",t)},Lm.prototype.throw=function(t){return this._invoke("throw",t)},Lm.prototype.return=function(t){return this._invoke("return",t)};const jm=function*(t,e){let n=t.byteLength;if(!e||n<e)return void(yield t);let i,r=0;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},Bm=function(){var t=Nm(function*(t,e){var n,i=!1,r=!1;try{for(var s,o=Um(Hm(t));i=!(s=yield Fm(o.next())).done;i=!1){const t=s.value;yield*Vm(Um(jm(t,e)))}}catch(a){r=!0,n=a}finally{try{i&&null!=o.return&&(yield Fm(o.return()))}finally{if(r)throw n}}});return function(e,n){return t.apply(this,arguments)}}(),Hm=function(){var t=Nm(function*(t){if(t[Symbol.asyncIterator])return void(yield*Vm(Um(t)));const e=t.getReader();try{for(;;){const{done:t,value:n}=yield Fm(e.read());if(t)break;yield n}}finally{yield Fm(e.cancel())}});return function(e){return t.apply(this,arguments)}}(),Wm=(t,e,n,i)=>{const r=Bm(t,e);let s,o=0,a=t=>{s||(s=!0,i&&i(t))};return new ReadableStream({async pull(t){try{const{done:e,value:i}=await r.next();if(e)return a(),void t.close();let s=i.byteLength;if(n){let t=o+=s;n(t)}t.enqueue(new Uint8Array(i))}catch(e){throw a(e),e}},cancel:t=>(a(t),r.return())},{highWaterMark:2})},qm="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Km=qm&&"function"===typeof ReadableStream,Gm=qm&&("function"===typeof TextEncoder?(Qm=new TextEncoder,t=>Qm.encode(t)):async t=>new Uint8Array(await new Response(t).arrayBuffer()));var Qm;const Ym=function(t){try{for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return!!t(...n)}catch(r){return!1}},Xm=Km&&Ym(()=>{let t=!1;const e=new Request(sm.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Jm=Km&&Ym(()=>Ng.isReadableStream(new Response("").body)),$m={stream:Jm&&(t=>t.body)};var Zm;qm&&(Zm=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!$m[t]&&($m[t]=Ng.isFunction(Zm[t])?e=>e[t]():(e,n)=>{throw new Ug("Response type '".concat(t,"' is not supported"),Ug.ERR_NOT_SUPPORT,n)})}));const ty=async(t,e)=>{const n=Ng.toFiniteNumber(t.getContentLength());return null==n?(async t=>{if(null==t)return 0;if(Ng.isBlob(t))return t.size;if(Ng.isSpecCompliantForm(t)){const e=new Request(sm.origin,{method:"POST",body:t});return(await e.arrayBuffer()).byteLength}return Ng.isArrayBufferView(t)||Ng.isArrayBuffer(t)?t.byteLength:(Ng.isURLSearchParams(t)&&(t+=""),Ng.isString(t)?(await Gm(t)).byteLength:void 0)})(e):n},ey=qm&&(async t=>{let{url:e,method:n,data:i,signal:r,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:h,withCredentials:d="same-origin",fetchOptions:f}=Rm(t);c=c?(c+"").toLowerCase():"text";let p,g=Mm([r,s&&s.toAbortSignal()],o);const m=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let y;try{if(l&&Xm&&"get"!==n&&"head"!==n&&0!==(y=await ty(h,i))){let t,n=new Request(e,{method:"POST",body:i,duplex:"half"});if(Ng.isFormData(i)&&(t=n.headers.get("content-type"))&&h.setContentType(t),n.body){const[t,e]=Sm(y,Em(km(l)));i=Wm(n.body,65536,t,e)}}Ng.isString(d)||(d=d?"include":"omit");const r="credentials"in Request.prototype;p=new Request(e,u(u({},f),{},{signal:g,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:i,duplex:"half",credentials:r?d:void 0}));let s=await fetch(p,f);const o=Jm&&("stream"===c||"response"===c);if(Jm&&(a||o&&m)){const t={};["status","statusText","headers"].forEach(e=>{t[e]=s[e]});const e=Ng.toFiniteNumber(s.headers.get("content-length")),[n,i]=a&&Sm(e,Em(km(a),!0))||[];s=new Response(Wm(s.body,65536,n,()=>{i&&i(),m&&m()}),t)}c=c||"text";let v=await $m[Ng.findKey($m,c)||"text"](s,t);return!o&&m&&m(),await new Promise((e,n)=>{wm(e,n,{data:v,headers:gm.from(s.headers),status:s.status,statusText:s.statusText,config:t,request:p})})}catch(v){if(m&&m(),v&&"TypeError"===v.name&&/Load failed|fetch/i.test(v.message))throw Object.assign(new Ug("Network Error",Ug.ERR_NETWORK,t,p),{cause:v.cause||v});throw Ug.from(v,v&&v.code,t,p)}}),ny={http:null,xhr:Om,fetch:ey};Ng.forEach(ny,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(n){}Object.defineProperty(t,"adapterName",{value:e})}});const iy=t=>"- ".concat(t),ry=t=>Ng.isFunction(t)||null===t||!1===t,sy=t=>{t=Ng.isArray(t)?t:[t];const{length:e}=t;let n,i;const r={};for(let s=0;s<e;s++){let e;if(n=t[s],i=n,!ry(n)&&(i=ny[(e=String(n)).toLowerCase()],void 0===i))throw new Ug("Unknown adapter '".concat(e,"'"));if(i)break;r[e||"#"+s]=i}if(!i){const t=Object.entries(r).map(t=>{let[e,n]=t;return"adapter ".concat(e," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let n=e?t.length>1?"since :\n"+t.map(iy).join("\n"):" "+iy(t[0]):"as no adapter specified";throw new Ug("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return i};function oy(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new bm(null,t)}function ay(t){oy(t),t.headers=gm.from(t.headers),t.data=mm.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1);return sy(t.adapter||lm.adapter)(t).then(function(e){return oy(t),e.data=mm.call(t,t.transformResponse,e),e.headers=gm.from(e.headers),e},function(e){return ym(e)||(oy(t),e&&e.response&&(e.response.data=mm.call(t,t.transformResponse,e.response),e.response.headers=gm.from(e.response.headers))),Promise.reject(e)})}const ly="1.11.0",cy={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{cy[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const uy={};cy.transitional=function(t,e,n){function i(t,e){return"[Axios v"+ly+"] Transitional option '"+t+"'"+e+(n?". "+n:"")}return(n,r,s)=>{if(!1===t)throw new Ug(i(r," has been removed"+(e?" in "+e:"")),Ug.ERR_DEPRECATED);return e&&!uy[r]&&(uy[r]=!0,console.warn(i(r," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,r,s)}},cy.spelling=function(t){return(e,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(t)),!0)};const hy={assertOptions:function(t,e,n){if("object"!==typeof t)throw new Ug("options must be an object",Ug.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const s=i[r],o=e[s];if(o){const e=t[s],n=void 0===e||o(e,s,t);if(!0!==n)throw new Ug("option "+s+" must be "+n,Ug.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new Ug("Unknown option "+s,Ug.ERR_BAD_OPTION)}},validators:cy},dy=hy.validators;class fy{constructor(t){this.defaults=t||{},this.interceptors={request:new Jg,response:new Jg}}async request(t,e){try{return await this._request(t,e)}catch(n){if(n instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const e=t.stack?t.stack.replace(/^.+\n/,""):"";try{n.stack?e&&!String(n.stack).endsWith(e.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+e):n.stack=e}catch(i){}}throw n}}_request(t,e){"string"===typeof t?(e=e||{}).url=t:e=t||{},e=Pm(this.defaults,e);const{transitional:n,paramsSerializer:i,headers:r}=e;void 0!==n&&hy.assertOptions(n,{silentJSONParsing:dy.transitional(dy.boolean),forcedJSONParsing:dy.transitional(dy.boolean),clarifyTimeoutError:dy.transitional(dy.boolean)},!1),null!=i&&(Ng.isFunction(i)?e.paramsSerializer={serialize:i}:hy.assertOptions(i,{encode:dy.function,serialize:dy.function},!0)),void 0!==e.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),hy.assertOptions(e,{baseUrl:dy.spelling("baseURL"),withXsrfToken:dy.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let s=r&&Ng.merge(r.common,r[e.method]);r&&Ng.forEach(["delete","get","head","post","put","patch","common"],t=>{delete r[t]}),e.headers=gm.concat(s,r);const o=[];let a=!0;this.interceptors.request.forEach(function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(a=a&&t.synchronous,o.unshift(t.fulfilled,t.rejected))});const l=[];let c;this.interceptors.response.forEach(function(t){l.push(t.fulfilled,t.rejected)});let u,h=0;if(!a){const t=[ay.bind(this),void 0];for(t.unshift(...o),t.push(...l),u=t.length,c=Promise.resolve(e);h<u;)c=c.then(t[h++],t[h++]);return c}u=o.length;let d=e;for(h=0;h<u;){const t=o[h++],e=o[h++];try{d=t(d)}catch(f){e.call(this,f);break}}try{c=ay.call(this,d)}catch(f){return Promise.reject(f)}for(h=0,u=l.length;h<u;)c=c.then(l[h++],l[h++]);return c}getUri(t){return Xg(Im((t=Pm(this.defaults,t)).baseURL,t.url,t.allowAbsoluteUrls),t.params,t.paramsSerializer)}}Ng.forEach(["delete","get","head","options"],function(t){fy.prototype[t]=function(e,n){return this.request(Pm(n||{},{method:t,url:e,data:(n||{}).data}))}}),Ng.forEach(["post","put","patch"],function(t){function e(e){return function(n,i,r){return this.request(Pm(r||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}fy.prototype[t]=e(),fy.prototype[t+"Form"]=e(!0)});const py=fy;class gy{constructor(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(t){e=t});const n=this;this.promise.then(t=>{if(!n._listeners)return;let e=n._listeners.length;for(;e-- >0;)n._listeners[e](t);n._listeners=null}),this.promise.then=t=>{let e;const i=new Promise(t=>{n.subscribe(t),e=t}).then(t);return i.cancel=function(){n.unsubscribe(e)},i},t(function(t,i,r){n.reason||(n.reason=new bm(t,i,r),e(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=e=>{t.abort(e)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new gy(function(e){t=e}),cancel:t}}}const my=gy;const yy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(yy).forEach(t=>{let[e,n]=t;yy[n]=e});const vy=yy;const by=function t(e){const n=new py(e),i=Yp(py.prototype.request,n);return Ng.extend(i,py.prototype,n,{allOwnKeys:!0}),Ng.extend(i,n,null,{allOwnKeys:!0}),i.create=function(n){return t(Pm(e,n))},i}(lm);by.Axios=py,by.CanceledError=bm,by.CancelToken=my,by.isCancel=ym,by.VERSION=ly,by.toFormData=Wg,by.AxiosError=Ug,by.Cancel=by.CanceledError,by.all=function(t){return Promise.all(t)},by.spread=function(t){return function(e){return t.apply(null,e)}},by.isAxiosError=function(t){return Ng.isObject(t)&&!0===t.isAxiosError},by.mergeConfig=Pm,by.AxiosHeaders=gm,by.formToJSON=t=>om(Ng.isHTMLForm(t)?new FormData(t):t),by.getAdapter=sy,by.HttpStatusCode=vy,by.default=by;const wy=by;function _y(t){let{user:e}=t;const[n,i]=(0,r.useState)([]),[s,o]=(0,r.useState)(null),[a,l]=(0,r.useState)("");return(0,Kp.jsxs)("section",{children:[(0,Kp.jsx)("h2",{children:"2. \ud559\uc2b5 \uc138\uc158"}),(0,Kp.jsx)("button",{onClick:async()=>{const t=await wy.post("".concat(qp,"/analyze"),{answers:n});o(t.data)},children:"\uc624\ub2f5 \ubd84\uc11d"}),s&&(0,Kp.jsxs)(Kp.Fragment,{children:[(0,Kp.jsx)("pre",{children:JSON.stringify(s,null,2)}),(0,Kp.jsx)("button",{onClick:async()=>{const t=await wy.post("".concat(qp,"/generate"),{report:s});l(t.data.materials),await Rp(Nf(Wp,"sessions"),{uid:e.uid,report:s,materials:t.data.materials,timestamp:Zs.now()})},children:"\ub9de\ucda4 \uc790\ub8cc \uc0dd\uc131"})]}),a&&(0,Kp.jsxs)("div",{children:[(0,Kp.jsx)("h3",{children:"\ud559\uc2b5 \uc790\ub8cc"}),(0,Kp.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:a})]})]})}function xy(t){return t+.5|0}const Ey=(t,e,n)=>Math.max(Math.min(t,n),e);function Sy(t){return Ey(xy(2.55*t),0,255)}function ky(t){return Ey(xy(255*t),0,255)}function Ty(t){return Ey(xy(t/2.55)/100,0,1)}function Cy(t){return Ey(xy(100*t),0,100)}const Iy={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ay=[..."0123456789ABCDEF"],Py=t=>Ay[15&t],Ry=t=>Ay[(240&t)>>4]+Ay[15&t],Oy=t=>(240&t)>>4===(15&t);function My(t){var e=(t=>Oy(t.r)&&Oy(t.g)&&Oy(t.b)&&Oy(t.a))(t)?Py:Ry;return t?"#"+e(t.r)+e(t.g)+e(t.b)+((t,e)=>t<255?e(t):"")(t.a,e):void 0}const Dy=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ny(t,e,n){const i=e*Math.min(n,1-n),r=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+t/30)%12;return n-i*Math.max(Math.min(r-3,9-r,1),-1)};return[r(0),r(8),r(4)]}function Ly(t,e,n){const i=function(i){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(i+t/60)%6;return n-n*e*Math.max(Math.min(r,4-r,1),0)};return[i(5),i(3),i(1)]}function Fy(t,e,n){const i=Ny(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function Vy(t){const e=t.r/255,n=t.g/255,i=t.b/255,r=Math.max(e,n,i),s=Math.min(e,n,i),o=(r+s)/2;let a,l,c;return r!==s&&(c=r-s,l=o>.5?c/(2-r-s):c/(r+s),a=function(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}(e,n,i,c,r),a=60*a+.5),[0|a,l||0,o]}function Uy(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(ky)}function zy(t,e,n){return Uy(Ny,t,e,n)}function jy(t){return(t%360+360)%360}function By(t){const e=Dy.exec(t);let n,i=255;if(!e)return;e[5]!==n&&(i=e[6]?Sy(+e[5]):ky(+e[5]));const r=jy(+e[2]),s=+e[3]/100,o=+e[4]/100;return n="hwb"===e[1]?function(t,e,n){return Uy(Fy,t,e,n)}(r,s,o):"hsv"===e[1]?function(t,e,n){return Uy(Ly,t,e,n)}(r,s,o):zy(r,s,o),{r:n[0],g:n[1],b:n[2],a:i}}const Hy={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Wy={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let qy;function Ky(t){qy||(qy=function(){const t={},e=Object.keys(Wy),n=Object.keys(Hy);let i,r,s,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,Hy[s]);s=parseInt(Wy[o],16),t[a]=[s>>16&255,s>>8&255,255&s]}return t}(),qy.transparent=[0,0,0,0]);const e=qy[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}const Gy=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Qy=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,Yy=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Xy(t,e,n){if(t){let i=Vy(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,0===e?360:1)),i=zy(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function Jy(t,e){return t?Object.assign(e||{},t):t}function $y(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=ky(t[3]))):(e=Jy(t,{r:0,g:0,b:0,a:1})).a=ky(e.a),e}function Zy(t){return"r"===t.charAt(0)?function(t){const e=Gy.exec(t);let n,i,r,s=255;if(e){if(e[7]!==n){const t=+e[7];s=e[8]?Sy(t):Ey(255*t,0,255)}return n=+e[1],i=+e[3],r=+e[5],n=255&(e[2]?Sy(n):Ey(n,0,255)),i=255&(e[4]?Sy(i):Ey(i,0,255)),r=255&(e[6]?Sy(r):Ey(r,0,255)),{r:n,g:i,b:r,a:s}}}(t):By(t)}class tv{constructor(t){if(t instanceof tv)return t;const e=typeof t;let n;"object"===e?n=$y(t):"string"===e&&(n=function(t){var e,n=t.length;return"#"===t[0]&&(4===n||5===n?e={r:255&17*Iy[t[1]],g:255&17*Iy[t[2]],b:255&17*Iy[t[3]],a:5===n?17*Iy[t[4]]:255}:7!==n&&9!==n||(e={r:Iy[t[1]]<<4|Iy[t[2]],g:Iy[t[3]]<<4|Iy[t[4]],b:Iy[t[5]]<<4|Iy[t[6]],a:9===n?Iy[t[7]]<<4|Iy[t[8]]:255})),e}(t)||Ky(t)||Zy(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=Jy(this._rgb);return t&&(t.a=Ty(t.a)),t}set rgb(t){this._rgb=$y(t)}rgbString(){return this._valid?(t=this._rgb)&&(t.a<255?"rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat(Ty(t.a),")"):"rgb(".concat(t.r,", ").concat(t.g,", ").concat(t.b,")")):void 0;var t}hexString(){return this._valid?My(this._rgb):void 0}hslString(){return this._valid?function(t){if(!t)return;const e=Vy(t),n=e[0],i=Cy(e[1]),r=Cy(e[2]);return t.a<255?"hsla(".concat(n,", ").concat(i,"%, ").concat(r,"%, ").concat(Ty(t.a),")"):"hsl(".concat(n,", ").concat(i,"%, ").concat(r,"%)")}(this._rgb):void 0}mix(t,e){if(t){const n=this.rgb,i=t.rgb;let r;const s=e===r?.5:e,o=2*s-1,a=n.a-i.a,l=((o*a===-1?o:(o+a)/(1+o*a))+1)/2;r=1-l,n.r=255&l*n.r+r*i.r+.5,n.g=255&l*n.g+r*i.g+.5,n.b=255&l*n.b+r*i.b+.5,n.a=s*n.a+(1-s)*i.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=function(t,e,n){const i=Yy(Ty(t.r)),r=Yy(Ty(t.g)),s=Yy(Ty(t.b));return{r:ky(Qy(i+n*(Yy(Ty(e.r))-i))),g:ky(Qy(r+n*(Yy(Ty(e.g))-r))),b:ky(Qy(s+n*(Yy(Ty(e.b))-s))),a:t.a+n*(e.a-t.a)}}(this._rgb,t._rgb,e)),this}clone(){return new tv(this.rgb)}alpha(t){return this._rgb.a=ky(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=xy(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Xy(this._rgb,2,t),this}darken(t){return Xy(this._rgb,2,-t),this}saturate(t){return Xy(this._rgb,1,t),this}desaturate(t){return Xy(this._rgb,1,-t),this}rotate(t){return function(t,e){var n=Vy(t);n[0]=jy(n[0]+e),n=zy(n),t.r=n[0],t.g=n[1],t.b=n[2]}(this._rgb,t),this}}function ev(){}const nv=(()=>{let t=0;return()=>t++})();function iv(t){return null===t||void 0===t}function rv(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function sv(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function ov(t){return("number"===typeof t||t instanceof Number)&&isFinite(+t)}function av(t,e){return ov(t)?t:e}function lv(t,e){return"undefined"===typeof t?e:t}const cv=(t,e)=>"string"===typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function uv(t,e,n){if(t&&"function"===typeof t.call)return t.apply(n,e)}function hv(t,e,n,i){let r,s,o;if(rv(t))if(s=t.length,i)for(r=s-1;r>=0;r--)e.call(n,t[r],r);else for(r=0;r<s;r++)e.call(n,t[r],r);else if(sv(t))for(o=Object.keys(t),s=o.length,r=0;r<s;r++)e.call(n,t[o[r]],o[r])}function dv(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function fv(t){if(rv(t))return t.map(fv);if(sv(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=fv(t[n[r]]);return e}return t}function pv(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function gv(t,e,n,i){if(!pv(t))return;const r=e[t],s=n[t];sv(r)&&sv(s)?mv(r,s,i):e[t]=fv(s)}function mv(t,e,n){const i=rv(e)?e:[e],r=i.length;if(!sv(t))return t;const s=(n=n||{}).merger||gv;let o;for(let a=0;a<r;++a){if(o=i[a],!sv(o))continue;const e=Object.keys(o);for(let i=0,r=e.length;i<r;++i)s(e[i],t,o,n)}return t}function yv(t,e){return mv(t,e,{merger:vv})}function vv(t,e,n){if(!pv(t))return;const i=e[t],r=n[t];sv(i)&&sv(r)?yv(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=fv(r))}const bv={"":t=>t,x:t=>t.x,y:t=>t.y};function wv(t,e){const n=bv[e]||(bv[e]=function(t){const e=function(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}(t);return t=>{for(const n of e){if(""===n)break;t=t&&t[n]}return t}}(e));return n(t)}function _v(t){return t.charAt(0).toUpperCase()+t.slice(1)}const xv=t=>"undefined"!==typeof t,Ev=t=>"function"===typeof t,Sv=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};const kv=Math.PI,Tv=2*kv,Cv=Tv+kv,Iv=Number.POSITIVE_INFINITY,Av=kv/180,Pv=kv/2,Rv=kv/4,Ov=2*kv/3,Mv=Math.log10,Dv=Math.sign;function Nv(t,e,n){return Math.abs(t-e)<n}function Lv(t){const e=Math.round(t);t=Nv(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Mv(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function Fv(t){return!function(t){return"symbol"===typeof t||"object"===typeof t&&null!==t&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Vv(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Uv(t){return t*(kv/180)}function zv(t){return t*(180/kv)}function jv(t){if(!ov(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Bv(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*kv&&(s+=Tv),{angle:s,distance:r}}function Hv(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Wv(t,e){return(t-e+Cv)%Tv-kv}function qv(t){return(t%Tv+Tv)%Tv}function Kv(t,e,n,i){const r=qv(t),s=qv(e),o=qv(n),a=qv(s-r),l=qv(o-r),c=qv(r-s),u=qv(r-o);return r===s||r===o||i&&s===o||a>l&&c<u}function Gv(t,e,n){return Math.max(e,Math.min(n,t))}function Qv(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function Yv(t,e,n){n=n||(n=>t[n]<e);let i,r=t.length-1,s=0;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const Xv=(t,e,n,i)=>Yv(t,n,i?i=>{const r=t[i][e];return r<n||r===n&&t[i+1][e]===n}:i=>t[i][e]<n),Jv=(t,e,n)=>Yv(t,n,i=>t[i][e]>=n);const $v=["push","pop","shift","splice","unshift"];function Zv(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);-1!==r&&i.splice(r,1),i.length>0||($v.forEach(e=>{delete t[e]}),delete t._chartjs)}function tb(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const eb="undefined"===typeof window?function(t){return t()}:window.requestAnimationFrame;function nb(t,e){let n=[],i=!1;return function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];n=s,i||(i=!0,eb.call(window,()=>{i=!1,t.apply(e,n)}))}}const ib=t=>"start"===t?"left":"end"===t?"right":"center",rb=(t,e,n)=>"start"===t?e:"end"===t?n:(e+n)/2;function sb(t,e,n){const i=e.length;let r=0,s=i;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=o.axis,{min:h,max:d,minDefined:f,maxDefined:p}=o.getUserBounds();if(f){if(r=Math.min(Xv(l,u,h).lo,n?i:Xv(e,u,o.getPixelForValue(h)).lo),c){const t=l.slice(0,r+1).reverse().findIndex(t=>!iv(t[a.axis]));r-=Math.max(0,t)}r=Gv(r,0,i-1)}if(p){let t=Math.max(Xv(l,o.axis,d,!0).hi+1,n?0:Xv(e,u,o.getPixelForValue(d),!0).hi+1);if(c){const e=l.slice(t-1).findIndex(t=>!iv(t[a.axis]));t+=Math.max(0,e)}s=Gv(t,r,i)-r}else s=i-r}return{start:r,count:s}}function ob(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const ab=t=>0===t||1===t,lb=(t,e,n)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*Tv/n),cb=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Tv/n)+1,ub={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*Pv),easeOutSine:t=>Math.sin(t*Pv),easeInOutSine:t=>-.5*(Math.cos(kv*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>ab(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>ab(t)?t:lb(t,.075,.3),easeOutElastic:t=>ab(t)?t:cb(t,.075,.3),easeInOutElastic(t){const e=.1125;return ab(t)?t:t<.5?.5*lb(2*t,e,.45):.5+.5*cb(2*t-1,e,.45)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-ub.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375},easeInOutBounce:t=>t<.5?.5*ub.easeInBounce(2*t):.5*ub.easeOutBounce(2*t-1)+.5};function hb(t){if(t&&"object"===typeof t){const e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function db(t){return hb(t)?t:new tv(t)}function fb(t){return hb(t)?t:new tv(t).saturate(.5).darken(.1).hexString()}const pb=["x","y","borderWidth","radius","tension"],gb=["color","borderColor","backgroundColor"];const mb=new Map;function yb(t,e,n){return function(t,e){e=e||{};const n=t+JSON.stringify(e);let i=mb.get(n);return i||(i=new Intl.NumberFormat(t,e),mb.set(n,i)),i}(e,n).format(t)}const vb={values:t=>rv(t)?t:""+t,numeric(t,e,n){if(0===t)return"0";const i=this.chart.options.locale;let r,s=t;if(n.length>1){const e=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(e<1e-4||e>1e15)&&(r="scientific"),s=function(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t));return n}(t,n)}const o=Mv(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),yb(t,i,l)},logarithmic(t,e,n){if(0===t)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(Mv(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?vb.numeric.call(this,t,e,n):""}};var bb={formatters:vb};const wb=Object.create(null),_b=Object.create(null);function xb(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const e=n[i];t=t[e]||(t[e]=Object.create(null))}return t}function Eb(t,e,n){return"string"===typeof e?mv(xb(t,e),n):mv(xb(t,""),e)}class Sb{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>fb(e.backgroundColor),this.hoverBorderColor=(t,e)=>fb(e.borderColor),this.hoverColor=(t,e)=>fb(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Eb(this,t,e)}get(t){return xb(this,t)}describe(t,e){return Eb(_b,t,e)}override(t,e){return Eb(wb,t,e)}route(t,e,n,i){const r=xb(this,t),s=xb(this,n),o="_"+e;Object.defineProperties(r,{[o]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[o],e=s[i];return sv(t)?Object.assign({},e,t):lv(t,e)},set(t){this[o]=t}}})}apply(t){t.forEach(t=>t(this))}}var kb=new Sb({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),t.set("animations",{colors:{type:"color",properties:gb},numbers:{type:"number",properties:pb}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:bb.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function Tb(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function Cb(t,e,n,i){let r=(i=i||{}).data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},s=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,u,h,d;for(l=0;l<a;l++)if(h=n[l],void 0===h||null===h||rv(h)){if(rv(h))for(c=0,u=h.length;c<u;c++)d=h[c],void 0===d||null===d||rv(d)||(o=Tb(t,r,s,o,d))}else o=Tb(t,r,s,o,h);t.restore();const f=s.length/2;if(f>n.length){for(l=0;l<f;l++)delete r[s[l]];s.splice(0,f)}return o}function Ib(t,e,n){const i=t.currentDevicePixelRatio,r=0!==n?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function Ab(t,e){(e||t)&&((e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Pb(t,e,n,i){Rb(t,e,n,i,null)}function Rb(t,e,n,i,r){let s,o,a,l,c,u,h,d;const f=e.pointStyle,p=e.rotation,g=e.radius;let m=(p||0)*Av;if(f&&"object"===typeof f&&(s=f.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return t.save(),t.translate(n,i),t.rotate(m),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void t.restore();if(!(isNaN(g)||g<=0)){switch(t.beginPath(),f){default:r?t.ellipse(n,i,r/2,g,0,0,Tv):t.arc(n,i,g,0,Tv),t.closePath();break;case"triangle":u=r?r/2:g,t.moveTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=Ov,t.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=Ov,t.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),t.closePath();break;case"rectRounded":c=.516*g,l=g-c,o=Math.cos(m+Rv)*l,h=Math.cos(m+Rv)*(r?r/2-c:l),a=Math.sin(m+Rv)*l,d=Math.sin(m+Rv)*(r?r/2-c:l),t.arc(n-h,i-a,c,m-kv,m-Pv),t.arc(n+d,i-o,c,m-Pv,m),t.arc(n+h,i+a,c,m,m+Pv),t.arc(n-d,i+o,c,m+Pv,m+kv),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=r?r/2:l,t.rect(n-u,i-l,2*u,2*l);break}m+=Rv;case"rectRot":h=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),t.moveTo(n-h,i-a),t.lineTo(n+d,i-o),t.lineTo(n+h,i+a),t.lineTo(n-d,i+o),t.closePath();break;case"crossRot":m+=Rv;case"cross":h=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o);break;case"star":h=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o),m+=Rv,h=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o);break;case"line":o=r?r/2:Math.cos(m)*g,a=Math.sin(m)*g,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(m)*(r?r/2:g),i+Math.sin(m)*g);break;case!1:t.closePath()}t.fill(),e.borderWidth>0&&t.stroke()}}function Ob(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Mb(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Db(t){t.restore()}function Nb(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if("middle"===r){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else"after"===r!==!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function Lb(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function Fb(t,e,n,i,r){if(r.strikethrough||r.underline){const s=t.measureText(i),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function Vb(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Ub(t,e,n,i,r){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=rv(e)?e:[e],a=s.strokeWidth>0&&""!==s.strokeColor;let l,c;for(t.save(),t.font=r.string,function(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),iv(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&Vb(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),iv(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,i,s.maxWidth)),t.fillText(c,n,i,s.maxWidth),Fb(t,n,i,c,s),i+=Number(r.lineHeight);t.restore()}function zb(t,e){const{x:n,y:i,w:r,h:s,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*kv,kv,!0),t.lineTo(n,i+s-o.bottomLeft),t.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,kv,Pv,!0),t.lineTo(n+r-o.bottomRight,i+s),t.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,Pv,0,!0),t.lineTo(n+r,i+o.topRight),t.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-Pv,!0),t.lineTo(n+o.topLeft,i)}const jb=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Bb=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Hb(t,e){const n=(""+t).match(jb);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t}const Wb=t=>+t||0;function qb(t,e){const n={},i=sv(e),r=i?Object.keys(e):e,s=sv(t)?i?n=>lv(t[n],t[e[n]]):e=>t[e]:()=>t;for(const o of r)n[o]=Wb(s(o));return n}function Kb(t){return qb(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Gb(t){return qb(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Qb(t){const e=Kb(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Yb(t,e){t=t||{},e=e||kb.font;let n=lv(t.size,e.size);"string"===typeof n&&(n=parseInt(n,10));let i=lv(t.style,e.style);i&&!(""+i).match(Bb)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:lv(t.family,e.family),lineHeight:Hb(lv(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:lv(t.weight,e.weight),string:""};return r.string=function(t){return!t||iv(t.size)||iv(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(r),r}function Xb(t,e,n,i){let r,s,o,a=!0;for(r=0,s=t.length;r<s;++r)if(o=t[r],void 0!==o&&(void 0!==e&&"function"===typeof o&&(o=o(e),a=!1),void 0!==n&&rv(o)&&(o=o[n%o.length],a=!1),void 0!==o))return i&&!a&&(i.cacheable=!1),o}function Jb(t,e){return Object.assign(Object.create(t),e)}function $b(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>t[0];const r=(arguments.length>2?arguments[2]:void 0)||t;"undefined"===typeof n&&(n=cw("_fallback",t));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:n,_getTarget:i,override:i=>$b([i,...t],e,r,n)};return new Proxy(s,{deleteProperty:(e,n)=>(delete e[n],delete e._keys,delete t[0][n],!0),get:(n,i)=>iw(n,i,()=>function(t,e,n,i){let r;for(const s of e)if(r=cw(ew(s,t),n),"undefined"!==typeof r)return nw(t,r)?aw(n,i,t,r):r}(i,e,t,n)),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(t._scopes[0],e),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(t,e)=>uw(t).includes(e),ownKeys:t=>uw(t),set(t,e,n){const r=t._storage||(t._storage=i());return t[e]=r[e]=n,delete t._keys,!0}})}function Zb(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:tw(t,i),setContext:e=>Zb(t,e,n,i),override:r=>Zb(t.override(r),e,n,i)};return new Proxy(r,{deleteProperty:(e,n)=>(delete e[n],delete t[n],!0),get:(t,e,n)=>iw(t,e,()=>function(t,e,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=t;let a=i[e];Ev(a)&&o.isScriptable(e)&&(a=function(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||i);a.delete(t),nw(t,l)&&(l=aw(r._scopes,r,t,l));return l}(e,a,t,n));rv(a)&&a.length&&(a=function(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=n;if("undefined"!==typeof s.index&&i(t))return e[s.index%e.length];if(sv(e[0])){const n=e,i=r._scopes.filter(t=>t!==n);e=[];for(const l of n){const n=aw(i,r,t,l);e.push(Zb(n,s,o&&o[t],a))}}return e}(e,a,t,o.isIndexable));nw(e,a)&&(a=Zb(a,r,s&&s[e],o));return a}(t,e,n)),getOwnPropertyDescriptor:(e,n)=>e._descriptors.allKeys?Reflect.has(t,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,n),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(e,n)=>Reflect.has(t,n),ownKeys:()=>Reflect.ownKeys(t),set:(e,n,i)=>(t[n]=i,delete e[n],!0)})}function tw(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:Ev(n)?n:()=>n,isIndexable:Ev(i)?i:()=>i}}const ew=(t,e)=>t?t+_v(e):e,nw=(t,e)=>sv(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function iw(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||"constructor"===e)return t[e];const i=n();return t[e]=i,i}function rw(t,e,n){return Ev(t)?t(e,n):t}const sw=(t,e)=>!0===t?e:"string"===typeof t?wv(e,t):void 0;function ow(t,e,n,i,r){for(const s of e){const e=sw(n,s);if(e){t.add(e);const s=rw(e._fallback,n,r);if("undefined"!==typeof s&&s!==n&&s!==i)return s}else if(!1===e&&"undefined"!==typeof i&&n!==i)return null}return!1}function aw(t,e,n,i){const r=e._rootScopes,s=rw(e._fallback,n,i),o=[...t,...r],a=new Set;a.add(i);let l=lw(a,o,n,s||n,i);return null!==l&&(("undefined"===typeof s||s===n||(l=lw(a,o,s,l,i),null!==l))&&$b(Array.from(a),[""],r,s,()=>function(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];if(rv(r)&&sv(n))return n;return r||{}}(e,n,i)))}function lw(t,e,n,i,r){for(;n;)n=ow(t,e,n,i,r);return n}function cw(t,e){for(const n of e){if(!n)continue;const e=n[t];if("undefined"!==typeof e)return e}}function uw(t){let e=t._keys;return e||(e=t._keys=function(t){const e=new Set;for(const n of t)for(const t of Object.keys(n).filter(t=>!t.startsWith("_")))e.add(t);return Array.from(e)}(t._scopes)),e}function hw(t,e,n,i){const{iScale:r}=t,{key:s="r"}=this._parsing,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=e[c],o[a]={r:r.parse(wv(u,s),c)};return o}const dw=Number.EPSILON||1e-14,fw=(t,e)=>e<t.length&&!t[e].skip&&t[e],pw=t=>"x"===t?"y":"x";function gw(t,e,n,i){const r=t.skip?e:t,s=e,o=n.skip?e:n,a=Hv(s,r),l=Hv(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=i*c,d=i*u;return{previous:{x:s.x-h*(o.x-r.x),y:s.y-h*(o.y-r.y)},next:{x:s.x+d*(o.x-r.x),y:s.y+d*(o.y-r.y)}}}function mw(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=pw(e),i=t.length,r=Array(i).fill(0),s=Array(i);let o,a,l,c=fw(t,0);for(o=0;o<i;++o)if(a=l,l=c,c=fw(t,o+1),l){if(c){const t=c[e]-l[e];r[o]=0!==t?(c[n]-l[n])/t:0}s[o]=a?c?Dv(r[o-1])!==Dv(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}!function(t,e,n){const i=t.length;let r,s,o,a,l,c=fw(t,0);for(let u=0;u<i-1;++u)l=c,c=fw(t,u+1),l&&c&&(Nv(e[u],0,dw)?n[u]=n[u+1]=0:(r=n[u]/e[u],s=n[u+1]/e[u],a=Math.pow(r,2)+Math.pow(s,2),a<=9||(o=3/Math.sqrt(a),n[u]=r*o*e[u],n[u+1]=s*o*e[u])))}(t,r,s),function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const i=pw(n),r=t.length;let s,o,a,l=fw(t,0);for(let c=0;c<r;++c){if(o=a,a=l,l=fw(t,c+1),!a)continue;const r=a[n],u=a[i];o&&(s=(r-o[n])/3,a["cp1".concat(n)]=r-s,a["cp1".concat(i)]=u-s*e[c]),l&&(s=(l[n]-r)/3,a["cp2".concat(n)]=r+s,a["cp2".concat(i)]=u+s*e[c])}}(t,s,e)}function yw(t,e,n){return Math.max(Math.min(t,n),e)}function vw(t,e,n,i,r){let s,o,a,l;if(e.spanGaps&&(t=t.filter(t=>!t.skip)),"monotone"===e.cubicInterpolationMode)mw(t,r);else{let n=i?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=gw(n,a,t[Math.min(s+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,n=a}e.capBezierPoints&&function(t,e){let n,i,r,s,o,a=Ob(t[0],e);for(n=0,i=t.length;n<i;++n)o=s,s=a,a=n<i-1&&Ob(t[n+1],e),s&&(r=t[n],o&&(r.cp1x=yw(r.cp1x,e.left,e.right),r.cp1y=yw(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=yw(r.cp2x,e.left,e.right),r.cp2y=yw(r.cp2y,e.top,e.bottom)))}(t,n)}function bw(){return"undefined"!==typeof window&&"undefined"!==typeof document}function ww(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function _w(t,e,n){let i;return"string"===typeof t?(i=parseInt(t,10),-1!==t.indexOf("%")&&(i=i/100*e.parentNode[n])):i=t,i}const xw=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);const Ew=["top","right","bottom","left"];function Sw(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=Ew[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function kw(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=xw(n),s="border-box"===r.boxSizing,o=Sw(r,"padding"),a=Sw(r,"border","width"),{x:l,y:c,box:u}=function(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i;let o,a,l=!1;if(((t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot))(r,s,t.target))o=r,a=s;else{const t=e.getBoundingClientRect();o=i.clientX-t.left,a=i.clientY-t.top,l=!0}return{x:o,y:a,box:l}}(t,n),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:f,height:p}=e;return s&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-h)/f*n.width/i),y:Math.round((c-d)/p*n.height/i)}}const Tw=t=>Math.round(10*t)/10;function Cw(t,e,n,i){const r=xw(t),s=Sw(r,"margin"),o=_w(r.maxWidth,t,"clientWidth")||Iv,a=_w(r.maxHeight,t,"clientHeight")||Iv,l=function(t,e,n){let i,r;if(void 0===e||void 0===n){const s=t&&ww(t);if(s){const t=s.getBoundingClientRect(),o=xw(s),a=Sw(o,"border","width"),l=Sw(o,"padding");e=t.width-l.width-a.width,n=t.height-l.height-a.height,i=_w(o.maxWidth,s,"clientWidth"),r=_w(o.maxHeight,s,"clientHeight")}else e=t.clientWidth,n=t.clientHeight}return{width:e,height:n,maxWidth:i||Iv,maxHeight:r||Iv}}(t,e,n);let{width:c,height:u}=l;if("content-box"===r.boxSizing){const t=Sw(r,"border","width"),e=Sw(r,"padding");c-=e.width+t.width,u-=e.height+t.height}c=Math.max(0,c-s.width),u=Math.max(0,i?c/i:u-s.height),c=Tw(Math.min(c,o,l.maxWidth)),u=Tw(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Tw(c/2));return(void 0!==e||void 0!==n)&&i&&l.height&&u>l.height&&(u=l.height,c=Tw(Math.floor(u*i))),{width:c,height:u}}function Iw(t,e,n){const i=e||1,r=Math.floor(t.height*i),s=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height="".concat(t.height,"px"),o.style.width="".concat(t.width,"px")),(t.currentDevicePixelRatio!==i||o.height!==r||o.width!==s)&&(t.currentDevicePixelRatio=i,o.height=r,o.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0)}const Aw=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};bw()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch(e){}return t}();function Pw(t,e){const n=function(t,e){return xw(t).getPropertyValue(e)}(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Rw(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function Ow(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:"middle"===i?n<.5?t.y:e.y:"after"===i?n<1?t.y:e.y:n>0?e.y:t.y}}function Mw(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=Rw(t,r,n),a=Rw(r,s,n),l=Rw(s,e,n),c=Rw(o,a,n),u=Rw(a,l,n);return Rw(c,u,n)}function Dw(t,e,n){return t?function(t,e){return{x:n=>t+t+e-n,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}}(e,n):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t}}function Nw(t,e){let n,i;"ltr"!==e&&"rtl"!==e||(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function Lw(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Fw(t){return"angle"===t?{between:Kv,compare:Wv,normalize:qv}:{between:Qv,compare:(t,e)=>t-e,normalize:t=>t}}function Vw(t){let{start:e,end:n,count:i,loop:r,style:s}=t;return{start:e%i,end:n%i,loop:r&&(n-e+1)%i===0,style:s}}function Uw(t,e,n){if(!n)return[t];const{property:i,start:r,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=Fw(i),{start:u,end:h,loop:d,style:f}=function(t,e,n){const{property:i,start:r,end:s}=n,{between:o,normalize:a}=Fw(i),l=e.length;let c,u,{start:h,end:d,loop:f}=t;if(f){for(h+=l,d+=l,c=0,u=l;c<u&&o(a(e[h%l][i]),r,s);++c)h--,d--;h%=l,d%=l}return d<h&&(d+=l),{start:h,end:d,loop:f,style:t.style}}(t,e,n),p=[];let g,m,y,v=!1,b=null;const w=()=>v||l(r,y,g)&&0!==a(r,y),_=()=>!v||0===a(s,g)||l(s,y,g);for(let x=u,E=u;x<=h;++x)m=e[x%o],m.skip||(g=c(m[i]),g!==y&&(v=l(g,r,s),null===b&&w()&&(b=0===a(g,r)?x:E),null!==b&&_()&&(p.push(Vw({start:b,end:x,loop:d,count:o,style:f})),b=null),E=x,y=g));return null!==b&&p.push(Vw({start:b,end:h,loop:d,count:o,style:f})),p}function zw(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const s=Uw(i[r],t.points,e);s.length&&n.push(...s)}return n}function jw(t,e,n,i){return i&&i.setContext&&n?function(t,e,n,i){const r=t._chart.getContext(),s=Bw(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=s,h=e[0].start,d=h;function f(t,e,i,r){const s=a?-1:1;if(t!==e){for(t+=l;n[t%l].skip;)t-=s;for(;n[e%l].skip;)e+=s;t%l!==e%l&&(c.push({start:t%l,end:e%l,loop:i,style:r}),u=r,h=e%l)}}for(const p of e){h=a?h:p.start;let t,e=n[h%l];for(d=h+1;d<=p.end;d++){const s=n[d%l];t=Bw(i.setContext(Jb(r,{type:"segment",p0:e,p1:s,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),Hw(t,u)&&f(h,d-1,p.loop,u),e=s,u=t}h<d-1&&f(h,d-1,p.loop,u)}return c}(t,e,n,i):e}function Bw(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Hw(t,e){if(!e)return!1;const n=[],i=function(t,e){return hb(e)?(n.includes(e)||n.push(e),n.indexOf(e)):e};return JSON.stringify(t,i)!==JSON.stringify(e,i)}function Ww(t,e,n){return t.options.clip?t[n]:e[n]}function qw(t,e){const n=e._clip;if(n.disabled)return!1;const i=function(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:Ww(n,e,"left"),right:Ww(n,e,"right"),top:Ww(i,e,"top"),bottom:Ww(i,e,"bottom")}:e}(e,t.chartArea);return{left:!1===n.left?0:i.left-(!0===n.left?0:n.left),right:!1===n.right?t.width:i.right+(!0===n.right?0:n.right),top:!1===n.top?0:i.top-(!0===n.top?0:n.top),bottom:!1===n.bottom?t.height:i.bottom+(!0===n.bottom?0:n.bottom)}}class Kw{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,i){const r=e.listeners[i],s=e.duration;r.forEach(i=>i({chart:t,initial:e.initial,numSteps:s,currentStep:Math.min(n-e.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=eb.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),e=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const r=n.items;let s,o=r.length-1,a=!1;for(;o>=0;--o)s=r[o],s._active?(s._total>n.duration&&(n.duration=s._total),s.tick(t),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,n,t,"progress")),r.length||(n.running=!1,this._notify(i,n,t,"complete"),n.initial=!1),e+=r.length}),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((t,e)=>Math.max(t,e._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Gw=new Kw;const Qw="transparent",Yw={boolean:(t,e,n)=>n>.5?e:t,color(t,e,n){const i=db(t||Qw),r=i.valid&&db(e||Qw);return r&&r.valid?r.mix(i,n).hexString():e},number:(t,e,n)=>t+(e-t)*n};class Xw{constructor(t,e,n,i){const r=e[n];i=Xb([t.to,i,r,t.from]);const s=Xb([t.from,r,i]);this._active=!0,this._fn=t.fn||Yw[t.type||typeof s],this._easing=ub[t.easing]||ub.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=s,this._to=i,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const i=this._target[this._prop],r=n-this._start,s=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(s,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=Xb([t.to,e,i,t.from]),this._from=Xb([t.from,i,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,i=this._prop,r=this._from,s=this._loop,o=this._to;let a;if(this._active=r!==o&&(s||e<n),!this._active)return this._target[i]=o,void this._notify(!0);e<0?this._target[i]=r:(a=e/n%2,a=s&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[i]=this._fn(r,o,a))}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,n)=>{t.push({res:e,rej:n})})}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][e]()}}class Jw{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!sv(t))return;const e=Object.keys(kb.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const r=t[i];if(!sv(r))return;const s={};for(const t of e)s[t]=r[t];(rv(r.properties)&&r.properties||[i]).forEach(t=>{t!==i&&n.has(t)||n.set(t,s)})})}_animateOptions(t,e){const n=e.options,i=function(t,e){if(!e)return;let n=t.options;if(!n)return void(t.options=e);n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(t,n);if(!i)return[];const r=this._createAnimations(i,n);return n.$shared&&function(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const e=t[i[r]];e&&e.active()&&n.push(e.wait())}return Promise.all(n)}(t.options.$animations,n).then(()=>{t.options=n},()=>{}),r}_createAnimations(t,e){const n=this._properties,i=[],r=t.$animations||(t.$animations={}),s=Object.keys(e),o=Date.now();let a;for(a=s.length-1;a>=0;--a){const l=s[a];if("$"===l.charAt(0))continue;if("options"===l){i.push(...this._animateOptions(t,e));continue}const c=e[l];let u=r[l];const h=n.get(l);if(u){if(h&&u.active()){u.update(h,c,o);continue}u.cancel()}h&&h.duration?(r[l]=u=new Xw(h,t,l,c),i.push(u)):t[l]=c}return i}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const n=this._createAnimations(t,e);return n.length?(Gw.add(this._chart,n),!0):void 0}}function $w(t,e){const n=t&&t.options||{},i=n.reverse,r=void 0===n.min?e:0,s=void 0===n.max?e:0;return{start:i?s:r,end:i?r:s}}function Zw(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function t_(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=t.keys,s="single"===i.mode;let o,a,l,c;if(null===e)return;let u=!1;for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(u=!0,i.all)continue;break}c=t.values[l],ov(c)&&(s||0===e||Dv(e)===Dv(c))&&(e+=c)}return u||i.all?e:0}function e_(t,e){const n=t&&t.options.stacked;return n||void 0===n&&void 0!==e.stack}function n_(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function i_(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const e=t[r.index];if(n&&e>0||!n&&e<0)return r.index}return null}function r_(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,c=o.axis,u=function(t,e,n){return"".concat(t.id,".").concat(e.id,".").concat(n.stack||n.type)}(s,o,i),h=e.length;let d;for(let f=0;f<h;++f){const t=e[f],{[l]:n,[c]:s}=t;d=(t._stacks||(t._stacks={}))[c]=n_(r,u,n),d[a]=s,d._top=i_(d,o,!0,i.type),d._bottom=i_(d,o,!1,i.type);(d._visualValues||(d._visualValues={}))[a]=s}}function s_(t,e){const n=t.scales;return Object.keys(n).filter(t=>n[t].axis===e).shift()}function o_(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[i]||void 0===e[i][n])return;delete e[i][n],void 0!==e[i]._visualValues&&void 0!==e[i]._visualValues[n]&&delete e[i]._visualValues[n]}}}const a_=t=>"reset"===t||"none"===t,l_=(t,e)=>e?t:Object.assign({},t);class c_{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=e_(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&o_(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),i=(t,e,n,i)=>"x"===t?e:"r"===t?i:n,r=e.xAxisID=lv(n.xAxisID,s_(t,"x")),s=e.yAxisID=lv(n.yAxisID,s_(t,"y")),o=e.rAxisID=lv(n.rAxisID,s_(t,"r")),a=e.indexAxis,l=e.iAxisID=i(a,r,s,o),c=e.vAxisID=i(a,s,r,o);e.xScale=this.getScaleForId(r),e.yScale=this.getScaleForId(s),e.rScale=this.getScaleForId(o),e.iScale=this.getScaleForId(l),e.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Zv(this._data,this),t._stacked&&o_(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if(sv(e)){const t=this._cachedMeta;this._data=function(t,e){const{iScale:n,vScale:i}=e,r="x"===n.axis?"x":"y",s="x"===i.axis?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[r]:u,[s]:t[u]};return a}(e,t)}else if(n!==e){if(n){Zv(n,this);const t=this._cachedMeta;o_(t),t._parsed=[]}e&&Object.isExtensible(e)&&(r=this,(i=e)._chartjs?i._chartjs.listeners.push(r):(Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[r]}}),$v.forEach(t=>{const e="_onData"+_v(t),n=i[t];Object.defineProperty(i,t,{configurable:!0,enumerable:!1,value(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];const o=n.apply(this,r);return i._chartjs.listeners.forEach(t=>{"function"===typeof t[e]&&t[e](...r)}),o}})}))),this._syncList=[],this._data=e}var i,r}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const r=e._stacked;e._stacked=e_(e.vScale,e),e.stack!==n.stack&&(i=!0,o_(e),e.stack=n.stack),this._resyncElements(t),(i||r!==e._stacked)&&(r_(this,e._parsed),e._stacked=e_(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:i}=this,{iScale:r,_stacked:s}=n,o=r.axis;let a,l,c,u=0===t&&e===i.length||n._sorted,h=t>0&&n._parsed[t-1];if(!1===this._parsing)n._parsed=i,n._sorted=!0,c=i;else{c=rv(i[t])?this.parseArrayData(n,i,t,e):sv(i[t])?this.parseObjectData(n,i,t,e):this.parsePrimitiveData(n,i,t,e);const r=()=>null===l[o]||h&&l[o]<h[o];for(a=0;a<e;++a)n._parsed[a+t]=l=c[a],u&&(r()&&(u=!1),h=l);n._sorted=u}s&&r_(this,c)}parsePrimitiveData(t,e,n,i){const{iScale:r,vScale:s}=t,o=r.axis,a=s.axis,l=r.getLabels(),c=r===s,u=new Array(i);let h,d,f;for(h=0,d=i;h<d;++h)f=h+n,u[h]={[o]:c||r.parse(l[f],f),[a]:s.parse(e[f],f)};return u}parseArrayData(t,e,n,i){const{xScale:r,yScale:s}=t,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=e[c],o[a]={x:r.parse(u[0],c),y:s.parse(u[1],c)};return o}parseObjectData(t,e,n,i){const{xScale:r,yScale:s}=t,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l=new Array(i);let c,u,h,d;for(c=0,u=i;c<u;++c)h=c+n,d=e[h],l[c]={x:r.parse(wv(d,o),h),y:s.parse(wv(d,a),h)};return l}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const i=this.chart,r=this._cachedMeta,s=e[t.axis];return t_({keys:Zw(i,!0),values:e._stacks[t.axis]._visualValues},s,r.index,{mode:n})}updateRangeFromParsed(t,e,n,i){const r=n[e.axis];let s=null===r?NaN:r;const o=i&&n._stacks[e.axis];i&&o&&(i.values=o,s=t_(i,r,this._cachedMeta.index)),t.min=Math.min(t.min,s),t.max=Math.max(t.max,s)}getMinMax(t,e){const n=this._cachedMeta,i=n._parsed,r=n._sorted&&t===n.iScale,s=i.length,o=this._getOtherScale(t),a=((t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Zw(n,!0),values:null})(e,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=function(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}(o);let h,d;function f(){d=i[h];const e=d[o.axis];return!ov(d[t.axis])||c>e||u<e}for(h=0;h<s&&(f()||(this.updateRangeFromParsed(l,t,d,a),!r));++h);if(r)for(h=s-1;h>=0;--h)if(!f()){this.updateRangeFromParsed(l,t,d,a);break}return l}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let i,r,s;for(i=0,r=e.length;i<r;++i)s=e[i][t.axis],ov(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,i=e.vScale,r=this.getParsed(t);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=function(t){let e,n,i,r;return sv(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:!1===t}}(lv(this.options.clip,function(t,e,n){if(!1===n)return!1;const i=$w(t,n),r=$w(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,n=this._cachedMeta,i=n.data||[],r=e.chartArea,s=[],o=this._drawStart||0,a=this._drawCount||i.length-o,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(t,r,o,a),c=o;c<o+a;++c){const e=i[c];e.hidden||(e.active&&l?s.push(e):e.draw(t,r))}for(c=0;c<s.length;++c)s[c].draw(t,r)}getStyle(t,e){const n=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const i=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];r=e.$context||(e.$context=function(t,e,n){return Jb(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}(this.getContext(),t,e)),r.parsed=this.getParsed(t),r.raw=i.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=function(t,e){return Jb(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!e,r.mode=n,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const i="active"===e,r=this._cachedDataOpts,s=t+"-"+e,o=r[s],a=this.enableOptionSharing&&xv(n);if(o)return l_(o,a);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,t),u=i?["".concat(t,"Hover"),"hover",t,""]:[t,""],h=l.getOptionScopes(this.getDataset(),c),d=Object.keys(kb.elements[t]),f=l.resolveNamedOptions(h,d,()=>this.getContext(n,i,e),u);return f.$shared&&(f.$shared=a,r[s]=Object.freeze(l_(f,a))),f}_resolveAnimations(t,e,n){const i=this.chart,r=this._cachedDataOpts,s="animation-".concat(e),o=r[s];if(o)return o;let a;if(!1!==i.options.animation){const i=this.chart.config,r=i.datasetAnimationScopeKeys(this._type,e),s=i.getOptionScopes(this.getDataset(),r);a=i.createResolver(s,this.getContext(t,n,e))}const l=new Jw(i,a&&a.animations);return a&&a._cacheable&&(r[s]=Object.freeze(l)),l}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||a_(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const n=this.resolveDataElementOptions(t,e),i=this._sharedOptions,r=this.getSharedOptions(n),s=this.includeOptions(e,r)||r!==i;return this.updateSharedOptions(r,e,n),{sharedOptions:r,includeOptions:s}}updateElement(t,e,n,i){a_(i)?Object.assign(t,n):this._resolveAnimations(e,i).update(t,n)}updateSharedOptions(t,e,n){t&&!a_(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,i){t.active=i;const r=this.getStyle(e,i);this._resolveAnimations(e,n,i).update(t,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[o,a,l]of this._syncList)this[o](a,l);this._syncList=[];const i=n.length,r=e.length,s=Math.min(r,i);s&&this.parse(0,s),r>i?this._insertElements(i,r-i,t):r<i&&this._removeElements(r,i-r)}_insertElements(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=this._cachedMeta,r=i.data,s=t+e;let o;const a=t=>{for(t.length+=e,o=t.length-1;o>=s;o--)t[o]=t[o-e]};for(a(r),o=t;o<s;++o)r[o]=new this.dataElementType;this._parsing&&a(i._parsed),this.parse(t,e),n&&this.updateElements(r,t,e,"reset")}updateElements(t,e,n,i){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(t,e);n._stacked&&o_(n,i)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,i]=t;this[e](n,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function u_(t){const e=t.iScale,n=function(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let e=0,r=n.length;e<r;e++)i=i.concat(n[e].controller.getAllParsedValues(t));t._cache.$bar=tb(i.sort((t,e)=>t-e))}return t._cache.$bar}(e,t.type);let i,r,s,o,a=e._length;const l=()=>{32767!==s&&-32768!==s&&(xv(o)&&(a=Math.min(a,Math.abs(s-o)||a)),o=s)};for(i=0,r=n.length;i<r;++i)s=e.getPixelForValue(n[i]),l();for(o=void 0,i=0,r=e.ticks.length;i<r;++i)s=e.getPixelForTick(i),l();return a}function h_(t,e,n,i){return rv(t)?function(t,e,n,i){const r=n.parse(t[0],i),s=n.parse(t[1],i),o=Math.min(r,s),a=Math.max(r,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:r,end:s,min:o,max:a}}(t,e,n,i):e[n.axis]=n.parse(t,i),e}function d_(t,e,n,i){const r=t.iScale,s=t.vScale,o=r.getLabels(),a=r===s,l=[];let c,u,h,d;for(c=n,u=n+i;c<u;++c)d=e[c],h={},h[r.axis]=a||r.parse(o[c],c),l.push(h_(d,h,s,c));return l}function f_(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function p_(t,e,n,i){let r=e.borderSkipped;const s={};if(!r)return void(t.borderSkipped=s);if(!0===r)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:a,reverse:l,top:c,bottom:u}=function(t){let e,n,i,r,s;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:n,end:i,reverse:e,top:r,bottom:s}}(t);"middle"===r&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?r=c:(n._bottom||0)===i?r=u:(s[g_(u,o,a,l)]=!0,r=c)),s[g_(r,o,a,l)]=!0,t.borderSkipped=s}function g_(t,e,n,i){var r,s,o;return i?(o=n,t=m_(t=(r=t)===(s=e)?o:r===o?s:r,n,e)):t=m_(t,e,n),t}function m_(t,e,n){return"start"===t?e:"end"===t?n:t}function y_(t,e,n){let{inflateAmount:i}=e;t.inflateAmount="auto"===i?1===n?.33:0:i}l(c_,"defaults",{}),l(c_,"datasetElementType",null),l(c_,"dataElementType",null);class v_ extends c_{parsePrimitiveData(t,e,n,i){return d_(t,e,n,i)}parseArrayData(t,e,n,i){return d_(t,e,n,i)}parseObjectData(t,e,n,i){const{iScale:r,vScale:s}=t,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l="x"===r.axis?o:a,c="x"===s.axis?o:a,u=[];let h,d,f,p;for(h=n,d=n+i;h<d;++h)p=e[h],f={},f[r.axis]=r.parse(wv(p,l),h),u.push(h_(wv(p,c),f,s,h));return u}updateRangeFromParsed(t,e,n,i){super.updateRangeFromParsed(t,e,n,i);const r=n._custom;r&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:n,vScale:i}=e,r=this.getParsed(t),s=r._custom,o=f_(s)?"["+s.start+", "+s.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,i){const r="reset"===i,{index:s,_cachedMeta:{vScale:o}}=this,a=o.getBasePixel(),l=o.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:h}=this._getSharedOptions(e,i);for(let d=e;d<e+n;d++){const e=this.getParsed(d),n=r||iv(e[o.axis])?{base:a,head:a}:this._calculateBarValuePixels(d),f=this._calculateBarIndexPixels(d,c),p=(e._stacks||{})[o.axis],g={horizontal:l,base:n.base,enableBorderRadius:!p||f_(e._custom)||s===p._top||s===p._bottom,x:l?n.head:f.center,y:l?f.center:n.head,height:l?f.size:Math.abs(n.size),width:l?Math.abs(n.size):f.size};h&&(g.options=u||this.resolveDataElementOptions(d,t[d].active?"active":i));const m=g.options||t[d].options;p_(g,m,p,s),y_(g,m,c.ratio),this.updateElement(t[d],d,g,i)}}_getStacks(t,e){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(t=>t.controller.options.grouped),r=n.options.stacked,s=[],o=this._cachedMeta.controller.getParsed(e),a=o&&o[n.axis],l=t=>{const e=t._parsed.find(t=>t[n.axis]===a),i=e&&e[t.vScale.axis];if(iv(i)||isNaN(i))return!0};for(const c of i)if((void 0===e||!l(c))&&((!1===r||-1===s.indexOf(c.stack)||void 0===r&&void 0===c.stack)&&s.push(c.stack),c.index===t))break;return s.length||s.push(void 0),s}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(n=>t[n].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)t[lv("x"===this.chart.options.indexAxis?n.xAxisID:n.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,n){const i=this._getStacks(t,n),r=void 0!==e?i.indexOf(e):-1;return-1===r?i.length-1:r}_getRuler(){const t=this.options,e=this._cachedMeta,n=e.iScale,i=[];let r,s;for(r=0,s=e.data.length;r<s;++r)i.push(n.getPixelForValue(this.getParsed(r)[n.axis],r));const o=t.barThickness;return{min:o||u_(e),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:o?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:n,index:i},options:{base:r,minBarLength:s}}=this,o=r||0,a=this.getParsed(t),l=a._custom,c=f_(l);let u,h,d=a[e.axis],f=0,p=n?this.applyStack(e,a,n):d;p!==d&&(f=p-d,p=d),c&&(d=l.barStart,p=l.barEnd-l.barStart,0!==d&&Dv(d)!==Dv(l.barEnd)&&(f=0),f+=d);const g=iv(r)||c?f:r;let m=e.getPixelForValue(g);if(u=this.chart.getDataVisibility(t)?e.getPixelForValue(f+p):m,h=u-m,Math.abs(h)<s){h=function(t,e,n){return 0!==t?Dv(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}(h,e,o)*s,d===o&&(m-=h/2);const t=e.getPixelForDecimal(0),r=e.getPixelForDecimal(1),l=Math.min(t,r),f=Math.max(t,r);m=Math.max(Math.min(m,f),l),u=m+h,n&&!c&&(a._stacks[e.axis]._visualValues[i]=e.getValueForPixel(u)-e.getValueForPixel(m))}if(m===e.getPixelForValue(o)){const t=Dv(h)*e.getLineWidthForValue(o)/2;m+=t,h-=t}return{size:h,base:m,head:u,center:u+h/2}}_calculateBarIndexPixels(t,e){const n=e.scale,i=this.options,r=i.skipNull,s=lv(i.maxBarThickness,1/0);let o,a;const l=this._getAxisCount();if(e.grouped){const n=r?this._getStackCount(t):e.stackCount,c="flex"===i.barThickness?function(t,e,n,i){const r=e.pixels,s=r[t];let o=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null;const l=n.categoryPercentage;null===o&&(o=s-(null===a?e.end-e.start:a-s)),null===a&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}(t,e,i,n*l):function(t,e,n,i){const r=n.barThickness;let s,o;return iv(r)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:e.pixels[t]-s/2}}(t,e,i,n*l),u="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,h=this._getAxis().indexOf(lv(u,this.getFirstScaleIdForIndexAxis())),d=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0)+h;o=c.start+c.chunk*d+c.chunk/2,a=Math.min(s,c.chunk*c.ratio)}else o=n.getPixelForValue(this.getParsed(t)[n.axis],t),a=Math.min(s,e.min*e.ratio);return{base:o-a/2,head:o+a/2,center:o,size:a}}draw(){const t=this._cachedMeta,e=t.vScale,n=t.data,i=n.length;let r=0;for(;r<i;++r)null===this.getParsed(r)[e.axis]||n[r].hidden||n[r].draw(this._ctx)}}l(v_,"id","bar"),l(v_,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),l(v_,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class b_ extends c_{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,n,i){const r=super.parsePrimitiveData(t,e,n,i);for(let s=0;s<r.length;s++)r[s]._custom=this.resolveDataElementOptions(s+n).radius;return r}parseArrayData(t,e,n,i){const r=super.parseArrayData(t,e,n,i);for(let s=0;s<r.length;s++){const t=e[n+s];r[s]._custom=lv(t[2],this.resolveDataElementOptions(s+n).radius)}return r}parseObjectData(t,e,n,i){const r=super.parseObjectData(t,e,n,i);for(let s=0;s<r.length;s++){const t=e[n+s];r[s]._custom=lv(t&&t.r&&+t.r,this.resolveDataElementOptions(s+n).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:r}=e,s=this.getParsed(t),o=i.getLabelForValue(s.x),a=r.getLabelForValue(s.y),l=s._custom;return{label:n[t]||"",value:"("+o+", "+a+(l?", "+l:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,n,i){const r="reset"===i,{iScale:s,vScale:o}=this._cachedMeta,{sharedOptions:a,includeOptions:l}=this._getSharedOptions(e,i),c=s.axis,u=o.axis;for(let h=e;h<e+n;h++){const e=t[h],n=!r&&this.getParsed(h),d={},f=d[c]=r?s.getPixelForDecimal(.5):s.getPixelForValue(n[c]),p=d[u]=r?o.getBasePixel():o.getPixelForValue(n[u]);d.skip=isNaN(f)||isNaN(p),l&&(d.options=a||this.resolveDataElementOptions(h,e.active?"active":i),r&&(d.options.radius=0)),this.updateElement(e,h,d,i)}}resolveDataElementOptions(t,e){const n=this.getParsed(t);let i=super.resolveDataElementOptions(t,e);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const r=i.radius;return"active"!==e&&(i.radius=0),i.radius+=lv(n&&n._custom,r),i}}l(b_,"id","bubble"),l(b_,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),l(b_,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class w_ extends c_{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const n=this.getDataset().data,i=this._cachedMeta;if(!1===this._parsing)i._parsed=n;else{let r,s,o=t=>+n[t];if(sv(n[t])){const{key:t="value"}=this._parsing;o=e=>+wv(n[e],t)}for(r=t,s=t+e;r<s;++r)i._parsed[r]=o(r)}}_getRotation(){return Uv(this.options.rotation-90)}_getCircumference(){return Uv(this.options.circumference)}_getRotationExtents(){let t=Tv,e=-Tv;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,r=i._getRotation(),s=i._getCircumference();t=Math.min(t,r),e=Math.max(e,r+s)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:n}=e,i=this._cachedMeta,r=i.data,s=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-s)/2,0),a=Math.min((l=this.options.cutout,c=o,"string"===typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/c),1);var l,c;const u=this._getRingWeight(this.index),{circumference:h,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:g,offsetY:m}=function(t,e,n){let i=1,r=1,s=0,o=0;if(e<Tv){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(t,e,i)=>Kv(t,a,l,!0)?1:Math.max(e,e*n,i,i*n),p=(t,e,i)=>Kv(t,a,l,!0)?-1:Math.min(e,e*n,i,i*n),g=f(0,c,h),m=f(Pv,u,d),y=p(kv,c,h),v=p(kv+Pv,u,d);i=(g-y)/2,r=(m-v)/2,s=-(g+y)/2,o=-(m+v)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}(d,h,a),y=(n.width-s)/f,v=(n.height-s)/p,b=Math.max(Math.min(y,v)/2,0),w=cv(this.options.radius,b),_=(w-Math.max(w*a,0))/this._getVisibleDatasetWeightTotal();this.offsetX=g*w,this.offsetY=m*w,i.total=this.calculateTotal(),this.outerRadius=w-_*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-_*u,0),this.updateElements(r,0,r.length,t)}_circumference(t,e){const n=this.options,i=this._cachedMeta,r=this._getCircumference();return e&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||null===i._parsed[t]||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*r/Tv)}updateElements(t,e,n,i){const r="reset"===i,s=this.chart,o=s.chartArea,a=s.options.animation,l=(o.left+o.right)/2,c=(o.top+o.bottom)/2,u=r&&a.animateScale,h=u?0:this.innerRadius,d=u?0:this.outerRadius,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(e,i);let g,m=this._getRotation();for(g=0;g<e;++g)m+=this._circumference(g,r);for(g=e;g<e+n;++g){const e=this._circumference(g,r),n=t[g],s={x:l+this.offsetX,y:c+this.offsetY,startAngle:m,endAngle:m+e,circumference:e,outerRadius:d,innerRadius:h};p&&(s.options=f||this.resolveDataElementOptions(g,n.active?"active":i)),m+=e,this.updateElement(n,g,s,i)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let n,i=0;for(n=0;n<e.length;n++){const r=t._parsed[n];null===r||isNaN(r)||!this.chart.getDataVisibility(n)||e[n].hidden||(i+=Math.abs(r))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?Tv*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=yb(e._parsed[t],n.options.locale);return{label:i[t]||"",value:r}}getMaxBorderWidth(t){let e=0;const n=this.chart;let i,r,s,o,a;if(!t)for(i=0,r=n.data.datasets.length;i<r;++i)if(n.isDatasetVisible(i)){s=n.getDatasetMeta(i),t=s.data,o=s.controller;break}if(!t)return 0;for(i=0,r=t.length;i<r;++i)a=o.resolveDataElementOptions(i),"inner"!==a.borderAlign&&(e=Math.max(e,a.borderWidth||0,a.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let n=0,i=t.length;n<i;++n){const t=this.resolveDataElementOptions(n);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}_getRingWeight(t){return Math.max(lv(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}l(w_,"id","doughnut"),l(w_,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),l(w_,"descriptors",{_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),l(w_,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return e.labels.map((e,r)=>{const s=t.getDatasetMeta(0).controller.getStyle(r);return{text:e,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:i,lineWidth:s.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}}});class __ extends c_{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:n,data:i=[],_dataset:r}=e,s=this.chart._animationsDisabled;let{start:o,count:a}=sb(e,i,s);this._drawStart=o,this._drawCount=a,ob(e)&&(o=0,a=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=i;const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:l},t),this.updateElements(i,o,a,t)}updateElements(t,e,n,i){const r="reset"===i,{iScale:s,vScale:o,_stacked:a,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(e,i),h=s.axis,d=o.axis,{spanGaps:f,segment:p}=this.options,g=Fv(f)?f:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||r||"none"===i,y=e+n,v=t.length;let b=e>0&&this.getParsed(e-1);for(let w=0;w<v;++w){const n=t[w],f=m?n:{};if(w<e||w>=y){f.skip=!0;continue}const v=this.getParsed(w),_=iv(v[d]),x=f[h]=s.getPixelForValue(v[h],w),E=f[d]=r||_?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,v,a):v[d],w);f.skip=isNaN(x)||isNaN(E)||_,f.stop=w>0&&Math.abs(v[h]-b[h])>g,p&&(f.parsed=v,f.raw=l.data[w]),u&&(f.options=c||this.resolveDataElementOptions(w,n.active?"active":i)),m||this.updateElement(n,w,f,i),b=v}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,n=e.options&&e.options.borderWidth||0,i=t.data||[];if(!i.length)return n;const r=i[0].size(this.resolveDataElementOptions(0)),s=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,r,s)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}l(__,"id","line"),l(__,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),l(__,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class x_ extends c_{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=yb(e._parsed[t].r,n.options.locale);return{label:i[t]||"",value:r}}parseObjectData(t,e,n,i){return hw.bind(this)(t,e,n,i)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((t,n)=>{const i=this.getParsed(n).r;!isNaN(i)&&this.chart.getDataVisibility(n)&&(i<e.min&&(e.min=i),i>e.max&&(e.max=i))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,n=t.options,i=Math.min(e.right-e.left,e.bottom-e.top),r=Math.max(i/2,0),s=(r-Math.max(n.cutoutPercentage?r/100*n.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=r-s*this.index,this.innerRadius=this.outerRadius-s}updateElements(t,e,n,i){const r="reset"===i,s=this.chart,o=s.options.animation,a=this._cachedMeta.rScale,l=a.xCenter,c=a.yCenter,u=a.getIndexAngle(0)-.5*kv;let h,d=u;const f=360/this.countVisibleElements();for(h=0;h<e;++h)d+=this._computeAngle(h,i,f);for(h=e;h<e+n;h++){const e=t[h];let n=d,p=d+this._computeAngle(h,i,f),g=s.getDataVisibility(h)?a.getDistanceFromCenterForValue(this.getParsed(h).r):0;d=p,r&&(o.animateScale&&(g=0),o.animateRotate&&(n=p=u));const m={x:l,y:c,innerRadius:0,outerRadius:g,startAngle:n,endAngle:p,options:this.resolveDataElementOptions(h,e.active?"active":i)};this.updateElement(e,h,m,i)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((t,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&e++}),e}_computeAngle(t,e,n){return this.chart.getDataVisibility(t)?Uv(this.resolveDataElementOptions(t,e).angle||n):0}}l(x_,"id","polarArea"),l(x_,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),l(x_,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return e.labels.map((e,r)=>{const s=t.getDatasetMeta(0).controller.getStyle(r);return{text:e,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:i,lineWidth:s.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class E_ extends w_{}l(E_,"id","pie"),l(E_,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class S_ extends c_{getLabelAndValue(t){const e=this._cachedMeta.vScale,n=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(n[e.axis])}}parseObjectData(t,e,n,i){return hw.bind(this)(t,e,n,i)}update(t){const e=this._cachedMeta,n=e.dataset,i=e.data||[],r=e.iScale.getLabels();if(n.points=i,"resize"!==t){const e=this.resolveDatasetElementOptions(t);this.options.showLine||(e.borderWidth=0);const s={_loop:!0,_fullLoop:r.length===i.length,options:e};this.updateElement(n,void 0,s,t)}this.updateElements(i,0,i.length,t)}updateElements(t,e,n,i){const r=this._cachedMeta.rScale,s="reset"===i;for(let o=e;o<e+n;o++){const e=t[o],n=this.resolveDataElementOptions(o,e.active?"active":i),a=r.getPointPositionForValue(o,this.getParsed(o).r),l=s?r.xCenter:a.x,c=s?r.yCenter:a.y,u={x:l,y:c,angle:a.angle,skip:isNaN(l)||isNaN(c),options:n};this.updateElement(e,o,u,i)}}}l(S_,"id","radar"),l(S_,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),l(S_,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class k_ extends c_{getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:r}=e,s=this.getParsed(t),o=i.getLabelForValue(s.x),a=r.getLabelForValue(s.y);return{label:n[t]||"",value:"("+o+", "+a+")"}}update(t){const e=this._cachedMeta,{data:n=[]}=e,i=this.chart._animationsDisabled;let{start:r,count:s}=sb(e,n,i);if(this._drawStart=r,this._drawCount=s,ob(e)&&(r=0,s=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:r,_dataset:s}=e;r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=n;const o=this.resolveDatasetElementOptions(t);o.segment=this.options.segment,this.updateElement(r,void 0,{animated:!i,options:o},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(n,r,s,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,n,i){const r="reset"===i,{iScale:s,vScale:o,_stacked:a,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(e,i),u=this.getSharedOptions(c),h=this.includeOptions(i,u),d=s.axis,f=o.axis,{spanGaps:p,segment:g}=this.options,m=Fv(p)?p:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||r||"none"===i;let v=e>0&&this.getParsed(e-1);for(let b=e;b<e+n;++b){const e=t[b],n=this.getParsed(b),c=y?e:{},p=iv(n[f]),w=c[d]=s.getPixelForValue(n[d],b),_=c[f]=r||p?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,n,a):n[f],b);c.skip=isNaN(w)||isNaN(_)||p,c.stop=b>0&&Math.abs(n[d]-v[d])>m,g&&(c.parsed=n,c.raw=l.data[b]),h&&(c.options=u||this.resolveDataElementOptions(b,e.active?"active":i)),y||this.updateElement(e,b,c,i),v=n}this.updateSharedOptions(u,i,c)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}const n=t.dataset,i=n.options&&n.options.borderWidth||0;if(!e.length)return i;const r=e[0].size(this.resolveDataElementOptions(0)),s=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(i,r,s)/2}}l(k_,"id","scatter"),l(k_,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),l(k_,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function T_(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class C_{static override(t){Object.assign(C_.prototype,t)}constructor(t){l(this,"options",void 0),this.options=t||{}}init(){}formats(){return T_()}parse(){return T_()}format(){return T_()}add(){return T_()}diff(){return T_()}startOf(){return T_()}endOf(){return T_()}}var I_=C_;function A_(t,e,n,i){const{controller:r,data:s,_sorted:o}=t,a=r._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&"r"!==e&&o&&s.length){const o=a._reversePixels?Jv:Xv;if(!i){const i=o(s,e,n);if(l){const{vScale:e}=r._cachedMeta,{_parsed:n}=t,s=n.slice(0,i.lo+1).reverse().findIndex(t=>!iv(t[e.axis]));i.lo-=Math.max(0,s);const o=n.slice(i.hi).findIndex(t=>!iv(t[e.axis]));i.hi+=Math.max(0,o)}return i}if(r._sharedOptions){const t=s[0],i="function"===typeof t.getRange&&t.getRange(e);if(i){const t=o(s,e,n-i),r=o(s,e,n+i);return{lo:t.lo,hi:r.hi}}}}return{lo:0,hi:s.length-1}}function P_(t,e,n,i,r){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:t,data:n}=s[a],{lo:l,hi:c}=A_(s[a],e,o,r);for(let e=l;e<=c;++e){const r=n[e];r.skip||i(r,t,e)}}}function R_(t,e,n,i,r){const s=[];if(!r&&!t.isPointInArea(e))return s;return P_(t,n,e,function(n,o,a){(r||Ob(n,t.chartArea,0))&&n.inRange(e.x,e.y,i)&&s.push({element:n,datasetIndex:o,index:a})},!0),s}function O_(t,e,n,i,r,s){let o=[];const a=function(t){const e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,i){const r=e?Math.abs(t.x-i.x):0,s=n?Math.abs(t.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(s,2))}}(n);let l=Number.POSITIVE_INFINITY;return P_(t,n,e,function(n,c,u){const h=n.inRange(e.x,e.y,r);if(i&&!h)return;const d=n.getCenterPoint(r);if(!(!!s||t.isPointInArea(d))&&!h)return;const f=a(e,d);f<l?(o=[{element:n,datasetIndex:c,index:u}],l=f):f===l&&o.push({element:n,datasetIndex:c,index:u})}),o}function M_(t,e,n,i,r,s){return s||t.isPointInArea(e)?"r"!==n||i?O_(t,e,n,i,r,s):function(t,e,n,i){let r=[];return P_(t,n,e,function(t,n,s){const{startAngle:o,endAngle:a}=t.getProps(["startAngle","endAngle"],i),{angle:l}=Bv(t,{x:e.x,y:e.y});Kv(l,o,a)&&r.push({element:t,datasetIndex:n,index:s})}),r}(t,e,n,r):[]}function D_(t,e,n,i,r){const s=[],o="x"===n?"inXRange":"inYRange";let a=!1;return P_(t,n,e,(t,i,l)=>{t[o]&&t[o](e[n],r)&&(s.push({element:t,datasetIndex:i,index:l}),a=a||t.inRange(e.x,e.y,r))}),i&&!a?[]:s}var N_={evaluateInteractionItems:P_,modes:{index(t,e,n,i){const r=kw(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?R_(t,r,s,i,o):M_(t,r,s,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(t=>{const e=a[0].index,n=t.data[e];n&&!n.skip&&l.push({element:n,datasetIndex:t.index,index:e})}),l):[]},dataset(t,e,n,i){const r=kw(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?R_(t,r,s,i,o):M_(t,r,s,!1,i,o);if(a.length>0){const e=a[0].datasetIndex,n=t.getDatasetMeta(e).data;a=[];for(let t=0;t<n.length;++t)a.push({element:n[t],datasetIndex:e,index:t})}return a},point:(t,e,n,i)=>R_(t,kw(e,t),n.axis||"xy",i,n.includeInvisible||!1),nearest(t,e,n,i){const r=kw(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return M_(t,r,s,n.intersect,i,o)},x:(t,e,n,i)=>D_(t,kw(e,t),"x",n.intersect,i),y:(t,e,n,i)=>D_(t,kw(e,t),"y",n.intersect,i)}};const L_=["left","top","right","bottom"];function F_(t,e){return t.filter(t=>t.pos===e)}function V_(t,e){return t.filter(t=>-1===L_.indexOf(t.pos)&&t.box.axis===e)}function U_(t,e){return t.sort((t,n)=>{const i=e?n:t,r=e?t:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function z_(t,e){const n=function(t){const e={};for(const n of t){const{stack:t,pos:i,stackWeight:r}=n;if(!t||!L_.includes(i))continue;const s=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=r}return e}(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:o}=a.box,l=n[a.stack],c=l&&a.stackWeight/l.weight;a.horizontal?(a.width=c?c*i:o&&e.availableWidth,a.height=r):(a.width=i,a.height=c?c*r:o&&e.availableHeight)}return n}function j_(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function B_(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function H_(t,e,n,i){const{pos:r,box:s}=n,o=t.maxPadding;if(!sv(r)){n.size&&(t[r]-=n.size);const e=i[n.stack]||{size:0,count:1};e.size=Math.max(e.size,n.horizontal?s.height:s.width),n.size=e.size/e.count,t[r]+=n.size}s.getPadding&&B_(o,s.getPadding());const a=Math.max(0,e.outerWidth-j_(o,t,"left","right")),l=Math.max(0,e.outerHeight-j_(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function W_(t,e){const n=e.maxPadding;function i(t){const i={left:0,top:0,right:0,bottom:0};return t.forEach(t=>{i[t]=Math.max(e[t],n[t])}),i}return i(t?["left","right"]:["top","bottom"])}function q_(t,e,n,i){const r=[];let s,o,a,l,c,u;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,W_(a.horizontal,e));const{same:o,other:h}=H_(e,n,a,i);c|=o&&r.length,u=u||h,l.fullSize||r.push(a)}return c&&q_(r,e,n,i)||u}function K_(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function G_(t,e,n,i){const r=n.padding;let{x:s,y:o}=e;for(const a of t){const t=a.box,l=i[a.stack]||{count:1,placed:0,weight:1},c=a.stackWeight/l.weight||1;if(a.horizontal){const i=e.w*c,s=l.size||t.height;xv(l.start)&&(o=l.start),t.fullSize?K_(t,r.left,o,n.outerWidth-r.right-r.left,s):K_(t,e.left+l.placed,o,i,s),l.start=o,l.placed+=i,o=t.bottom}else{const i=e.h*c,o=l.size||t.width;xv(l.start)&&(s=l.start),t.fullSize?K_(t,s,r.top,o,n.outerHeight-r.bottom-r.top):K_(t,s,e.top+l.placed,o,i),l.start=s,l.placed+=i,s=t.right}}e.x=s,e.y=o}var Q_={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=Qb(t.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(n-r.height,0),a=function(t){const e=function(t){const e=[];let n,i,r,s,o,a;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],({position:s,options:{stack:o,stackWeight:a=1}}=r),e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return e}(t),n=U_(e.filter(t=>t.box.fullSize),!0),i=U_(F_(e,"left"),!0),r=U_(F_(e,"right")),s=U_(F_(e,"top"),!0),o=U_(F_(e,"bottom")),a=V_(e,"x"),l=V_(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:F_(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}(t.boxes),l=a.vertical,c=a.horizontal;hv(t.boxes,t=>{"function"===typeof t.beforeLayout&&t.beforeLayout()});const u=l.reduce((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},r);B_(d,Qb(i));const f=Object.assign({maxPadding:d,w:s,h:o,x:r.left,y:r.top},r),p=z_(l.concat(c),h);q_(a.fullSize,f,h,p),q_(l,f,h,p),q_(c,f,h,p)&&q_(l,f,h,p),function(t){const e=t.maxPadding;function n(n){const i=Math.max(e[n]-t[n],0);return t[n]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}(f),G_(a.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,G_(a.rightAndBottom,f,h,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},hv(a.chartArea,e=>{const n=e.box;Object.assign(n,t.chartArea),n.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class Y_{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,i){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,i?Math.floor(e/i):n)}}isAttached(t){return!0}updateConfig(t){}}class X_ extends Y_{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const J_="$chartjs",$_={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Z_=t=>null===t||""===t;const tx=!!Aw&&{passive:!0};function ex(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,tx)}function nx(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function ix(t,e,n){const i=t.canvas,r=new MutationObserver(t=>{let e=!1;for(const n of t)e=e||nx(n.addedNodes,i),e=e&&!nx(n.removedNodes,i);e&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function rx(t,e,n){const i=t.canvas,r=new MutationObserver(t=>{let e=!1;for(const n of t)e=e||nx(n.removedNodes,i),e=e&&!nx(n.addedNodes,i);e&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const sx=new Map;let ox=0;function ax(){const t=window.devicePixelRatio;t!==ox&&(ox=t,sx.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function lx(t,e,n){const i=t.canvas,r=i&&ww(i);if(!r)return;const s=nb((t,e)=>{const i=r.clientWidth;n(t,e),i<r.clientWidth&&n()},window),o=new ResizeObserver(t=>{const e=t[0],n=e.contentRect.width,i=e.contentRect.height;0===n&&0===i||s(n,i)});return o.observe(r),function(t,e){sx.size||window.addEventListener("resize",ax),sx.set(t,e)}(t,s),o}function cx(t,e,n){n&&n.disconnect(),"resize"===e&&function(t){sx.delete(t),sx.size||window.removeEventListener("resize",ax)}(t)}function ux(t,e,n){const i=t.canvas,r=nb(e=>{null!==t.ctx&&n(function(t,e){const n=$_[t.type]||t.type,{x:i,y:r}=kw(t,e);return{type:n,chart:e,native:t,x:void 0!==i?i:null,y:void 0!==r?r:null}}(e,t))},t);return function(t,e,n){t&&t.addEventListener(e,n,tx)}(i,e,r),r}class hx extends Y_{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(function(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[J_]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Z_(r)){const e=Pw(t,"width");void 0!==e&&(t.width=e)}if(Z_(i))if(""===t.style.height)t.height=t.width/(e||2);else{const e=Pw(t,"height");void 0!==e&&(t.height=e)}}(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e[J_])return!1;const n=e[J_].initial;["height","width"].forEach(t=>{const i=n[t];iv(i)?e.removeAttribute(t):e.setAttribute(t,i)});const i=n.style||{};return Object.keys(i).forEach(t=>{e.style[t]=i[t]}),e.width=e.width,delete e[J_],!0}addEventListener(t,e,n){this.removeEventListener(t,e);const i=t.$proxies||(t.$proxies={}),r={attach:ix,detach:rx,resize:lx}[e]||ux;i[e]=r(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),i=n[e];if(!i)return;({attach:cx,detach:cx,resize:cx}[e]||ex)(t,e,i),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,i){return Cw(t,e,n,i)}isAttached(t){const e=t&&ww(t);return!(!e||!e.isConnected)}}class dx{constructor(){l(this,"x",void 0),l(this,"y",void 0),l(this,"active",!1),l(this,"options",void 0),l(this,"$animations",void 0)}tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return Fv(this.x)&&Fv(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const i={};return t.forEach(t=>{i[t]=n[t]&&n[t].active()?n[t]._to:this[t]}),i}}function fx(t,e){const n=t.options.ticks,i=function(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}(t),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?function(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>r)return function(t,e,n,i){let r,s=0,o=n[0];for(i=Math.ceil(i),r=0;r<t.length;r++)r===o&&(e.push(t[r]),s++,o=n[s*i])}(e,c,s,o/r),c;const u=function(t,e,n){const i=function(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}(t),r=e.length/n;if(!i)return Math.max(r,1);const s=function(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(0|n)&&e.push(n),e.sort((t,e)=>t-e).pop(),e}(i);for(let o=0,a=s.length-1;o<a;o++){const t=s[o];if(t>r)return t}return Math.max(r,1)}(s,e,r);if(o>0){let t,n;const i=o>1?Math.round((l-a)/(o-1)):null;for(px(e,c,u,iv(i)?0:a-i,a),t=0,n=o-1;t<n;t++)px(e,c,u,s[t],s[t+1]);return px(e,c,u,l,iv(i)?e.length:l+i),c}return px(e,c,u),c}function px(t,e,n,i,r){const s=lv(i,0),o=Math.min(lv(r,t.length),t.length);let a,l,c,u=0;for(n=Math.ceil(n),r&&(a=r-i,n=a/Math.floor(a/n)),c=s;c<0;)u++,c=Math.round(s+u*n);for(l=Math.max(s,0);l<o;l++)l===c&&(e.push(t[l]),u++,c=Math.round(s+u*n))}l(dx,"defaults",{}),l(dx,"defaultRoutes",void 0);const gx=(t,e,n)=>"top"===e||"left"===e?t[e]+n:t[e]-n,mx=(t,e)=>Math.min(e||t,t);function yx(t,e){const n=[],i=t.length/e,r=t.length;let s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function vx(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l,c=t.getPixelForTick(r);if(!(n&&(l=1===i?Math.max(c-s,o-c):0===e?(t.getPixelForTick(1)-c)/2:(c-t.getPixelForTick(r-1))/2,c+=r<e?l:-l,c<s-a||c>o+a)))return c}function bx(t){return t.drawTicks?t.tickLength:0}function wx(t,e){if(!t.display)return 0;const n=Yb(t.font,e),i=Qb(t.padding);return(rv(t.text)?t.text.length:1)*n.lineHeight+i.height}function _x(t,e,n){let i=ib(t);return(n&&"right"!==e||!n&&"right"===e)&&(i=(t=>"left"===t?"right":"right"===t?"left":t)(i)),i}class xx extends dx{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:i}=this;return t=av(t,Number.POSITIVE_INFINITY),e=av(e,Number.NEGATIVE_INFINITY),n=av(n,Number.POSITIVE_INFINITY),i=av(i,Number.NEGATIVE_INFINITY),{min:av(t,n),max:av(e,i),minDefined:ov(t),maxDefined:ov(e)}}getMinMax(t){let e,{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds();if(r&&s)return{min:n,max:i};const o=this.getMatchingVisibleMetas();for(let a=0,l=o.length;a<l;++a)e=o[a].controller.getMinMax(this,t),r||(n=Math.min(n,e.min)),s||(i=Math.max(i,e.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:av(n,av(i,n)),max:av(i,av(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){uv(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:i,grace:r,ticks:s}=this.options,o=s.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(t,e,n){const{min:i,max:r}=t,s=cv(e,(r-i)/2),o=(t,e)=>n&&0===t?0:t+e;return{min:o(i,-Math.abs(s)),max:o(r,s)}}(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=o<this.ticks.length;this._convertTicksToLabels(a?yx(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=fx(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,n=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,n=!n),this._startPixel=t,this._endPixel=e,this._reversePixels=n,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){uv(this.options.afterUpdate,[this])}beforeSetDimensions(){uv(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){uv(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),uv(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){uv(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,i,r;for(n=0,i=t.length;n<i;n++)r=t[n],r.label=uv(e.callback,[r.value,n,t],this)}afterTickToLabelConversion(){uv(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){uv(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=mx(this.ticks.length,t.ticks.maxTicksLimit),i=e.minRotation||0,r=e.maxRotation;let s,o,a,l=i;if(!this._isVisible()||!e.display||i>=r||n<=1||!this.isHorizontal())return void(this.labelRotation=i);const c=this._getLabelSizes(),u=c.widest.width,h=c.highest.height,d=Gv(this.chart.width-u,0,this.maxWidth);s=t.offset?this.maxWidth/n:d/(n-1),u+6>s&&(s=d/(n-(t.offset?.5:1)),o=this.maxHeight-bx(t.grid)-e.padding-wx(t.title,this.chart.options.font),a=Math.sqrt(u*u+h*h),l=zv(Math.min(Math.asin(Gv((c.highest.height+6)/s,-1,1)),Math.asin(Gv(o/a,-1,1))-Math.asin(Gv(h/a,-1,1)))),l=Math.max(i,Math.min(r,l))),this.labelRotation=l}afterCalculateLabelRotation(){uv(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){uv(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:i,grid:r}}=this,s=this._isVisible(),o=this.isHorizontal();if(s){const s=wx(i,e.options.font);if(o?(t.width=this.maxWidth,t.height=bx(r)+s):(t.height=this.maxHeight,t.width=bx(r)+s),n.display&&this.ticks.length){const{first:e,last:i,widest:r,highest:s}=this._getLabelSizes(),a=2*n.padding,l=Uv(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(o){const e=n.mirror?0:u*r.width+c*s.height;t.height=Math.min(this.maxHeight,t.height+e+a)}else{const e=n.mirror?0:c*r.width+u*s.height;t.width=Math.min(this.maxWidth,t.width+e+a)}this._calculatePadding(e,i,u,c)}}this._handleMargins(),o?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,i){const{ticks:{align:r,padding:s},position:o}=this.options,a=0!==this.labelRotation,l="top"!==o&&"x"===this.axis;if(this.isHorizontal()){const o=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,h=0;a?l?(u=i*t.width,h=n*e.height):(u=n*t.height,h=i*e.width):"start"===r?h=e.width:"end"===r?u=t.width:"inner"!==r&&(u=t.width/2,h=e.width/2),this.paddingLeft=Math.max((u-o+s)*this.width/(this.width-o),0),this.paddingRight=Math.max((h-c+s)*this.width/(this.width-c),0)}else{let n=e.height/2,i=t.height/2;"start"===r?(n=0,i=t.height):"end"===r&&(n=e.height,i=0),this.paddingTop=n+s,this.paddingBottom=i+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){uv(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,n=t.length;e<n;e++)iv(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=yx(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){const{ctx:i,_longestTextCache:r}=this,s=[],o=[],a=Math.floor(e/mx(e,n));let l,c,u,h,d,f,p,g,m,y,v,b=0,w=0;for(l=0;l<e;l+=a){if(h=t[l].label,d=this._resolveTickFontOptions(l),i.font=f=d.string,p=r[f]=r[f]||{data:{},gc:[]},g=d.lineHeight,m=y=0,iv(h)||rv(h)){if(rv(h))for(c=0,u=h.length;c<u;++c)v=h[c],iv(v)||rv(v)||(m=Tb(i,p.data,p.gc,m,v),y+=g)}else m=Tb(i,p.data,p.gc,m,h),y=g;s.push(m),o.push(y),b=Math.max(m,b),w=Math.max(y,w)}!function(t,e){hv(t,t=>{const n=t.gc,i=n.length/2;let r;if(i>e){for(r=0;r<i;++r)delete t.data[n[r]];n.splice(0,i)}})}(r,e);const _=s.indexOf(b),x=o.indexOf(w),E=t=>({width:s[t]||0,height:o[t]||0});return{first:E(0),last:E(e-1),widest:E(_),highest:E(x),widths:s,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Gv(this._alignToPixels?Ib(this.chart,e,0):e,-32768,32767)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=function(t,e,n){return Jb(t,{tick:n,index:e,type:"tick"})}(this.getContext(),t,n))}return this.$context||(this.$context=Jb(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const t=this.options.ticks,e=Uv(this.labelRotation),n=Math.abs(Math.cos(e)),i=Math.abs(Math.sin(e)),r=this._getLabelSizes(),s=t.autoSkipPadding||0,o=r?r.widest.width+s:0,a=r?r.highest.height+s:0;return this.isHorizontal()?a*n>o*i?o/n:a/i:a*i<o*n?a/n:o/i}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,i=this.options,{grid:r,position:s,border:o}=i,a=r.offset,l=this.isHorizontal(),c=this.ticks.length+(a?1:0),u=bx(r),h=[],d=o.setContext(this.getContext()),f=d.display?d.width:0,p=f/2,g=function(t){return Ib(n,t,f)};let m,y,v,b,w,_,x,E,S,k,T,C;if("top"===s)m=g(this.bottom),_=this.bottom-u,E=m-p,k=g(t.top)+p,C=t.bottom;else if("bottom"===s)m=g(this.top),k=t.top,C=g(t.bottom)-p,_=m+p,E=this.top+u;else if("left"===s)m=g(this.right),w=this.right-u,x=m-p,S=g(t.left)+p,T=t.right;else if("right"===s)m=g(this.left),S=t.left,T=g(t.right)-p,w=m+p,x=this.left+u;else if("x"===e){if("center"===s)m=g((t.top+t.bottom)/2+.5);else if(sv(s)){const t=Object.keys(s)[0],e=s[t];m=g(this.chart.scales[t].getPixelForValue(e))}k=t.top,C=t.bottom,_=m+p,E=_+u}else if("y"===e){if("center"===s)m=g((t.left+t.right)/2);else if(sv(s)){const t=Object.keys(s)[0],e=s[t];m=g(this.chart.scales[t].getPixelForValue(e))}w=m-p,x=w-u,S=t.left,T=t.right}const I=lv(i.ticks.maxTicksLimit,c),A=Math.max(1,Math.ceil(c/I));for(y=0;y<c;y+=A){const t=this.getContext(y),e=r.setContext(t),i=o.setContext(t),s=e.lineWidth,c=e.color,u=i.dash||[],d=i.dashOffset,f=e.tickWidth,p=e.tickColor,g=e.tickBorderDash||[],m=e.tickBorderDashOffset;v=vx(this,y,a),void 0!==v&&(b=Ib(n,v,s),l?w=x=S=T=b:_=E=k=C=b,h.push({tx1:w,ty1:_,tx2:x,ty2:E,x1:S,y1:k,x2:T,y2:C,width:s,color:c,borderDash:u,borderDashOffset:d,tickWidth:f,tickColor:p,tickBorderDash:g,tickBorderDashOffset:m}))}return this._ticksLength=c,this._borderValue=m,h}_computeLabelItems(t){const e=this.axis,n=this.options,{position:i,ticks:r}=n,s=this.isHorizontal(),o=this.ticks,{align:a,crossAlign:l,padding:c,mirror:u}=r,h=bx(n.grid),d=h+c,f=u?-c:d,p=-Uv(this.labelRotation),g=[];let m,y,v,b,w,_,x,E,S,k,T,C,I="middle";if("top"===i)_=this.bottom-f,x=this._getXAxisLabelAlignment();else if("bottom"===i)_=this.top+f,x=this._getXAxisLabelAlignment();else if("left"===i){const t=this._getYAxisLabelAlignment(h);x=t.textAlign,w=t.x}else if("right"===i){const t=this._getYAxisLabelAlignment(h);x=t.textAlign,w=t.x}else if("x"===e){if("center"===i)_=(t.top+t.bottom)/2+d;else if(sv(i)){const t=Object.keys(i)[0],e=i[t];_=this.chart.scales[t].getPixelForValue(e)+d}x=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===i)w=(t.left+t.right)/2-d;else if(sv(i)){const t=Object.keys(i)[0],e=i[t];w=this.chart.scales[t].getPixelForValue(e)}x=this._getYAxisLabelAlignment(h).textAlign}"y"===e&&("start"===a?I="top":"end"===a&&(I="bottom"));const A=this._getLabelSizes();for(m=0,y=o.length;m<y;++m){v=o[m],b=v.label;const t=r.setContext(this.getContext(m));E=this.getPixelForTick(m)+r.labelOffset,S=this._resolveTickFontOptions(m),k=S.lineHeight,T=rv(b)?b.length:1;const e=T/2,n=t.color,a=t.textStrokeColor,c=t.textStrokeWidth;let h,d=x;if(s?(w=E,"inner"===x&&(d=m===y-1?this.options.reverse?"left":"right":0===m?this.options.reverse?"right":"left":"center"),C="top"===i?"near"===l||0!==p?-T*k+k/2:"center"===l?-A.highest.height/2-e*k+k:-A.highest.height+k/2:"near"===l||0!==p?k/2:"center"===l?A.highest.height/2-e*k:A.highest.height-T*k,u&&(C*=-1),0===p||t.showLabelBackdrop||(w+=k/2*Math.sin(p))):(_=E,C=(1-T)*k/2),t.showLabelBackdrop){const e=Qb(t.backdropPadding),n=A.heights[m],i=A.widths[m];let r=C-e.top,s=0-e.left;switch(I){case"middle":r-=n/2;break;case"bottom":r-=n}switch(x){case"center":s-=i/2;break;case"right":s-=i;break;case"inner":m===y-1?s-=i:m>0&&(s-=i/2)}h={left:s,top:r,width:i+e.width,height:n+e.height,color:t.backdropColor}}g.push({label:b,font:S,textOffset:C,options:{rotation:p,color:n,strokeColor:a,strokeWidth:c,textAlign:d,textBaseline:I,translation:[w,_],backdrop:h}})}return g}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Uv(this.labelRotation))return"top"===t?"left":"right";let n="center";return"start"===e.align?n="left":"end"===e.align?n="right":"inner"===e.align&&(n="inner"),n}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:i,padding:r}}=this.options,s=t+r,o=this._getLabelSizes().widest.width;let a,l;return"left"===e?i?(l=this.right+r,"near"===n?a="left":"center"===n?(a="center",l+=o/2):(a="right",l+=o)):(l=this.right-s,"near"===n?a="right":"center"===n?(a="center",l-=o/2):(a="left",l=this.left)):"right"===e?i?(l=this.left+r,"near"===n?a="right":"center"===n?(a="center",l-=o/2):(a="left",l-=o)):(l=this.left+s,"near"===n?a="left":"center"===n?(a="center",l+=o/2):(a="right",l=this.right)):a="right",{textAlign:a,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:i,width:r,height:s}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,i,r,s),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const n=this.ticks.findIndex(e=>e.value===t);if(n>=0){return e.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(t){const e=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,s;const o=(t,e,i)=>{i.width&&i.color&&(n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.setLineDash(i.borderDash||[]),n.lineDashOffset=i.borderDashOffset,n.beginPath(),n.moveTo(t.x,t.y),n.lineTo(e.x,e.y),n.stroke(),n.restore())};if(e.display)for(r=0,s=i.length;r<s;++r){const t=i[r];e.drawOnChartArea&&o({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&o({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:n,grid:i}}=this,r=n.setContext(this.getContext()),s=n.display?r.width:0;if(!s)return;const o=i.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,c,u,h;this.isHorizontal()?(l=Ib(t,this.left,s)-s/2,c=Ib(t,this.right,o)+o/2,u=h=a):(u=Ib(t,this.top,s)-s/2,h=Ib(t,this.bottom,o)+o/2,l=c=a),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(l,u),e.lineTo(c,h),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const e=this.ctx,n=this._computeLabelArea();n&&Mb(e,n);const i=this.getLabelItems(t);for(const r of i){const t=r.options,n=r.font;Ub(e,r.label,0,r.textOffset,n,t)}n&&Db(e)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:i}}=this;if(!n.display)return;const r=Yb(n.font),s=Qb(n.padding),o=n.align;let a=r.lineHeight/2;"bottom"===e||"center"===e||sv(e)?(a+=s.bottom,rv(n.text)&&(a+=r.lineHeight*(n.text.length-1))):a+=s.top;const{titleX:l,titleY:c,maxWidth:u,rotation:h}=function(t,e,n,i){const{top:r,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let h,d,f,p=0;const g=o-r,m=a-s;if(t.isHorizontal()){if(d=rb(i,s,a),sv(n)){const t=Object.keys(n)[0],i=n[t];f=u[t].getPixelForValue(i)+g-e}else f="center"===n?(c.bottom+c.top)/2+g-e:gx(t,n,e);h=a-s}else{if(sv(n)){const t=Object.keys(n)[0],i=n[t];d=u[t].getPixelForValue(i)-m+e}else d="center"===n?(c.left+c.right)/2-m+e:gx(t,n,e);f=rb(i,o,r),p="left"===n?-Pv:Pv}return{titleX:d,titleY:f,maxWidth:h,rotation:p}}(this,a,e,o);Ub(t,n.text,0,0,r,{color:n.color,maxWidth:u,rotation:h,textAlign:_x(o,e,i),textBaseline:"middle",translation:[l,c]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=lv(t.grid&&t.grid.z,-1),i=lv(t.border&&t.border.z,0);return this._isVisible()&&this.draw===xx.prototype.draw?[{z:n,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let r,s;for(r=0,s=e.length;r<s;++r){const s=e[r];s[n]!==this.id||t&&s.type!==t||i.push(s)}return i}_resolveTickFontOptions(t){return Yb(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Ex{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;(function(t){return"id"in t&&"defaults"in t})(e)&&(n=this.register(e));const i=this.items,r=t.id,s=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in i||(i[r]=t,function(t,e,n){const i=mv(Object.create(null),[n?kb.get(n):{},kb.get(e),t.defaults]);kb.set(e,i),t.defaultRoutes&&function(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");kb.route(s,r,l,a)})}(e,t.defaultRoutes);t.descriptors&&kb.describe(e,t.descriptors)}(t,s,n),this.override&&kb.override(t.id,t.overrides)),s}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,i=this.scope;n in e&&delete e[n],i&&n in kb[i]&&(delete kb[i][n],this.override&&delete wb[n])}}class Sx{constructor(){this.controllers=new Ex(c_,"datasets",!0),this.elements=new Ex(dx,"elements"),this.plugins=new Ex(Object,"plugins"),this.scales=new Ex(xx,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e)}remove(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e)}addControllers(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.controllers)}addElements(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.elements)}addPlugins(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.plugins)}addScales(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.controllers)}removeElements(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.elements)}removePlugins(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.plugins)}removeScales(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.scales)}_each(t,e,n){[...e].forEach(e=>{const i=n||this._getRegistryForType(e);n||i.isForType(e)||i===this.plugins&&e.id?this._exec(t,i,e):hv(e,e=>{const i=n||this._getRegistryForType(e);this._exec(t,i,e)})})}_exec(t,e,n){const i=_v(t);uv(n["before"+i],[],n),e[t](n),uv(n["after"+i],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const i=e.get(t);if(void 0===i)throw new Error('"'+t+'" is not a registered '+n+".");return i}}var kx=new Sx;class Tx{constructor(){this._init=[]}notify(t,e,n,i){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=i?this._descriptors(t).filter(i):this._descriptors(t),s=this._notify(r,t,e,n);return"afterDestroy"===e&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),s}_notify(t,e,n,i){i=i||{};for(const r of t){const t=r.plugin;if(!1===uv(t[n],[e,i,r.options],t)&&i.cancelable)return!1}return!0}invalidate(){iv(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,i=lv(n.options&&n.options.plugins,{}),r=function(t){const e={},n=[],i=Object.keys(kx.plugins.items);for(let s=0;s<i.length;s++)n.push(kx.getPlugin(i[s]));const r=t.plugins||[];for(let s=0;s<r.length;s++){const t=r[s];-1===n.indexOf(t)&&(n.push(t),e[t.id]=!0)}return{plugins:n,localIds:e}}(n);return!1!==i||e?function(t,e,n,i){let{plugins:r,localIds:s}=e;const o=[],a=t.getContext();for(const l of r){const e=l.id,r=Cx(n[e],i);null!==r&&o.push({plugin:l,options:Ix(t.config,{plugin:l,local:s[e]},r,a)})}return o}(t,r,i,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,i=(t,e)=>t.filter(t=>!e.some(e=>t.plugin.id===e.plugin.id));this._notify(i(e,n),t,"stop"),this._notify(i(n,e),t,"start")}}function Cx(t,e){return e||!1!==t?!0===t?{}:t:null}function Ix(t,e,n,i){let{plugin:r,local:s}=e;const o=t.pluginScopeKeys(r),a=t.getOptionScopes(n,o);return s&&r.defaults&&a.push(r.defaults),t.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ax(t,e){const n=kb.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Px(t){if("x"===t||"y"===t||"r"===t)return t}function Rx(t){return"top"===t||"bottom"===t?"x":"left"===t||"right"===t?"y":void 0}function Ox(t){if(Px(t))return t;for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(const r of n){const e=r.axis||Rx(r.position)||t.length>1&&Px(t[0].toLowerCase());if(e)return e}throw new Error("Cannot determine type of '".concat(t,"' axis. Please provide 'axis' or 'position' option."))}function Mx(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function Dx(t,e){const n=wb[t.type]||{scales:{}},i=e.scales||{},r=Ax(t.type,e),s=Object.create(null);return Object.keys(i).forEach(e=>{const o=i[e];if(!sv(o))return console.error("Invalid scale configuration for scale: ".concat(e));if(o._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(e));const a=Ox(e,o,function(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(e=>e.xAxisID===t||e.yAxisID===t);if(n.length)return Mx(t,"x",n[0])||Mx(t,"y",n[0])}return{}}(e,t),kb.scales[o.type]),l=function(t,e){return t===e?"_index_":"_value_"}(a,r),c=n.scales||{};s[e]=yv(Object.create(null),[{axis:a},o,c[a],c[l]])}),t.data.datasets.forEach(n=>{const r=n.type||t.type,o=n.indexAxis||Ax(r,e),a=(wb[r]||{}).scales||{};Object.keys(a).forEach(t=>{const e=function(t,e){let n=t;return"_index_"===t?n=e:"_value_"===t&&(n="x"===e?"y":"x"),n}(t,o),r=n[e+"AxisID"]||e;s[r]=s[r]||Object.create(null),yv(s[r],[{axis:e},i[r],a[t]])})}),Object.keys(s).forEach(t=>{const e=s[t];yv(e,[kb.scales[e.type],kb.scale])}),s}function Nx(t){const e=t.options||(t.options={});e.plugins=lv(e.plugins,{}),e.scales=Dx(t,e)}function Lx(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const Fx=new Map,Vx=new Set;function Ux(t,e){let n=Fx.get(t);return n||(n=e(),Fx.set(t,n),Vx.add(n)),n}const zx=(t,e,n)=>{const i=wv(e,n);void 0!==i&&t.add(i)};class jx{constructor(t){this._config=function(t){return(t=t||{}).data=Lx(t.data),Nx(t),t}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Lx(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Nx(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Ux(t,()=>[["datasets.".concat(t),""]])}datasetAnimationScopeKeys(t,e){return Ux("".concat(t,".transition.").concat(e),()=>[["datasets.".concat(t,".transitions.").concat(e),"transitions.".concat(e)],["datasets.".concat(t),""]])}datasetElementScopeKeys(t,e){return Ux("".concat(t,"-").concat(e),()=>[["datasets.".concat(t,".elements.").concat(e),"datasets.".concat(t),"elements.".concat(e),""]])}pluginScopeKeys(t){const e=t.id,n=this.type;return Ux("".concat(n,"-plugin-").concat(e),()=>[["plugins.".concat(e),...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const n=this._scopeCache;let i=n.get(t);return i&&!e||(i=new Map,n.set(t,i)),i}getOptionScopes(t,e,n){const{options:i,type:r}=this,s=this._cachedScopes(t,n),o=s.get(e);if(o)return o;const a=new Set;e.forEach(e=>{t&&(a.add(t),e.forEach(e=>zx(a,t,e))),e.forEach(t=>zx(a,i,t)),e.forEach(t=>zx(a,wb[r]||{},t)),e.forEach(t=>zx(a,kb,t)),e.forEach(t=>zx(a,_b,t))});const l=Array.from(a);return 0===l.length&&l.push(Object.create(null)),Vx.has(e)&&s.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,wb[e]||{},kb.datasets[e]||{},{type:e},kb,_b]}resolveNamedOptions(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const r={$shared:!0},{resolver:s,subPrefixes:o}=Bx(this._resolverCache,t,i);let a=s;if(function(t,e){const{isScriptable:n,isIndexable:i}=tw(t);for(const r of e){const e=n(r),s=i(r),o=(s||e)&&t[r];if(e&&(Ev(o)||Hx(o))||s&&rv(o))return!0}return!1}(s,e)){r.$shared=!1;a=Zb(s,n=Ev(n)?n():n,this.createResolver(t,n,o))}for(const l of e)r[l]=a[l];return r}createResolver(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],i=arguments.length>3?arguments[3]:void 0;const{resolver:r}=Bx(this._resolverCache,t,n);return sv(e)?Zb(r,e,void 0,i):r}}function Bx(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let s=i.get(r);if(!s){s={resolver:$b(e,n),subPrefixes:n.filter(t=>!t.toLowerCase().includes("hover"))},i.set(r,s)}return s}const Hx=t=>sv(t)&&Object.getOwnPropertyNames(t).some(e=>Ev(t[e]));const Wx=["top","bottom","left","right","chartArea"];function qx(t,e){return"top"===t||"bottom"===t||-1===Wx.indexOf(t)&&"x"===e}function Kx(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function Gx(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),uv(n&&n.onComplete,[t],e)}function Qx(t){const e=t.chart,n=e.options.animation;uv(n&&n.onProgress,[t],e)}function Yx(t){return bw()&&"string"===typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Xx={},Jx=t=>{const e=Yx(t);return Object.values(Xx).filter(t=>t.canvas===e).pop()};function $x(t,e,n){const i=Object.keys(t);for(const r of i){const i=+r;if(i>=e){const s=t[r];delete t[r],(n>0||i>e)&&(t[i+n]=s)}}}class Zx{static register(){kx.add(...arguments),tE()}static unregister(){kx.remove(...arguments),tE()}constructor(t,e){const n=this.config=new jx(e),i=Yx(t),r=Jx(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(t){return!bw()||"undefined"!==typeof OffscreenCanvas&&t instanceof OffscreenCanvas?X_:hx}(i)),this.platform.updateConfig(n);const o=this.platform.acquireContext(i,s.aspectRatio),a=o&&o.canvas,l=a&&a.height,c=a&&a.width;this.id=nv(),this.ctx=o,this.canvas=a,this.width=c,this.height=l,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Tx,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(t,e){let n;return function(){for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}(t=>this.update(t),s.resizeDelay||0),this._dataChanges=[],Xx[this.id]=this,o&&a?(Gw.listen(this,"complete",Gx),Gw.listen(this,"progress",Qx),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:i,_aspectRatio:r}=this;return iv(t)?e&&r?r:i?n/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return kx}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Iw(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ab(this.canvas,this.ctx),this}stop(){return Gw.stop(this),this}resize(t,e){Gw.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,i=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(i,t,e,r),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,Iw(this,o,!0)&&(this.notifyPlugins("resize",{size:s}),uv(n.onResize,[this,s],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){hv(this.options.scales||{},(t,e)=>{t.id=e})}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,i=Object.keys(n).reduce((t,e)=>(t[e]=!1,t),{});let r=[];e&&(r=r.concat(Object.keys(e).map(t=>{const n=e[t],i=Ox(t,n),r="r"===i,s="x"===i;return{options:n,dposition:r?"chartArea":s?"bottom":"left",dtype:r?"radialLinear":s?"category":"linear"}}))),hv(r,e=>{const r=e.options,s=r.id,o=Ox(s,r),a=lv(r.type,e.dtype);void 0!==r.position&&qx(r.position,o)===qx(e.dposition)||(r.position=e.dposition),i[s]=!0;let l=null;if(s in n&&n[s].type===a)l=n[s];else{l=new(kx.getScale(a))({id:s,type:a,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(r,t)}),hv(i,(t,e)=>{t||delete n[e]}),hv(n,t=>{Q_.configure(this,t,t.options),Q_.addBox(this,t)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort((t,e)=>t.index-e.index),n>e){for(let t=e;t<n;++t)this._destroyDatasetMeta(t);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(Kx("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((t,n)=>{0===e.filter(e=>e===t._dataset).length&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=e.length;n<i;n++){const i=e[n];let r=this.getDatasetMeta(n);const s=i.type||this.config.type;if(r.type&&r.type!==s&&(this._destroyDatasetMeta(n),r=this.getDatasetMeta(n)),r.type=s,r.indexAxis=i.indexAxis||Ax(s,this.options),r.order=i.order||0,r.index=n,r.label=""+i.label,r.visible=this.isDatasetVisible(n),r.controller)r.controller.updateIndex(n),r.controller.linkScales();else{const e=kx.getController(s),{datasetElementType:i,dataElementType:o}=kb.datasets[s];Object.assign(e,{dataElementType:kx.getElement(o),datasetElementType:i&&kx.getElement(i)}),r.controller=new e(this,n),t.push(r.controller)}}return this._updateMetasets(),t}_resetElements(){hv(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:t}=this.getDatasetMeta(l),e=!i&&-1===r.indexOf(t);t.buildOrUpdateElements(e),s=Math.max(+t.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),i||hv(r,t=>{t.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Kx("z","_idx"));const{_active:o,_lastEvent:a}=this;a?this._eventHandler(a,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){hv(this.scales,t=>{Q_.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);Sv(e,n)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:r}of e){$x(t,i,"_removeElements"===n?-r:r)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=e=>new Set(t.filter(t=>t[0]===e).map((t,e)=>e+","+t.splice(1).join(","))),i=n(0);for(let r=1;r<e;r++)if(!Sv(i,n(r)))return;return Array.from(i).map(t=>t.split(",")).map(t=>({method:t[1],start:+t[2],count:+t[3]}))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Q_.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],hv(this.boxes,t=>{n&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))},this),this._layers.forEach((t,e)=>{t._idx=e}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,Ev(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),i={meta:n,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(n.controller._update(e),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Gw.has(this)?this.attached&&!Gw.running(this)&&Gw.start(this):(this.draw(),Gx({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(t,e)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let i,r;for(i=0,r=e.length;i<r;++i){const r=e[i];t&&!r.visible||n.push(r)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n={meta:t,index:t.index,cancelable:!0},i=qw(this,t);!1!==this.notifyPlugins("beforeDatasetDraw",n)&&(i&&Mb(e,i),t.controller.draw(),i&&Db(e),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(t){return Ob(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,i){const r=N_.modes[e];return"function"===typeof r?r(this,t,n,i):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let i=n.filter(t=>t&&t._dataset===e).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=Jb(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return"boolean"===typeof n.hidden?!n.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const i=n?"show":"hide",r=this.getDatasetMeta(t),s=r.controller._resolveAnimations(void 0,i);xv(e)?(r.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),s.update(r,{visible:n}),this.update(e=>e.datasetIndex===t?i:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Gw.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Ab(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Xx[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,n=(n,i)=>{e.addEventListener(this,n,i),t[n]=i},i=(t,e,n)=>{t.offsetX=e,t.offsetY=n,this._eventHandler(t)};hv(this.options.events,t=>n(t,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,n=(n,i)=>{e.addEventListener(this,n,i),t[n]=i},i=(n,i)=>{t[n]&&(e.removeEventListener(this,n,i),delete t[n])},r=(t,e)=>{this.canvas&&this.resize(t,e)};let s;const o=()=>{i("attach",o),this.attached=!0,this.resize(),n("resize",r),n("detach",s)};s=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),n("attach",o)},e.isAttached(this.canvas)?o():s()}unbindEvents(){hv(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},hv(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){const i=n?"set":"remove";let r,s,o,a;for("dataset"===e&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),o=0,a=t.length;o<a;++o){s=t[o];const e=s&&this.getDatasetMeta(s.datasetIndex).controller;e&&e[i+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map(t=>{let{datasetIndex:e,index:n}=t;const i=this.getDatasetMeta(e);if(!i)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:i.data[n],index:n}});!dv(n,e)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}isPluginEnabled(t){return 1===this._plugins._cache.filter(e=>e.plugin.id===t).length}_updateHoverStyles(t,e,n){const i=this.options.hover,r=(t,e)=>t.filter(t=>!e.some(e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)),s=r(e,t),o=n?t:r(t,e);s.length&&this.updateHoverStyle(s,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},i=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",n,i))return;const r=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(r||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:i=[],options:r}=this,s=e,o=this._getActiveElements(t,i,n,s),a=function(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}(t),l=function(t,e,n,i){return n&&"mouseout"!==t.type?i?e:t:null}(t,this._lastEvent,n,a);n&&(this._lastEvent=null,uv(r.onHover,[t,o,this],this),a&&uv(r.onClick,[t,o,this],this));const c=!dv(o,i);return(c||e)&&(this._active=o,this._updateHoverStyles(o,i,e)),this._lastEvent=l,c}_getActiveElements(t,e,n,i){if("mouseout"===t.type)return[];if(!n)return e;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,i)}}function tE(){return hv(Zx.instances,t=>t._plugins.invalidate())}function eE(t,e,n,i){const r=qb(t.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const s=(n-e)/2,o=Math.min(s,i*e/2),a=t=>{const e=(n-Math.min(s,t))*i/2;return Gv(t,0,Math.min(s,e))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:Gv(r.innerStart,0,o),innerEnd:Gv(r.innerEnd,0,o)}}function nE(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function iE(t,e,n,i,r,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,h=Math.max(e.outerRadius+i+n-c,0),d=u>0?u+i+n+c:0;let f=0;const p=r-l;if(i){const t=((u>0?u-i:0)+(h>0?h-i:0))/2;f=(p-(0!==t?p*t/(t+i):p))/2}const g=(p-Math.max(.001,p*h-n/kv)/h)/2,m=l+g+f,y=r-g-f,{outerStart:v,outerEnd:b,innerStart:w,innerEnd:_}=eE(e,d,h,y-m),x=h-v,E=h-b,S=m+v/x,k=y-b/E,T=d+w,C=d+_,I=m+w/T,A=y-_/C;if(t.beginPath(),s){const e=(S+k)/2;if(t.arc(o,a,h,S,e),t.arc(o,a,h,e,k),b>0){const e=nE(E,k,o,a);t.arc(e.x,e.y,b,k,y+Pv)}const n=nE(C,y,o,a);if(t.lineTo(n.x,n.y),_>0){const e=nE(C,A,o,a);t.arc(e.x,e.y,_,y+Pv,A+Math.PI)}const i=(y-_/d+(m+w/d))/2;if(t.arc(o,a,d,y-_/d,i,!0),t.arc(o,a,d,i,m+w/d,!0),w>0){const e=nE(T,I,o,a);t.arc(e.x,e.y,w,I+Math.PI,m-Pv)}const r=nE(x,m,o,a);if(t.lineTo(r.x,r.y),v>0){const e=nE(x,S,o,a);t.arc(e.x,e.y,v,m-Pv,S)}}else{t.moveTo(o,a);const e=Math.cos(S)*h+o,n=Math.sin(S)*h+a;t.lineTo(e,n);const i=Math.cos(k)*h+o,r=Math.sin(k)*h+a;t.lineTo(i,r)}t.closePath()}function rE(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:d,borderRadius:f}=l,p="inner"===l.borderAlign;if(!c)return;t.setLineDash(h||[]),t.lineDashOffset=d,p?(t.lineWidth=2*c,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let g=e.endAngle;if(s){iE(t,e,n,i,g,r);for(let e=0;e<s;++e)t.stroke();isNaN(a)||(g=o+(a%Tv||Tv))}p&&function(t,e,n){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=e;let c=r/a;t.beginPath(),t.arc(s,o,a,i-c,n+c),l>r?(c=r/l,t.arc(s,o,l,n+c,i-c,!0)):t.arc(s,o,r,n+Pv,i-Pv),t.closePath(),t.clip()}(t,e,g),l.selfJoin&&g-o>=kv&&0===f&&"miter"!==u&&function(t,e,n){const{startAngle:i,x:r,y:s,outerRadius:o,innerRadius:a,options:l}=e,{borderWidth:c,borderJoinStyle:u}=l,h=Math.min(c/o,qv(i-n));if(t.beginPath(),t.arc(r,s,o-c/2,i+h/2,n-h/2),a>0){const e=Math.min(c/a,qv(i-n));t.arc(r,s,a+c/2,n-e/2,i+e/2,!0)}else{const e=Math.min(c/2,o*qv(i-n));if("round"===u)t.arc(r,s,e,n-kv/2,i+kv/2,!0);else if("bevel"===u){const o=2*e*e,a=-o*Math.cos(n+kv/2)+r,l=-o*Math.sin(n+kv/2)+s,c=o*Math.cos(i+kv/2)+r,u=o*Math.sin(i+kv/2)+s;t.lineTo(a,l),t.lineTo(c,u)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}(t,e,g),s||(iE(t,e,n,i,g,r),t.stroke())}l(Zx,"defaults",kb),l(Zx,"instances",Xx),l(Zx,"overrides",wb),l(Zx,"registry",kx),l(Zx,"version","4.5.0"),l(Zx,"getChart",Jx);class sE extends dx{constructor(t){super(),l(this,"circumference",void 0),l(this,"endAngle",void 0),l(this,"fullCircles",void 0),l(this,"innerRadius",void 0),l(this,"outerRadius",void 0),l(this,"pixelMargin",void 0),l(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){const i=this.getProps(["x","y"],n),{angle:r,distance:s}=Bv(i,{x:t,y:e}),{startAngle:o,endAngle:a,innerRadius:l,outerRadius:c,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),h=(this.options.spacing+this.options.borderWidth)/2,d=lv(u,a-o),f=Kv(r,o,a)&&o!==a,p=d>=Tv||f,g=Qv(s,l+h,c+h);return p&&g}getCenterPoint(t){const{x:e,y:n,startAngle:i,endAngle:r,innerRadius:s,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:a,spacing:l}=this.options,c=(i+r)/2,u=(s+o+l+a)/2;return{x:e+Math.cos(c)*u,y:n+Math.sin(c)*u}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:n}=this,i=(e.offset||0)/4,r=(e.spacing||0)/2,s=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=n>Tv?Math.floor(n/Tv):0,0===n||this.innerRadius<0||this.outerRadius<0)return;t.save();const o=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(o)*i,Math.sin(o)*i);const a=i*(1-Math.sin(Math.min(kv,n||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){iE(t,e,n,i,l,r);for(let e=0;e<s;++e)t.fill();isNaN(a)||(l=o+(a%Tv||Tv))}iE(t,e,n,i,l,r),t.fill()}(t,this,a,r,s),rE(t,this,a,r,s),t.restore()}}function oE(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;t.lineCap=lv(n.borderCapStyle,e.borderCapStyle),t.setLineDash(lv(n.borderDash,e.borderDash)),t.lineDashOffset=lv(n.borderDashOffset,e.borderDashOffset),t.lineJoin=lv(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=lv(n.borderWidth,e.borderWidth),t.strokeStyle=lv(n.borderColor,e.borderColor)}function aE(t,e,n){t.lineTo(n.x,n.y)}function lE(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=t.length,{start:r=0,end:s=i-1}=n,{start:o,end:a}=e,l=Math.max(r,o),c=Math.min(s,a),u=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:e.loop,ilen:c<l&&!u?i+c-l:c-l}}function cE(t,e,n,i){const{points:r,options:s}=e,{count:o,start:a,loop:l,ilen:c}=lE(r,n,i),u=function(t){return t.stepped?Nb:t.tension||"monotone"===t.cubicInterpolationMode?Lb:aE}(s);let h,d,f,{move:p=!0,reverse:g}=i||{};for(h=0;h<=c;++h)d=r[(a+(g?c-h:h))%o],d.skip||(p?(t.moveTo(d.x,d.y),p=!1):u(t,f,d,g,s.stepped),f=d);return l&&(d=r[(a+(g?c:0))%o],u(t,f,d,g,s.stepped)),!!l}function uE(t,e,n,i){const r=e.points,{count:s,start:o,ilen:a}=lE(r,n,i),{move:l=!0,reverse:c}=i||{};let u,h,d,f,p,g,m=0,y=0;const v=t=>(o+(c?a-t:t))%s,b=()=>{f!==p&&(t.lineTo(m,p),t.lineTo(m,f),t.lineTo(m,g))};for(l&&(h=r[v(0)],t.moveTo(h.x,h.y)),u=0;u<=a;++u){if(h=r[v(u)],h.skip)continue;const e=h.x,n=h.y,i=0|e;i===d?(n<f?f=n:n>p&&(p=n),m=(y*m+e)/++y):(b(),t.lineTo(e,n),d=i,y=0,f=p=n),g=n}b()}function hE(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&"monotone"!==e.cubicInterpolationMode&&!e.stepped&&!n?uE:cE}l(sE,"id","arc"),l(sE,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),l(sE,"defaultRoutes",{backgroundColor:"backgroundColor"}),l(sE,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t});const dE="function"===typeof Path2D;function fE(t,e,n,i){dE&&!e.options.segment?function(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),oE(t,e.options),t.stroke(r)}(t,e,n,i):function(t,e,n,i){const{segments:r,options:s}=e,o=hE(e);for(const a of r)oE(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}(t,e,n,i)}class pE extends dx{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;vw(this._points,n,t,i,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const s=!!t._loop,{start:o,end:a}=function(t,e,n,i){let r=0,s=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(s+=r);s>r&&t[s%e].skip;)s--;return s%=e,{start:r,end:s}}(n,r,s,i);return jw(t,!0===i?[{start:o,end:a,loop:s}]:function(t,e,n,i){const r=t.length,s=[];let o,a=e,l=t[e];for(o=e+1;o<=n;++o){const n=t[o%r];n.skip||n.stop?l.skip||(i=!1,s.push({start:e%r,end:(o-1)%r,loop:i}),e=a=n.stop?o:null):(a=o,l.skip&&(e=o)),l=n}return null!==a&&s.push({start:e%r,end:a%r,loop:i}),s}(n,o,a<o?a+r:a,!!t._fullLoop&&0===o&&a===r-1),n,e)}(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,n=t.length;return n&&e[t[n-1].end]}interpolate(t,e){const n=this.options,i=t[e],r=this.points,s=zw(this,{property:e,start:i,end:i});if(!s.length)return;const o=[],a=function(t){return t.stepped?Ow:t.tension||"monotone"===t.cubicInterpolationMode?Mw:Rw}(n);let l,c;for(l=0,c=s.length;l<c;++l){const{start:c,end:u}=s[l],h=r[c],d=r[u];if(h===d){o.push(h);continue}const f=a(h,d,Math.abs((i-h[e])/(d[e]-h[e])),n.stepped);f[e]=t[e],o.push(f)}return 1===o.length?o[0]:o}pathSegment(t,e,n){return hE(this)(t,this,e,n)}path(t,e,n){const i=this.segments,r=hE(this);let s=this._loop;e=e||0,n=n||this.points.length-e;for(const o of i)s&=r(t,this,o,{start:e,end:e+n-1});return!!s}draw(t,e,n,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),fE(t,this,n,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function gE(t,e,n,i){const r=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<r.radius+r.hitRadius}l(pE,"id","line"),l(pE,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),l(pE,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),l(pE,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t});class mE extends dx{constructor(t){super(),l(this,"parsed",void 0),l(this,"skip",void 0),l(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,n){const i=this.options,{x:r,y:s}=this.getProps(["x","y"],n);return Math.pow(t-r,2)+Math.pow(e-s,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,e){return gE(this,t,"x",e)}inYRange(t,e){return gE(this,t,"y",e)}getCenterPoint(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}size(t){let e=(t=t||this.options||{}).radius||0;e=Math.max(e,e&&t.hoverRadius||0);return 2*(e+(e&&t.borderWidth||0))}draw(t,e){const n=this.options;this.skip||n.radius<.1||!Ob(this,e,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,Pb(t,n,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function yE(t,e){const{x:n,y:i,base:r,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,h;return t.horizontal?(h=o/2,a=Math.min(n,r),l=Math.max(n,r),c=i-h,u=i+h):(h=s/2,a=n-h,l=n+h,c=Math.min(i,r),u=Math.max(i,r)),{left:a,top:c,right:l,bottom:u}}function vE(t,e,n,i){return t?0:Gv(e,n,i)}function bE(t){const e=yE(t),n=e.right-e.left,i=e.bottom-e.top,r=function(t,e,n){const i=t.options.borderWidth,r=t.borderSkipped,s=Kb(i);return{t:vE(r.top,s.top,0,n),r:vE(r.right,s.right,0,e),b:vE(r.bottom,s.bottom,0,n),l:vE(r.left,s.left,0,e)}}(t,n/2,i/2),s=function(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,s=Gb(r),o=Math.min(e,n),a=t.borderSkipped,l=i||sv(r);return{topLeft:vE(!l||a.top||a.left,s.topLeft,0,o),topRight:vE(!l||a.top||a.right,s.topRight,0,o),bottomLeft:vE(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:vE(!l||a.bottom||a.right,s.bottomRight,0,o)}}(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function wE(t,e,n,i){const r=null===e,s=null===n,o=t&&!(r&&s)&&yE(t,i);return o&&(r||Qv(e,o.left,o.right))&&(s||Qv(n,o.top,o.bottom))}function _E(t,e){t.rect(e.x,e.y,e.w,e.h)}function xE(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+i,y:t.y+r,w:t.w+s,h:t.h+o,radius:t.radius}}l(mE,"id","point"),l(mE,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),l(mE,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class EE extends dx{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:i}}=this,{inner:r,outer:s}=bE(this),o=(a=s.radius).topLeft||a.topRight||a.bottomLeft||a.bottomRight?zb:_E;var a;t.save(),s.w===r.w&&s.h===r.h||(t.beginPath(),o(t,xE(s,e,r)),t.clip(),o(t,xE(r,-e,s)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),o(t,xE(r,e)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,e,n){return wE(this,t,e,n)}inXRange(t,e){return wE(this,t,null,e)}inYRange(t,e){return wE(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+i)/2:e,y:r?n:(n+i)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}l(EE,"id","bar"),l(EE,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),l(EE,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});new WeakMap;const SE={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,s=0;for(e=0,n=t.length;e<n;++e){const n=t[e].element;if(n&&n.hasValue()){const t=n.tooltipPosition();i.add(t.x),r+=t.y,++s}}if(0===s||0===i.size)return!1;return{x:[...i].reduce((t,e)=>t+e)/i.size,y:r/s}},nearest(t,e){if(!t.length)return!1;let n,i,r,s=e.x,o=e.y,a=Number.POSITIVE_INFINITY;for(n=0,i=t.length;n<i;++n){const i=t[n].element;if(i&&i.hasValue()){const t=Hv(e,i.getCenterPoint());t<a&&(a=t,r=i)}}if(r){const t=r.tooltipPosition();s=t.x,o=t.y}return{x:s,y:o}}};function kE(t,e){return e&&(rv(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function TE(t){return("string"===typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function CE(t,e){const{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:t,label:o,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function IE(t,e){const n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=Yb(e.bodyFont),c=Yb(e.titleFont),u=Yb(e.footerFont),h=s.length,d=r.length,f=i.length,p=Qb(e.padding);let g=p.height,m=0,y=i.reduce((t,e)=>t+e.before.length+e.lines.length+e.after.length,0);if(y+=t.beforeBody.length+t.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),y){g+=f*(e.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(y-f)*l.lineHeight+(y-1)*e.bodySpacing}d&&(g+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let v=0;const b=function(t){m=Math.max(m,n.measureText(t).width+v)};return n.save(),n.font=c.string,hv(t.title,b),n.font=l.string,hv(t.beforeBody.concat(t.afterBody),b),v=e.displayColors?o+2+e.boxPadding:0,hv(i,t=>{hv(t.before,b),hv(t.lines,b),hv(t.after,b)}),v=0,n.font=u.string,hv(t.footer,b),n.restore(),m+=p.width,{width:m,height:g}}function AE(t,e,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return"center"===i?c=r<=(a+l)/2?"left":"right":r<=s/2?c="left":r>=o-s/2&&(c="right"),function(t,e,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;return"left"===t&&r+s+o>e.width||"right"===t&&r-s-o<0||void 0}(c,t,e,n)&&(c="center"),c}function PE(t,e,n){const i=n.yAlign||e.yAlign||function(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}(t,n);return{xAlign:n.xAlign||e.xAlign||AE(t,e,n,i),yAlign:i}}function RE(t,e,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=r+s,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=Gb(o);let p=function(t,e){let{x:n,width:i}=t;return"right"===e?n-=i:"center"===e&&(n-=i/2),n}(e,a);const g=function(t,e,n){let{y:i,height:r}=t;return"top"===e?i+=n:i-="bottom"===e?r+n:r/2,i}(e,l,c);return"center"===l?"left"===a?p+=c:"right"===a&&(p-=c):"left"===a?p-=Math.max(u,d)+r:"right"===a&&(p+=Math.max(h,f)+r),{x:Gv(p,0,i.width-e.width),y:Gv(g,0,i.height-e.height)}}function OE(t,e,n){const i=Qb(n.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-i.right:t.x+i.left}function ME(t){return kE([],TE(t))}function DE(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const NE={beforeTitle:ev,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:ev,beforeBody:ev,beforeLabel:ev,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return iv(n)||(e+=n),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:ev,afterBody:ev,beforeFooter:ev,footer:ev,afterFooter:ev};function LE(t,e,n,i){const r=t[e].call(n,i);return"undefined"===typeof r?NE[e].call(n,i):r}class FE extends dx{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&e.options.animation&&n.animations,r=new Jw(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=(t=this.chart.getContext(),e=this,n=this._tooltipItems,Jb(t,{tooltip:e,tooltipItems:n,type:"tooltip"})));var t,e,n}getTitle(t,e){const{callbacks:n}=e,i=LE(n,"beforeTitle",this,t),r=LE(n,"title",this,t),s=LE(n,"afterTitle",this,t);let o=[];return o=kE(o,TE(i)),o=kE(o,TE(r)),o=kE(o,TE(s)),o}getBeforeBody(t,e){return ME(LE(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:n}=e,i=[];return hv(t,t=>{const e={before:[],lines:[],after:[]},r=DE(n,t);kE(e.before,TE(LE(r,"beforeLabel",this,t))),kE(e.lines,LE(r,"label",this,t)),kE(e.after,TE(LE(r,"afterLabel",this,t))),i.push(e)}),i}getAfterBody(t,e){return ME(LE(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:n}=e,i=LE(n,"beforeFooter",this,t),r=LE(n,"footer",this,t),s=LE(n,"afterFooter",this,t);let o=[];return o=kE(o,TE(i)),o=kE(o,TE(r)),o=kE(o,TE(s)),o}_createItems(t){const e=this._active,n=this.chart.data,i=[],r=[],s=[];let o,a,l=[];for(o=0,a=e.length;o<a;++o)l.push(CE(this.chart,e[o]));return t.filter&&(l=l.filter((e,i,r)=>t.filter(e,i,r,n))),t.itemSort&&(l=l.sort((e,i)=>t.itemSort(e,i,n))),hv(l,e=>{const n=DE(t.callbacks,e);i.push(LE(n,"labelColor",this,e)),r.push(LE(n,"labelPointStyle",this,e)),s.push(LE(n,"labelTextColor",this,e))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=s,this.dataPoints=l,l}update(t,e){const n=this.options.setContext(this.getContext()),i=this._active;let r,s=[];if(i.length){const t=SE[n.position].call(this,i,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);const e=this._size=IE(this,n),o=Object.assign({},t,e),a=PE(this.chart,n,o),l=RE(n,o,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,r={opacity:1,x:l.x,y:l.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(r={opacity:0});this._tooltipItems=s,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,i){const r=this.getCaretPosition(t,n,i);e.lineTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineTo(r.x3,r.y3)}getCaretPosition(t,e,n){const{xAlign:i,yAlign:r}=this,{caretSize:s,cornerRadius:o}=n,{topLeft:a,topRight:l,bottomLeft:c,bottomRight:u}=Gb(o),{x:h,y:d}=t,{width:f,height:p}=e;let g,m,y,v,b,w;return"center"===r?(b=d+p/2,"left"===i?(g=h,m=g-s,v=b+s,w=b-s):(g=h+f,m=g+s,v=b-s,w=b+s),y=g):(m="left"===i?h+Math.max(a,c)+s:"right"===i?h+f-Math.max(l,u)-s:this.caretX,"top"===r?(v=d,b=v-s,g=m-s,y=m+s):(v=d+p,b=v+s,g=m+s,y=m-s),w=v),{x1:g,x2:m,x3:y,y1:v,y2:b,y3:w}}drawTitle(t,e,n){const i=this.title,r=i.length;let s,o,a;if(r){const l=Dw(n.rtl,this.x,this.width);for(t.x=OE(this,n.titleAlign,n),e.textAlign=l.textAlign(n.titleAlign),e.textBaseline="middle",s=Yb(n.titleFont),o=n.titleSpacing,e.fillStyle=n.titleColor,e.font=s.string,a=0;a<r;++a)e.fillText(i[a],l.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+o,a+1===r&&(t.y+=n.titleMarginBottom-o)}}_drawColorBox(t,e,n,i,r){const s=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:a,boxWidth:l}=r,c=Yb(r.bodyFont),u=OE(this,"left",r),h=i.x(u),d=a<c.lineHeight?(c.lineHeight-a)/2:0,f=e.y+d;if(r.usePointStyle){const e={radius:Math.min(l,a)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},n=i.leftForLtr(h,l)+l/2,c=f+a/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,Pb(t,e,n,c),t.strokeStyle=s.borderColor,t.fillStyle=s.backgroundColor,Pb(t,e,n,c)}else{t.lineWidth=sv(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,t.strokeStyle=s.borderColor,t.setLineDash(s.borderDash||[]),t.lineDashOffset=s.borderDashOffset||0;const e=i.leftForLtr(h,l),n=i.leftForLtr(i.xPlus(h,1),l-2),o=Gb(s.borderRadius);Object.values(o).some(t=>0!==t)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,zb(t,{x:e,y:f,w:l,h:a,radius:o}),t.fill(),t.stroke(),t.fillStyle=s.backgroundColor,t.beginPath(),zb(t,{x:n,y:f+1,w:l-2,h:a-2,radius:o}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(e,f,l,a),t.strokeRect(e,f,l,a),t.fillStyle=s.backgroundColor,t.fillRect(n,f+1,l-2,a-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:i}=this,{bodySpacing:r,bodyAlign:s,displayColors:o,boxHeight:a,boxWidth:l,boxPadding:c}=n,u=Yb(n.bodyFont);let h=u.lineHeight,d=0;const f=Dw(n.rtl,this.x,this.width),p=function(n){e.fillText(n,f.x(t.x+d),t.y+h/2),t.y+=h+r},g=f.textAlign(s);let m,y,v,b,w,_,x;for(e.textAlign=s,e.textBaseline="middle",e.font=u.string,t.x=OE(this,g,n),e.fillStyle=n.bodyColor,hv(this.beforeBody,p),d=o&&"right"!==g?"center"===s?l/2+c:l+2+c:0,b=0,_=i.length;b<_;++b){for(m=i[b],y=this.labelTextColors[b],e.fillStyle=y,hv(m.before,p),v=m.lines,o&&v.length&&(this._drawColorBox(e,t,b,f,n),h=Math.max(u.lineHeight,a)),w=0,x=v.length;w<x;++w)p(v[w]),h=u.lineHeight;hv(m.after,p)}d=0,h=u.lineHeight,hv(this.afterBody,p),t.y-=r}drawFooter(t,e,n){const i=this.footer,r=i.length;let s,o;if(r){const a=Dw(n.rtl,this.x,this.width);for(t.x=OE(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=a.textAlign(n.footerAlign),e.textBaseline="middle",s=Yb(n.footerFont),e.fillStyle=n.footerColor,e.font=s.string,o=0;o<r;++o)e.fillText(i[o],a.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+n.footerSpacing}}drawBackground(t,e,n,i){const{xAlign:r,yAlign:s}=this,{x:o,y:a}=t,{width:l,height:c}=n,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=Gb(i.cornerRadius);e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.beginPath(),e.moveTo(o+u,a),"top"===s&&this.drawCaret(t,e,n,i),e.lineTo(o+l-h,a),e.quadraticCurveTo(o+l,a,o+l,a+h),"center"===s&&"right"===r&&this.drawCaret(t,e,n,i),e.lineTo(o+l,a+c-f),e.quadraticCurveTo(o+l,a+c,o+l-f,a+c),"bottom"===s&&this.drawCaret(t,e,n,i),e.lineTo(o+d,a+c),e.quadraticCurveTo(o,a+c,o,a+c-d),"center"===s&&"left"===r&&this.drawCaret(t,e,n,i),e.lineTo(o,a+u),e.quadraticCurveTo(o,a,o+u,a),e.closePath(),e.fill(),i.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,i=n&&n.x,r=n&&n.y;if(i||r){const n=SE[t.position].call(this,this._active,this._eventPosition);if(!n)return;const s=this._size=IE(this,t),o=Object.assign({},n,this._size),a=PE(e,t,o),l=RE(t,o,a,e);i._to===l.x&&r._to===l.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=s.width,this.height=s.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=Qb(e.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&o&&(t.save(),t.globalAlpha=n,this.drawBackground(r,t,i,e),Nw(t,e.textDirection),r.y+=s.top,this.drawTitle(r,t,e),this.drawBody(r,t,e),this.drawFooter(r,t,e),Lw(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,i=t.map(t=>{let{datasetIndex:e,index:n}=t;const i=this.chart.getDatasetMeta(e);if(!i)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:i.data[n],index:n}}),r=!dv(n,i),s=this._positionChanged(i,e);(r||s)&&(this._active=i,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],s=this._getActiveElements(t,r,e,n),o=this._positionChanged(s,t),a=e||!dv(s,r)||o;return a&&(this._active=s,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),a}_getActiveElements(t,e,n,i){const r=this.options;if("mouseout"===t.type)return[];if(!i)return e.filter(t=>this.chart.data.datasets[t.datasetIndex]&&void 0!==this.chart.getDatasetMeta(t.datasetIndex).controller.getParsed(t.index));const s=this.chart.getElementsAtEventForMode(t,r.mode,r,n);return r.reverse&&s.reverse(),s}_positionChanged(t,e){const{caretX:n,caretY:i,options:r}=this,s=SE[r.position].call(this,t,e);return!1!==s&&(n!==s.x||i!==s.y)}}l(FE,"positioners",SE);function VE(t,e,n,i){const r=t.indexOf(e);if(-1===r)return((t,e,n,i)=>("string"===typeof e?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n))(t,e,n,i);return r!==t.lastIndexOf(e)?n:r}function UE(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class zE extends xx{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:n,label:i}of e)t[n]===i&&t.splice(n,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(iv(t))return null;const n=this.getLabels();return((t,e)=>null===t?null:Gv(Math.round(t),0,e))(e=isFinite(e)&&n[e]===t?e:VE(n,t,lv(e,t),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(n=0),e||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const t=this.min,e=this.max,n=this.options.offset,i=[];let r=this.getLabels();r=0===t&&e===r.length-1?r:r.slice(t,e+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let s=t;s<=e;s++)i.push({value:s});return i}getLabelForValue(t){return UE.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!==typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function jE(t,e){const n=[],{bounds:i,step:r,min:s,max:o,precision:a,count:l,maxTicks:c,maxDigits:u,includeBounds:h}=t,d=r||1,f=c-1,{min:p,max:g}=e,m=!iv(s),y=!iv(o),v=!iv(l),b=(g-p)/(u+1);let w,_,x,E,S=Lv((g-p)/f/d)*d;if(S<1e-14&&!m&&!y)return[{value:p},{value:g}];E=Math.ceil(g/S)-Math.floor(p/S),E>f&&(S=Lv(E*S/f/d)*d),iv(a)||(w=Math.pow(10,a),S=Math.ceil(S*w)/w),"ticks"===i?(_=Math.floor(p/S)*S,x=Math.ceil(g/S)*S):(_=p,x=g),m&&y&&r&&function(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}((o-s)/r,S/1e3)?(E=Math.round(Math.min((o-s)/S,c)),S=(o-s)/E,_=s,x=o):v?(_=m?s:_,x=y?o:x,E=l-1,S=(x-_)/E):(E=(x-_)/S,E=Nv(E,Math.round(E),S/1e3)?Math.round(E):Math.ceil(E));const k=Math.max(jv(S),jv(_));w=Math.pow(10,iv(a)?k:a),_=Math.round(_*w)/w,x=Math.round(x*w)/w;let T=0;for(m&&(h&&_!==s?(n.push({value:s}),_<s&&T++,Nv(Math.round((_+T*S)*w)/w,s,BE(s,b,t))&&T++):_<s&&T++);T<E;++T){const t=Math.round((_+T*S)*w)/w;if(y&&t>o)break;n.push({value:t})}return y&&h&&x!==o?n.length&&Nv(n[n.length-1].value,o,BE(o,b,t))?n[n.length-1].value=o:n.push({value:o}):y&&x!==o||n.push({value:x}),n}function BE(t,e,n){let{horizontal:i,minRotation:r}=n;const s=Uv(r),o=(i?Math.sin(s):Math.cos(s))||.001,a=.75*e*(""+t).length;return Math.min(e/o,a)}l(zE,"id","category"),l(zE,"defaults",{ticks:{callback:UE}});class HE extends xx{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return iv(t)||("number"===typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this;const s=t=>i=e?i:t,o=t=>r=n?r:t;if(t){const t=Dv(i),e=Dv(r);t<0&&e<0?o(0):t>0&&e>0&&s(0)}if(i===r){let e=0===r?1:Math.abs(.05*r);o(r+e),t||s(i-e)}this.min=i,this.max=r}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:n,stepSize:i}=t;return i?(e=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,e>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(i," would result generating up to ").concat(e," ticks. Limiting to 1000.")),e=1e3)):(e=this.computeTickLimit(),n=n||11),n&&(e=Math.min(n,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i=jE({maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&Vv(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const i=(n-e)/Math.max(t.length-1,1)/2;e-=i,n+=i}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return yb(t,this.chart.options.locale,this.options.ticks.format)}}class WE extends HE{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ov(t)?t:0,this.max=ov(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=Uv(this.options.ticks.minRotation),i=(t?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/i))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}l(WE,"id","linear"),l(WE,"defaults",{ticks:{callback:bb.formatters.numeric}});const qE=t=>Math.floor(Mv(t)),KE=(t,e)=>Math.pow(10,qE(t)+e);function GE(t){return 1===t/Math.pow(10,qE(t))}function QE(t,e,n){const i=Math.pow(10,n),r=Math.floor(t/i);return Math.ceil(e/i)-r}function YE(t,e){let{min:n,max:i}=e;n=av(t.min,n);const r=[],s=qE(n);let o=function(t,e){let n=qE(e-t);for(;QE(t,e,n)>10;)n++;for(;QE(t,e,n)<10;)n--;return Math.min(n,qE(t))}(n,i),a=o<0?Math.pow(10,Math.abs(o)):1;const l=Math.pow(10,o),c=s>o?Math.pow(10,s):0,u=Math.round((n-c)*a)/a,h=Math.floor((n-c)/l/10)*l*10;let d=Math.floor((u-h)/Math.pow(10,o)),f=av(t.min,Math.round((c+h+d*Math.pow(10,o))*a)/a);for(;f<i;)r.push({value:f,major:GE(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(o++,d=2,a=o>=0?1:a),f=Math.round((c+h+d*Math.pow(10,o))*a)/a;const p=av(t.max,f);return r.push({value:p,major:GE(p),significand:d}),r}class XE extends xx{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const n=HE.prototype.parse.apply(this,[t,e]);if(0!==n)return ov(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ov(t)?Math.max(0,t):null,this.max=ov(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ov(this._userMin)&&(this.min=t===KE(this.min,0)?KE(this.min,-1):KE(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let n=this.min,i=this.max;const r=e=>n=t?n:e,s=t=>i=e?i:t;n===i&&(n<=0?(r(1),s(10)):(r(KE(n,-1)),s(KE(i,1)))),n<=0&&r(KE(i,-1)),i<=0&&s(KE(n,1)),this.min=n,this.max=i}buildTicks(){const t=this.options,e=YE({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&Vv(e,this,"value"),t.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}getLabelForValue(t){return void 0===t?"0":yb(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Mv(t),this._valueRange=Mv(this.max)-Mv(t)}getPixelForValue(t){return void 0!==t&&0!==t||(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Mv(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function JE(t){const e=t.ticks;if(e.display&&t.display){const t=Qb(e.backdropPadding);return lv(e.font&&e.font.size,kb.font.size)+t.height}return 0}function $E(t,e,n){return n=rv(n)?n:[n],{w:Cb(t,e.string,n),h:n.length*e.lineHeight}}function ZE(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||t>r?{start:e-n,end:e}:{start:e,end:e+n}}function tS(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],r=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?kv/s:0;for(let l=0;l<s;l++){const s=o.setContext(t.getPointLabelContext(l));r[l]=s.padding;const c=t.getPointPosition(l,t.drawingArea+r[l],a),u=Yb(s.font),h=$E(t.ctx,u,t._pointLabels[l]);i[l]=h;const d=qv(t.getIndexAngle(l)+a),f=Math.round(zv(d));eS(n,e,d,ZE(f,c.x,h.w,0,180),ZE(f,c.y,h.h,90,270))}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=function(t,e,n){const i=[],r=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:JE(s)/2,additionalAngle:o?kv/r:0};let c;for(let u=0;u<r;u++){l.padding=n[u],l.size=e[u];const r=nS(t,u,l);i.push(r),"auto"===a&&(r.visible=iS(r,c),r.visible&&(c=r))}return i}(t,i,r)}function eS(t,e,n,i,r){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<e.l?(a=(e.l-i.start)/s,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),r.start<e.t?(l=(e.t-r.start)/o,t.t=Math.min(t.t,e.t-l)):r.end>e.b&&(l=(r.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function nS(t,e,n){const i=t.drawingArea,{extra:r,additionalAngle:s,padding:o,size:a}=n,l=t.getPointPosition(e,i+r+o,s),c=Math.round(zv(qv(l.angle+Pv))),u=function(t,e,n){90===n||270===n?t-=e/2:(n>270||n<90)&&(t-=e);return t}(l.y,a.h,c),h=function(t){if(0===t||180===t)return"center";if(t<180)return"left";return"right"}(c),d=function(t,e,n){"right"===n?t-=e:"center"===n&&(t-=e/2);return t}(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:d,top:u,right:d+a.w,bottom:u+a.h}}function iS(t,e){if(!e)return!0;const{left:n,top:i,right:r,bottom:s}=t;return!(Ob({x:n,y:i},e)||Ob({x:n,y:s},e)||Ob({x:r,y:i},e)||Ob({x:r,y:s},e))}function rS(t,e,n){const{left:i,top:r,right:s,bottom:o}=n,{backdropColor:a}=e;if(!iv(a)){const n=Gb(e.borderRadius),l=Qb(e.backdropPadding);t.fillStyle=a;const c=i-l.left,u=r-l.top,h=s-i+l.width,d=o-r+l.height;Object.values(n).some(t=>0!==t)?(t.beginPath(),zb(t,{x:c,y:u,w:h,h:d,radius:n}),t.fill()):t.fillRect(c,u,h,d)}}function sS(t,e,n,i){const{ctx:r}=t;if(n)r.arc(t.xCenter,t.yCenter,e,0,Tv);else{let n=t.getPointPosition(0,e);r.moveTo(n.x,n.y);for(let s=1;s<i;s++)n=t.getPointPosition(s,e),r.lineTo(n.x,n.y)}}l(XE,"id","logarithmic"),l(XE,"defaults",{ticks:{callback:bb.formatters.logarithmic,major:{enabled:!0}}});class oS extends HE{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Qb(JE(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=ov(t)&&!isNaN(t)?t:0,this.max=ov(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/JE(this.options))}generateTickLabels(t){HE.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((t,e)=>{const n=uv(this.options.pointLabels.callback,[t,e],this);return n||0===n?n:""}).filter((t,e)=>this.chart.getDataVisibility(e))}fit(){const t=this.options;t.display&&t.pointLabels.display?tS(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,i){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,i))}getIndexAngle(t){return qv(t*(Tv/(this._pointLabels.length||1))+Uv(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(iv(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(iv(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const n=e[t];return function(t,e,n){return Jb(t,{label:n,index:e,type:"pointLabel"})}(this.getContext(),t,n)}}getPointPosition(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=this.getIndexAngle(t)-Pv+n;return{x:Math.cos(i)*e+this.xCenter,y:Math.sin(i)*e+this.yCenter,angle:i}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:n,right:i,bottom:r}=this._pointLabelItems[t];return{left:e,top:n,right:i,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),sS(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:n,grid:i,border:r}=e,s=this._pointLabels.length;let o,a,l;if(e.pointLabels.display&&function(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let r=e-1;r>=0;r--){const e=t._pointLabelItems[r];if(!e.visible)continue;const s=i.setContext(t.getPointLabelContext(r));rS(n,s,e);const o=Yb(s.font),{x:a,y:l,textAlign:c}=e;Ub(n,t._pointLabels[r],a,l+o.lineHeight/2,o,{color:s.color,textAlign:c,textBaseline:"middle"})}}(this,s),i.display&&this.ticks.forEach((t,e)=>{if(0!==e||0===e&&this.min<0){a=this.getDistanceFromCenterForValue(t.value);const n=this.getContext(e),o=i.setContext(n),l=r.setContext(n);!function(t,e,n,i,r){const s=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!i||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(r.dash||[]),s.lineDashOffset=r.dashOffset,s.beginPath(),sS(t,n,o,i),s.closePath(),s.stroke(),s.restore())}(this,o,a,s,l)}}),n.display){for(t.save(),o=s-1;o>=0;o--){const i=n.setContext(this.getPointLabelContext(o)),{color:r,lineWidth:s}=i;s&&r&&(t.lineWidth=s,t.strokeStyle=r,t.setLineDash(i.borderDash),t.lineDashOffset=i.borderDashOffset,a=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),l=this.getPointPosition(o,a),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let r,s;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((i,o)=>{if(0===o&&this.min>=0&&!e.reverse)return;const a=n.setContext(this.getContext(o)),l=Yb(a.font);if(r=this.getDistanceFromCenterForValue(this.ticks[o].value),a.showLabelBackdrop){t.font=l.string,s=t.measureText(i.label).width,t.fillStyle=a.backdropColor;const e=Qb(a.backdropPadding);t.fillRect(-s/2-e.left,-r-l.size/2-e.top,s+e.width,l.size+e.height)}Ub(t,i.label,0,-r,l,{color:a.color,strokeColor:a.textStrokeColor,strokeWidth:a.textStrokeWidth})}),t.restore()}drawTitle(){}}l(oS,"id","radialLinear"),l(oS,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:bb.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}}),l(oS,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),l(oS,"descriptors",{angleLines:{_fallback:"grid"}});const aS={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},lS=Object.keys(aS);function cS(t,e){return t-e}function uS(t,e){if(iv(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts;let o=e;return"function"===typeof i&&(o=i(o)),ov(o)||(o="string"===typeof i?n.parse(o,i):n.parse(o)),null===o?null:(r&&(o="week"!==r||!Fv(s)&&!0!==s?n.startOf(o,r):n.startOf(o,"isoWeek",s)),+o)}function hS(t,e,n,i){const r=lS.length;for(let s=lS.indexOf(t);s<r-1;++s){const t=aS[lS[s]],r=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((n-e)/(r*t.size))<=i)return lS[s]}return lS[r-1]}function dS(t,e,n){if(n){if(n.length){const{lo:i,hi:r}=Yv(n,e);t[n[i]>=e?n[i]:n[r]]=!0}}else t[e]=!0}function fS(t,e,n){const i=[],r={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],r[a]=o,i.push({value:a,major:!1});return 0!==s&&n?function(t,e,n,i){const r=t._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}(t,i,r,n):i}class pS extends xx{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.time||(t.time={}),i=this._adapter=new I_(t.adapters.date);i.init(e),yv(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:uS(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,n=t.time.unit||"day";let{min:i,max:r,minDefined:s,maxDefined:o}=this.getUserBounds();function a(t){s||isNaN(t.min)||(i=Math.min(i,t.min)),o||isNaN(t.max)||(r=Math.max(r,t.max))}s&&o||(a(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source||a(this.getMinMax(!1))),i=ov(i)&&!isNaN(i)?i:+e.startOf(Date.now(),n),r=ov(r)&&!isNaN(r)?r:+e.endOf(Date.now(),n)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this.options,e=t.time,n=t.ticks,i="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,s=function(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}(i,r,this.max);return this._unit=e.unit||(n.autoSkip?hS(e.minUnit,this.min,this.max,this._getLabelCapacity(r)):function(t,e,n,i,r){for(let s=lS.length-1;s>=lS.indexOf(n);s--){const n=lS[s];if(aS[n].common&&t._adapter.diff(r,i,n)>=e-1)return n}return lS[n?lS.indexOf(n):0]}(this,s.length,e.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(t){for(let e=lS.indexOf(t)+1,n=lS.length;e<n;++e)if(aS[lS[e]].common)return lS[e]}(this._unit):void 0,this.initOffsets(i),t.reverse&&s.reverse(),fS(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(){let t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=0,r=0;this.options.offset&&n.length&&(t=this.getDecimalForValue(n[0]),i=1===n.length?1-t:(this.getDecimalForValue(n[1])-t)/2,e=this.getDecimalForValue(n[n.length-1]),r=1===n.length?e:(e-this.getDecimalForValue(n[n.length-2]))/2);const s=n.length<3?.5:.25;i=Gv(i,0,s),r=Gv(r,0,s),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const t=this._adapter,e=this.min,n=this.max,i=this.options,r=i.time,s=r.unit||hS(r.minUnit,e,n,this._getLabelCapacity(e)),o=lv(i.ticks.stepSize,1),a="week"===s&&r.isoWeekday,l=Fv(a)||!0===a,c={};let u,h,d=e;if(l&&(d=+t.startOf(d,"isoWeek",a)),d=+t.startOf(d,l?"day":s),t.diff(n,e,s)>1e5*o)throw new Error(e+" and "+n+" are too far apart with stepSize of "+o+" "+s);const f="data"===i.ticks.source&&this.getDataTimestamps();for(u=d,h=0;u<n;u=+t.add(u,o,s),h++)dS(c,u,f);return u!==n&&"ticks"!==i.bounds&&1!==h||dS(c,u,f),Object.keys(c).sort(cS).map(t=>+t)}getLabelForValue(t){const e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}format(t,e){const n=this.options.time.displayFormats,i=this._unit,r=e||n[i];return this._adapter.format(t,r)}_tickFormatFunction(t,e,n,i){const r=this.options,s=r.ticks.callback;if(s)return uv(s,[t,e,n],this);const o=r.time.displayFormats,a=this._unit,l=this._majorUnit,c=a&&o[a],u=l&&o[l],h=n[e],d=l&&u&&h&&h.major;return this._adapter.format(t,i||(d?u:c))}generateTickLabels(t){let e,n,i;for(e=0,n=t.length;e<n;++e)i=t[e],i.label=this._tickFormatFunction(i.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,n=this.ctx.measureText(t).width,i=Uv(this.isHorizontal()?e.maxRotation:e.minRotation),r=Math.cos(i),s=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:n*r+o*s,h:n*s+o*r}}_getLabelCapacity(t){const e=this.options.time,n=e.displayFormats,i=n[e.unit]||n.millisecond,r=this._tickFormatFunction(t,0,fS(this,[t],this._majorUnit),i),s=this._getLabelSize(r),o=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return o>0?o:1}getDataTimestamps(){let t,e,n=this._cache.data||[];if(n.length)return n;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,e=i.length;t<e;++t)n=n.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const t=this._cache.labels||[];let e,n;if(t.length)return t;const i=this.getLabels();for(e=0,n=i.length;e<n;++e)t.push(uS(this,i[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return tb(t.sort(cS))}}function gS(t,e,n){let i,r,s,o,a=0,l=t.length-1;n?(e>=t[a].pos&&e<=t[l].pos&&({lo:a,hi:l}=Xv(t,"pos",e)),({pos:i,time:s}=t[a]),({pos:r,time:o}=t[l])):(e>=t[a].time&&e<=t[l].time&&({lo:a,hi:l}=Xv(t,"time",e)),({time:i,pos:s}=t[a]),({time:r,pos:o}=t[l]));const c=r-i;return c?s+(o-s)*(e-i)/c:s}l(pS,"id","time"),l(pS,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class mS extends pS{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=gS(e,this.min),this._tableRange=gS(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:n}=this,i=[],r=[];let s,o,a,l,c;for(s=0,o=t.length;s<o;++s)l=t[s],l>=e&&l<=n&&i.push(l);if(i.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(s=0,o=i.length;s<o;++s)c=i[s+1],a=i[s-1],l=i[s],Math.round((c+a)/2)!==l&&r.push({time:l,pos:s/(o-1)});return r}_generate(){const t=this.min,e=this.max;let n=super.getDataTimestamps();return n.includes(t)&&n.length||n.splice(0,0,t),n.includes(e)&&1!==n.length||n.push(e),n.sort((t,e)=>t-e)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),n=this.getLabelTimestamps();return t=e.length&&n.length?this.normalize(e.concat(n)):e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(gS(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return gS(this._table,n*this._tableRange+this._minPos,!0)}}l(mS,"id","timeseries"),l(mS,"defaults",pS.defaults);const yS=["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent","updateMode"],vS="label";function bS(t,e){"function"===typeof t?t(e):t&&(t.current=e)}function wS(t,e){t.labels=e}function _S(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vS;const i=[];t.datasets=e.map(e=>{const r=t.datasets.find(t=>t[n]===e[n]);return r&&e.data&&!i.includes(r)?(i.push(r),Object.assign(r,e),r):u({},e)})}function xS(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vS;const n={labels:[],datasets:[]};return wS(n,t.labels),_S(n,t.datasets,e),n}function ES(t,e){const{height:n=150,width:i=300,redraw:s=!1,datasetIdKey:o,type:a,data:l,options:c,plugins:h=[],fallbackContent:d,updateMode:f}=t,p=ye(t,yS),g=(0,r.useRef)(null),m=(0,r.useRef)(null),y=()=>{g.current&&(m.current=new Zx(g.current,{type:a,data:xS(l,o),options:c&&u({},c),plugins:h}),bS(e,m.current))},v=()=>{bS(e,null),m.current&&(m.current.destroy(),m.current=null)};return(0,r.useEffect)(()=>{!s&&m.current&&c&&function(t,e){const n=t.options;n&&e&&Object.assign(n,e)}(m.current,c)},[s,c]),(0,r.useEffect)(()=>{!s&&m.current&&wS(m.current.config.data,l.labels)},[s,l.labels]),(0,r.useEffect)(()=>{!s&&m.current&&l.datasets&&_S(m.current.config.data,l.datasets,o)},[s,l.datasets]),(0,r.useEffect)(()=>{m.current&&(s?(v(),setTimeout(y)):m.current.update(f))},[s,c,l.labels,l.datasets,f]),(0,r.useEffect)(()=>{m.current&&(v(),setTimeout(y))},[a]),(0,r.useEffect)(()=>(y(),()=>v()),[]),r.createElement("canvas",u({ref:g,role:"img",height:n,width:i},p),d)}const SS=(0,r.forwardRef)(ES);function kS(t,e){return Zx.register(e),(0,r.forwardRef)((e,n)=>r.createElement(SS,u(u({},e),{},{ref:n,type:t})))}const TS=kS("line",__);function CS(t){let{user:e}=t;const[n,i]=(0,r.useState)([]);(0,r.useEffect)(()=>{(async()=>{const t=function(t,e){let n=[];for(var i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];e instanceof mp&&n.push(e),n=n.concat(r),function(t){const e=t.filter(t=>t instanceof bp).length,n=t.filter(t=>t instanceof vp).length;if(e>1||e>0&&n>0)throw new bs(vs.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)t=o._apply(t);return t}(Nf(Wp,"sessions"),function(t,e,n){const i=e,r=pp("where",t);return vp._create(r,i,n)}("uid","==",e.uid)),n=await function(t){t=Qs(t,Of);const e=Qs(t.firestore,jf),n=Bf(e),i=new Pp(e);return gp(t._query),Sf(n,t._query).then(n=>new Ip(e,i,t,n))}(t);i(n.docs.map(t=>t.data()))})()},[e]);const s={labels:n.map((t,e)=>"\uc138\uc158 ".concat(e+1)),datasets:[{label:"\uc815\ub2f5\ub960(%)",data:n.map(t=>Math.round(100*t.report.correctRate)),borderColor:"blue",fill:!1}]};return(0,Kp.jsxs)("section",{children:[(0,Kp.jsx)("h2",{children:"3. \ud559\uc2b5 \ub300\uc2dc\ubcf4\ub4dc"}),(0,Kp.jsx)(TS,{data:s})]})}function IS(t){let{user:e}=t;const[n,i]=(0,r.useState)(0);return(0,r.useEffect)(()=>Op(Lf(Wp,"users",e.uid),t=>{i(t.exists()?t.data().points:0)}),[e]),(0,Kp.jsxs)("section",{children:[(0,Kp.jsxs)("h2",{children:["\ud3ec\uc778\ud2b8: ",n]}),(0,Kp.jsx)("progress",{value:n,max:"100"})]})}function AS(){const[t,e]=(0,r.useState)(""),[n,i]=(0,r.useState)("");return(0,Kp.jsxs)("section",{children:[(0,Kp.jsx)("h2",{children:"\ucc57\ubd07 \ud29c\ud130"}),(0,Kp.jsx)("input",{value:t,onChange:t=>e(t.target.value),placeholder:"\uc9c8\ubb38 \uc785\ub825"}),(0,Kp.jsx)("button",{onClick:async()=>{const e=await wy.post("".concat(qp,"/chat"),{query:t});i(e.data.reply)},children:"\uc9c8\ubb38"}),(0,Kp.jsx)("div",{style:{whiteSpace:"pre-wrap",marginTop:10},children:n})]})}function PS(){const[t,e]=(0,r.useState)(null);return(0,r.useEffect)(()=>function(t,e,n,i){return B(t).onAuthStateChanged(e,n,i)}(Bp,e),[]),t?(0,Kp.jsxs)("div",{style:{padding:20},children:[(0,Kp.jsxs)("header",{children:[(0,Kp.jsx)("h1",{children:"Project_StudyMateAI"}),(0,Kp.jsx)("button",{onClick:()=>function(t){return B(t).signOut()}(Bp),children:"\ub85c\uadf8\uc544\uc6c3"})]}),(0,Kp.jsx)(IS,{user:t}),(0,Kp.jsx)(Qp,{user:t}),(0,Kp.jsx)(_y,{user:t}),(0,Kp.jsx)(CS,{user:t}),(0,Kp.jsx)(AS,{user:t})]}):(0,Kp.jsx)(Gp,{})}(0,s.H)(document.getElementById("root")).render((0,Kp.jsx)(PS,{}))})();
//# sourceMappingURL=main.7a95141c.js.map